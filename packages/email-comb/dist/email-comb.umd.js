/**
 * email-comb
 * Remove unused CSS from email templates
 * Version: 4.1.0
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://codsen.com/os/email-comb/
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).emailComb={})}(this,(function(e){"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(r){t(e,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function s(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e){return"string"==typeof e}var l={cb:void 0,i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],maxMismatches:0,firstMustMatch:!1,lastMustMatch:!1},u=function(e){return e+1};function f(e,t,r,i,o,s){void 0===o&&(o=!1),void 0===s&&(s=u);var a="function"==typeof r?r():r;if(+t<0&&o&&"EOL"===a)return a;var f=n(n({},l),i);if(t>=e.length&&!o)return!1;for(var c=o?1:r.length,h=!1,p=!1,g=f.maxMismatches,d=t,y=!1,m=!1,v=!1;e[d];){var T=s(d);if(f.trimBeforeMatching&&""===e[d].trim()){if(!e[T]&&o&&"EOL"===r)return!0;d=s(d)}else if(f&&!f.i&&f.trimCharsBeforeMatching&&f.trimCharsBeforeMatching.includes(e[d])||f&&f.i&&f.trimCharsBeforeMatching&&f.trimCharsBeforeMatching.map((function(e){return e.toLowerCase()})).includes(e[d].toLowerCase())){if(o&&"EOL"===r&&!e[T])return!0;d=s(d)}else{var b=T>d?r[r.length-c]:r[c-1];if(!f.i&&e[d]===b||f.i&&e[d].toLowerCase()===b.toLowerCase()){if(y||(y=!0),p||(p=!0),c===r.length?m=!0:1===c&&(v=!0),(c-=1)<1)return d}else{if(!(f.maxMismatches&&g&&d))return!(0!==d||1!==c||f.lastMustMatch||!p)&&0;g-=1;for(var _=0;_<=g;_++){var w=T>d?r[r.length-c+1+_]:r[c-2-_],O=e[s(d)];if(w&&(!f.i&&e[d]===w||f.i&&e[d].toLowerCase()===w.toLowerCase())&&(!f.firstMustMatch||c!==r.length)){c-=2,y=!0;break}if(O&&w&&(!f.i&&O===w||f.i&&O.toLowerCase()===w.toLowerCase())&&(!f.firstMustMatch||c!==r.length)){c-=1,y=!0;break}if(void 0===w&&g>=0&&y&&(!f.firstMustMatch||m)&&(!f.lastMustMatch||v))return d}y||(h=d)}if(!1!==h&&h!==d&&(h=!1),c<1)return d;d=s(d)}}return c>0?!(!o||"EOL"!==a)||!!(f&&f.maxMismatches>=c&&p)&&(h||0):void 0}function c(e,t,r,i,o){if(s(o)&&Object.prototype.hasOwnProperty.call(o,"trimBeforeMatching")&&"boolean"!=typeof o.trimBeforeMatching)throw new Error("string-match-left-right/"+e+"(): [THROW_ID_09] opts.trimBeforeMatching should be boolean!"+(Array.isArray(o.trimBeforeMatching)?" Did you mean to use opts.trimCharsBeforeMatching?":""));var u,c,h,p=n(n({},l),o);if("string"==typeof p.trimCharsBeforeMatching&&(p.trimCharsBeforeMatching="string"==typeof(u=p.trimCharsBeforeMatching)?u.length?[u]:[]:u),p.trimCharsBeforeMatching=p.trimCharsBeforeMatching.map((function(e){return a(e)?e:String(e)})),!a(t))return!1;if(!t.length)return!1;if(!Number.isInteger(r)||r<0)throw new Error("string-match-left-right/"+e+"(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: "+typeof r+", equal to:\n"+JSON.stringify(r,null,4));if(a(i))c=[i];else if(Array.isArray(i))c=i;else if(i){if("function"!=typeof i)throw new Error("string-match-left-right/"+e+"(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's "+typeof i+", equal to:\n"+JSON.stringify(i,null,4));(c=[]).push(i)}else c=i;if(o&&!s(o))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type \""+typeof o+'", and equal to:\n'+JSON.stringify(o,null,4));var g=0,d="";if(p&&p.trimCharsBeforeMatching&&p.trimCharsBeforeMatching.some((function(e,t){return e.length>1&&(g=t,d=e,!0)})))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index "+g+" is longer than 1 character, "+d.length+" (equals to "+d+"). Please split it into separate characters and put into array as separate elements.");if(!c||!Array.isArray(c)||Array.isArray(c)&&!c.length||Array.isArray(c)&&1===c.length&&a(c[0])&&!c[0].trim()){if("function"==typeof p.cb){var y,m=r;if("matchLeftIncl"!==e&&"matchRight"!==e||(m+=1),"L"===e[5])for(var v=m;v--;){var T=t[v];if((!p.trimBeforeMatching||p.trimBeforeMatching&&void 0!==T&&T.trim())&&(!p.trimCharsBeforeMatching||!p.trimCharsBeforeMatching.length||void 0!==T&&!p.trimCharsBeforeMatching.includes(T))){y=v;break}}else if(e.startsWith("matchRight"))for(var b=m;b<t.length;b++){var _=t[b];if((!p.trimBeforeMatching||p.trimBeforeMatching&&_.trim())&&(!p.trimCharsBeforeMatching||!p.trimCharsBeforeMatching.length||!p.trimCharsBeforeMatching.includes(_))){y=b;break}}if(void 0===y)return!1;var w=t[y],O=y+1,S="";return O&&O>0&&(S=t.slice(0,O)),"L"===e[5]?p.cb(w,S,y):(y&&y>0&&(S=t.slice(y)),p.cb(w,S,y))}var A="";throw o||(A=" More so, the whole options object, the fourth input argument, is missing!"),new Error("string-match-left-right/"+e+'(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!'+A)}for(var C=0,I=c.length;C<I;C++){var L=c[C],M=void 0,j=void 0,W="",R=r;"matchRight"===e?R+=1:"matchLeft"===e&&(R-=1);var x=f(t,R,L,p,h="function"==typeof c[C],(function(t){return"L"===e[5]?t-1:t+1}));if(x&&h&&"function"==typeof L&&"EOL"===L())return!(!L()||p.cb&&!p.cb(M,W,j))&&L();if(Number.isInteger(x)&&(j=e.startsWith("matchLeft")?x-1:x+1,W="L"===e[5]?t.slice(0,x):t.slice(j)),j<0&&(j=void 0),t[j]&&(M=t[j]),Number.isInteger(x)&&(!p.cb||p.cb(M,W,j)))return L}return!1}function h(e,t,r,n){return c("matchLeft",e,t,r,n)}function p(e,t,r,n){return c("matchRightIncl",e,t,r,n)}function g(e,t,r,n){return c("matchRight",e,t,r,n)}Function.prototype.toString.call(Object);var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){var t={exports:{}};e(t,t.exports)}((function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Boolean]",s="[object Date]",a="[object Function]",l="[object GeneratorFunction]",u="[object Map]",f="[object Number]",c="[object Object]",h="[object Promise]",p="[object RegExp]",g="[object Set]",y="[object String]",m="[object Symbol]",v="[object WeakMap]",T="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",C="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",j=/\w*$/,W=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,x={};x[i]=x["[object Array]"]=x[T]=x[b]=x[o]=x[s]=x[_]=x[w]=x[O]=x[S]=x[A]=x[u]=x[f]=x[c]=x[p]=x[g]=x[y]=x[m]=x[C]=x[I]=x[L]=x[M]=!0,x["[object Error]"]=x[a]=x[v]=!1;var F="object"==typeof self&&self&&self.Object===Object&&self,k="object"==typeof d&&d&&d.Object===Object&&d||F||Function("return this")(),P=t&&!t.nodeType&&t,E=P&&e&&!e.nodeType&&e,H=E&&E.exports===P;function N(e,t){return e.set(t[0],t[1]),e}function B(e,t){return e.add(t),e}function D(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function J(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function $(e,t){return function(r){return e(t(r))}}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var U,G=Array.prototype,V=Function.prototype,Z=Object.prototype,Y=k["__core-js_shared__"],K=(U=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",Q=V.toString,X=Z.hasOwnProperty,ee=Z.toString,te=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=H?k.Buffer:void 0,ne=k.Symbol,ie=k.Uint8Array,oe=$(Object.getPrototypeOf,Object),se=Object.create,ae=Z.propertyIsEnumerable,le=G.splice,ue=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,ce=$(Object.keys,Object),he=Ee(k,"DataView"),pe=Ee(k,"Map"),ge=Ee(k,"Promise"),de=Ee(k,"Set"),ye=Ee(k,"WeakMap"),me=Ee(Object,"create"),ve=Je(he),Te=Je(pe),be=Je(ge),_e=Je(de),we=Je(ye),Oe=ne?ne.prototype:void 0,Se=Oe?Oe.valueOf:void 0;function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Le(e){this.__data__=new Ce(e)}function Me(e,t){var r=$e(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&ze(e)}(e)&&X.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!X.call(e,s)||o&&("length"==s||Be(s,n))||r.push(s);return r}function je(e,t,r){var n=e[t];X.call(e,t)&&qe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function We(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}function Re(e,t,r,n,h,d,v){var W;if(n&&(W=d?n(e,h,d,v):n(e)),void 0!==W)return W;if(!Ve(e))return e;var R=$e(e);if(R){if(W=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&X.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,W)}else{var F=Ne(e),k=F==a||F==l;if(Ue(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(F==c||F==i||k&&!d){if(J(e))return d?e:{};if(W=function(e){return"function"!=typeof e.constructor||De(e)?{}:(t=oe(e),Ve(t)?se(t):{});var t}(k?{}:e),!t)return function(e,t){return ke(e,He(e),t)}(e,function(e,t){return e&&ke(t,Ze(t),e)}(W,e))}else{if(!x[F])return d?e:{};W=function(e,t,r,n){var i=e.constructor;switch(t){case T:return Fe(e);case o:case s:return new i(+e);case b:return function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case _:case w:case O:case S:case A:case C:case I:case L:case M:return function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case u:return function(e,t,r){return D(t?r(q(e),!0):q(e),N,new e.constructor)}(e,n,r);case f:case y:return new i(e);case p:return function(e){var t=new e.constructor(e.source,j.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,r){return D(t?r(z(e),!0):z(e),B,new e.constructor)}(e,n,r);case m:return a=e,Se?Object(Se.call(a)):{}}var a}(e,F,Re,t)}}v||(v=new Le);var P=v.get(e);if(P)return P;if(v.set(e,W),!R)var E=r?function(e){return function(e,t,r){var n=t(e);return $e(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ze,He)}(e):Ze(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(E||e,(function(i,o){E&&(i=e[o=i]),je(W,o,Re(i,t,r,n,o,e,v))})),W}function xe(e){return!(!Ve(e)||(t=e,K&&K in t))&&(Ge(e)||J(e)?te:W).test(Je(e));var t}function Fe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function ke(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=n?n(r[s],e[s],s,r,e):void 0;je(r,s,void 0===a?e[s]:a)}return r}function Pe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ee(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return xe(r)?r:void 0}Ae.prototype.clear=function(){this.__data__=me?me(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return X.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:X.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?r:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,r=We(t,e);return!(r<0)&&(r==t.length-1?t.pop():le.call(t,r,1),!0)},Ce.prototype.get=function(e){var t=this.__data__,r=We(t,e);return r<0?void 0:t[r][1]},Ce.prototype.has=function(e){return We(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var r=this.__data__,n=We(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new Ae,map:new(pe||Ce),string:new Ae}},Ie.prototype.delete=function(e){return Pe(this,e).delete(e)},Ie.prototype.get=function(e){return Pe(this,e).get(e)},Ie.prototype.has=function(e){return Pe(this,e).has(e)},Ie.prototype.set=function(e,t){return Pe(this,e).set(e,t),this},Le.prototype.clear=function(){this.__data__=new Ce},Le.prototype.delete=function(e){return this.__data__.delete(e)},Le.prototype.get=function(e){return this.__data__.get(e)},Le.prototype.has=function(e){return this.__data__.has(e)},Le.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ce){var n=r.__data__;if(!pe||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ie(n)}return r.set(e,t),this};var He=ue?$(ue,Object):function(){return[]},Ne=function(e){return ee.call(e)};function Be(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||R.test(e))&&e>-1&&e%1==0&&e<t}function De(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function Je(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(he&&Ne(new he(new ArrayBuffer(1)))!=b||pe&&Ne(new pe)!=u||ge&&Ne(ge.resolve())!=h||de&&Ne(new de)!=g||ye&&Ne(new ye)!=v)&&(Ne=function(e){var t=ee.call(e),r=t==c?e.constructor:void 0,n=r?Je(r):void 0;if(n)switch(n){case ve:return b;case Te:return u;case be:return h;case _e:return g;case we:return v}return t});var $e=Array.isArray;function ze(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!Ge(e)}var Ue=fe||function(){return!1};function Ge(e){var t=Ve(e)?ee.call(e):"";return t==a||t==l}function Ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ze(e){return ze(e)?Me(e):function(e){if(!De(e))return ce(e);var t=[];for(var r in Object(e))X.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Re(e,!0,!0)}}));var y=" ";function m(e,t){return void 0===t&&(t=0),function(e){var t=e.str,r=e.idx,n=void 0===r?0:r,i=e.stopAtNewlines,o=void 0!==i&&i,s=e.stopAtRawNbsp,a=void 0!==s&&s;if("string"!=typeof t||!t.length)return null;if(n&&"number"==typeof n||(n=0),!t[n+1])return null;if(t[n+1]&&(t[n+1].trim()||o&&"\n\r".includes(t[n+1])||a&&t[n+1]===y))return n+1;if(t[n+2]&&(t[n+2].trim()||o&&"\n\r".includes(t[n+2])||a&&t[n+2]===y))return n+2;for(var l=n+1,u=t.length;l<u;l++)if(t[l].trim()||o&&"\n\r".includes(t[l])||a&&t[l]===y)return l;return null}({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function v(e,t){return void 0===t&&(t=0),function(e){var t=e.str,r=e.idx,n=e.stopAtNewlines,i=e.stopAtRawNbsp;if("string"!=typeof t||!t.length)return null;if(r&&"number"==typeof r||(r=0),r<1)return null;if(t[~-r]&&(t[~-r].trim()||n&&"\n\r".includes(t[~-r])||i&&t[~-r]===y))return~-r;if(t[r-2]&&(t[r-2].trim()||n&&"\n\r".includes(t[r-2])||i&&t[r-2]===y))return r-2;for(var o=r;o--;)if(t[o]&&(t[o].trim()||n&&"\n\r".includes(t[o])||i&&t[o]===y))return o;return null}({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function T(e){if("string"!=typeof e)throw new TypeError("string-extract-class-names: [THROW_ID_01] first str should be string, not "+typeof e+", currently equal to "+JSON.stringify(e,null,4));var t;function r(e){return"string"==typeof e&&!!e.length&&(e.charCodeAt(0)>64&&e.charCodeAt(0)<91||e.charCodeAt(0)>96&&e.charCodeAt(0)<123)}for(var n=null,i={res:[],ranges:[]},o=0,s=e.length;o<=s;o++){null!==n&&o>=n&&(!e[o]||!e[o].trim()||".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`".includes(e[o]))&&(o>n+1&&(i.ranges.push([n,o]),i.res.push(""+(t||"")+e.slice(n,o)),t&&(t=void 0)),n=null),!e[o]||null!==n||"."!==e[o]&&"#"!==e[o]||(n=o);var a=m(e,o+4);e.startsWith("class",o)&&"number"==typeof v(e,o)&&"["===e[v(e,o)]&&"number"==typeof a&&"="===e[a]&&(m(e,a)&&r(e[m(e,a)])?n=m(e,a):"'\"".includes(e[m(e,a)])&&r(e[m(e,m(e,a))])&&(n=m(e,m(e,a))),t=".");var l=m(e,o+1);e.startsWith("id",o)&&"["===e[v(e,o)]&&null!==l&&"="===e[l]&&(r(e[m(e,l)])?n=m(e,l):"'\"".includes(e[m(e,l)])&&r(e[m(e,m(e,l))])&&(n=m(e,m(e,l))),t="#")}return i.ranges.length||(i.ranges=null),i}var b=new Map;function _(e,t){t=n({caseSensitive:!1},t);var r=e+JSON.stringify(t);if(b.has(r))return b.get(r);var i="!"===e[0];i&&(e=e.slice(1)),e=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e).replace(/\\\*/g,"[\\s\\S]*");var o=new RegExp("^"+e+"$",t.caseSensitive?"":"i");return o.negated=i,b.set(r,o),o}var w=function(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Expected two arrays, got "+typeof e+" "+typeof t);if(0===t.length)return e;var n="!"===t[0][0];t=t.map((function(e){return _(e,r)}));for(var i,s=[],a=o(e);!(i=a()).done;){for(var l,u=i.value,f=n,c=o(t);!(l=c()).done;){var h=l.value;h.test(u)&&(f=!h.negated)}f&&s.push(u)}return s};function O(e,t,r){if(!e.length)return[];if(!e.length||!t.length)return Array.from(e);var i="string"==typeof t?[t]:Array.from(t),o=n(n({},{caseSensitive:!0}),r);return Array.from(e).filter((function(e){return!i.some((function(t){return w.isMatch(e,t,{caseSensitive:o.caseSensitive})}))}))}w.isMatch=function(e,t,r){var n=Array.isArray(e)?e:[e],i=Array.isArray(t)?t:[t];return n.some((function(e){return i.every((function(t){var n=_(t,r),i=n.test(e);return n.negated?!i:i}))}))};var S="__lodash_hash_undefined__",A=9007199254740991,C=/^\[object .+?Constructor\]$/,I="object"==typeof self&&self&&self.Object===Object&&self,L="object"==typeof d&&d&&d.Object===Object&&d||I||Function("return this")();function M(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function j(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,x,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function W(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function R(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function x(e){return e!=e}function F(e){return function(t){return e(t)}}function k(e,t){return e.has(t)}var P,E,H,N=Array.prototype,B=Function.prototype,D=Object.prototype,J=L["__core-js_shared__"],q=(P=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",$=B.toString,z=D.hasOwnProperty,U=D.toString,G=RegExp("^"+$.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=N.splice,Z=Math.max,Y=Math.min,K=ae(L,"Map"),Q=ae(Object,"create");function X(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function re(e){var t=-1,r=e?e.length:0;for(this.__data__=new te;++t<r;)this.add(e[t])}function ne(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function ie(e){return!(!ue(e)||(t=e,q&&q in t))&&(le(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?G:C).test(function(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function oe(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=A}(e.length)&&!le(e)}(e)}(e)?e:[]}function se(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ae(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ie(r)?r:void 0}function le(e){var t=ue(e)?U.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function ue(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}X.prototype.clear=function(){this.__data__=Q?Q(null):{}},X.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},X.prototype.get=function(e){var t=this.__data__;if(Q){var r=t[e];return r===S?void 0:r}return z.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:z.call(t,e)},X.prototype.set=function(e,t){return this.__data__[e]=Q&&void 0===t?S:t,this},ee.prototype.clear=function(){this.__data__=[]},ee.prototype.delete=function(e){var t=this.__data__,r=ne(t,e);return!(r<0)&&(r==t.length-1?t.pop():V.call(t,r,1),!0)},ee.prototype.get=function(e){var t=this.__data__,r=ne(t,e);return r<0?void 0:t[r][1]},ee.prototype.has=function(e){return ne(this.__data__,e)>-1},ee.prototype.set=function(e,t){var r=this.__data__,n=ne(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},te.prototype.clear=function(){this.__data__={hash:new X,map:new(K||ee),string:new X}},te.prototype.delete=function(e){return se(this,e).delete(e)},te.prototype.get=function(e){return se(this,e).get(e)},te.prototype.has=function(e){return se(this,e).has(e)},te.prototype.set=function(e,t){return se(this,e).set(e,t),this},re.prototype.add=re.prototype.push=function(e){return this.__data__.set(e,S),this},re.prototype.has=function(e){return this.__data__.has(e)};var fe=(E=function(e){var t=R(e,oe);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?W:j,i=e[0].length,o=e.length,s=o,a=Array(o),l=1/0,u=[];s--;){var f=e[s];s&&t&&(f=R(f,F(t))),l=Y(f.length,l),a[s]=!r&&(t||i>=120&&f.length>=120)?new re(s&&f):void 0}f=e[0];var c=-1,h=a[0];e:for(;++c<i&&u.length<l;){var p=f[c],g=t?t(p):p;if(p=r||0!==p?p:0,!(h?k(h,g):n(u,g,r))){for(s=o;--s;){var d=a[s];if(!(d?k(d,g):n(e[s],g,r)))continue e}h&&h.push(g),u.push(p)}}return u}(t):[]},H=Z(void 0===H?E.length-1:H,0),function(){for(var e=arguments,t=-1,r=Z(e.length-H,0),n=Array(r);++t<r;)n[t]=e[H+t];t=-1;for(var i=Array(H+1);++t<H;)i[t]=e[t];return i[H]=n,M(E,this,i)}),ce={str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1};function he(e){var t,r=/^[0-9a-zA-Z]+$/;function i(e){return!(!e||"string"!=typeof e)&&!e.trim()}function o(e){return"string"==typeof e}if(!e||"object"!=typeof e||Array.isArray(e))throw t=void 0===e?"but it is missing completely.":null===e?"but it was given as null.":"but it was given as "+typeof e+", equal to:\n"+JSON.stringify(e,null,4)+".",new Error("string-range-expander: [THROW_ID_01] Input must be a plain object "+t);if("object"==typeof e&&null!==e&&!Array.isArray(e)&&!Object.keys(e).length)throw new Error("string-range-expander: [THROW_ID_02] Input must be a plain object but it was given as a plain object without any keys.");if("number"!=typeof e.from)throw new Error("string-range-expander: [THROW_ID_03] The input's \"from\" value opts.from, is not a number! Currently it's given as "+typeof e.from+", equal to "+JSON.stringify(e.from,null,0));if("number"!=typeof e.to)throw new Error("string-range-expander: [THROW_ID_04] The input's \"to\" value opts.to, is not a number! Currently it's given as "+typeof e.to+", equal to "+JSON.stringify(e.to,null,0));if(e&&e.str&&!e.str[e.from]&&e.from!==e.to)throw new Error('string-range-expander: [THROW_ID_05] The given input string opts.str ("'+e.str+'") must contain the character at index "from" ("'+e.from+'")');if(e&&e.str&&!e.str[e.to-1])throw new Error('string-range-expander: [THROW_ID_06] The given input string, opts.str ("'+e.str+'") must contain the character at index before "to" ("'+(e.to-1)+'")');if(e.from>e.to)throw new Error('string-range-expander: [THROW_ID_07] The given "from" index, "'+e.from+'" is greater than "to" index, "'+e.to+"\". That's wrong!");if(o(e.extendToOneSide)&&"left"!==e.extendToOneSide&&"right"!==e.extendToOneSide||!o(e.extendToOneSide)&&void 0!==e.extendToOneSide&&!1!==e.extendToOneSide)throw new Error("string-range-expander: [THROW_ID_08] The opts.extendToOneSide value is not recogniseable! It's set to: \""+e.extendToOneSide+'" ('+typeof e.extendToOneSide+'). It has to be either Boolean "false" or strings "left" or "right"');var s=n(n({},ce),e);if(Array.isArray(s.ifLeftSideIncludesThisThenCropTightly)){var a,l;if(!s.ifLeftSideIncludesThisThenCropTightly.every((function(e,t){return!!o(e)||(a=t,l=e,!1)})))throw new Error("string-range-expander: [THROW_ID_09] The opts.ifLeftSideIncludesThisThenCropTightly was set to an array:\n"+JSON.stringify(s.ifLeftSideIncludesThisThenCropTightly,null,4)+". Now, that array contains not only string elements. For example, an element at index "+a+" is of a type "+typeof l+" (equal to "+JSON.stringify(l,null,0)+").");s.ifLeftSideIncludesThisThenCropTightly=s.ifLeftSideIncludesThisThenCropTightly.join("")}var u=s.str,f=s.from,c=s.to;if("right"!==s.extendToOneSide&&(i(u[f-1])&&(i(u[f-2])||s.ifLeftSideIncludesThisCropItToo.includes(u[f-2]))||u[f-1]&&s.ifLeftSideIncludesThisCropItToo.includes(u[f-1])||s.wipeAllWhitespaceOnLeft&&i(u[f-1])))for(var h=f;h--;)if(!s.ifLeftSideIncludesThisCropItToo.includes(u[h])){if(u[h].trim()){f=s.wipeAllWhitespaceOnLeft||s.ifLeftSideIncludesThisCropItToo.includes(u[h+1])?h+1:h+2;break}if(0===h){f=s.wipeAllWhitespaceOnLeft?0:1;break}}if("left"!==s.extendToOneSide&&(i(u[c])&&(s.wipeAllWhitespaceOnRight||i(u[c+1]))||s.ifRightSideIncludesThisCropItToo.includes(u[c])))for(var p=c,g=u.length;p<g;p++)if(!s.ifRightSideIncludesThisCropItToo.includes(u[p])&&(u[p]&&u[p].trim()||void 0===u[p])){c=s.wipeAllWhitespaceOnRight||s.ifRightSideIncludesThisCropItToo.includes(u[p-1])?p:p-1;break}return("right"!==s.extendToOneSide&&o(s.ifLeftSideIncludesThisThenCropTightly)&&s.ifLeftSideIncludesThisThenCropTightly&&(u[f-2]&&s.ifLeftSideIncludesThisThenCropTightly.includes(u[f-2])||u[f-1]&&s.ifLeftSideIncludesThisThenCropTightly.includes(u[f-1]))||"left"!==s.extendToOneSide&&o(s.ifRightSideIncludesThisThenCropTightly)&&s.ifRightSideIncludesThisThenCropTightly&&(u[c+1]&&s.ifRightSideIncludesThisThenCropTightly.includes(u[c+1])||u[c]&&s.ifRightSideIncludesThisThenCropTightly.includes(u[c])))&&("right"!==s.extendToOneSide&&i(u[f-1])&&!s.wipeAllWhitespaceOnLeft&&(f-=1),"left"!==s.extendToOneSide&&i(u[c])&&!s.wipeAllWhitespaceOnRight&&(c+=1)),s.addSingleSpaceToPreventAccidentalConcatenation&&u[f-1]&&u[f-1].trim()&&u[c]&&u[c].trim()&&(!s.ifLeftSideIncludesThisThenCropTightly&&!s.ifRightSideIncludesThisThenCropTightly||s.ifLeftSideIncludesThisThenCropTightly&&!s.ifLeftSideIncludesThisThenCropTightly.includes(u[f-1])||!(!s.ifRightSideIncludesThisThenCropTightly||u[c]&&s.ifRightSideIncludesThisThenCropTightly.includes(u[c])))&&(r.test(u[f-1])||r.test(u[c]))?[f,c," "]:[f,c]}function pe(e,t){return void 0===t&&(t=0),e.codePointAt(t)||0}var ge={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function de(e,t){if(!Array.isArray(e)||!e.length)return e;var r,i,o=n(n({},ge),t);if(o.strictlyTwoElementsInRangeArrays&&!e.filter((function(e){return e})).every((function(e,t){return 2===e.length||(r=t,i=e.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, "+r+"th range ("+JSON.stringify(e[r],null,4)+") has not two but "+i+" elements!");if(!e.filter((function(e){return e})).every((function(e,t){return!(!Number.isInteger(e[0])||e[0]<0||!Number.isInteger(e[1])||e[1]<0)||(r=t,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, "+r+"th range ("+JSON.stringify(e[r],null,4)+") does not consist of only natural numbers!");var s=Math.pow(e.filter((function(e){return e})).length,2),a=0;return Array.from(e).filter((function(e){return e})).sort((function(e,t){return o.progressFn&&o.progressFn(Math.floor(100*(a+=1)/s)),e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1}))}var ye={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function me(e,t){function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var i;if(t){if(!r(t))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n"+JSON.stringify(t,null,4)+" (type "+typeof t+")");if((i=n(n({},ye),t)).progressFn&&r(i.progressFn)&&!Object.keys(i.progressFn).length)i.progressFn=null;else if(i.progressFn&&"function"!=typeof i.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'+typeof i.progressFn+'", equal to '+JSON.stringify(i.progressFn,null,4));if(i.mergeType&&1!=+i.mergeType&&2!=+i.mergeType)throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'+typeof i.mergeType+'", equal to '+JSON.stringify(i.mergeType,null,4));if("boolean"!=typeof i.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'+typeof i.joinRangesThatTouchEdges+'", equal to '+JSON.stringify(i.joinRangesThatTouchEdges,null,4))}else i=n({},ye);var o,s,a,l=e.filter((function(e){return e})).map((function(e){return[].concat(e)})).filter((function(e){return void 0!==e[2]||e[0]!==e[1]}));if(!(o=i.progressFn?de(l,{progressFn:function(e){(a=Math.floor(e/5))!==s&&(s=a,i.progressFn(a))}}):de(l)))return null;for(var u=o.length-1,f=u;f>0;f--)i.progressFn&&(a=Math.floor(78*(1-f/u))+21)!==s&&a>s&&(s=a,i.progressFn(a)),(o[f][0]<=o[f-1][0]||!i.joinRangesThatTouchEdges&&o[f][0]<o[f-1][1]||i.joinRangesThatTouchEdges&&o[f][0]<=o[f-1][1])&&(o[f-1][0]=Math.min(o[f][0],o[f-1][0]),o[f-1][1]=Math.max(o[f][1],o[f-1][1]),void 0!==o[f][2]&&(o[f-1][0]>=o[f][0]||o[f-1][1]<=o[f][1])&&null!==o[f-1][2]&&(null===o[f][2]&&null!==o[f-1][2]?o[f-1][2]=null:null!=o[f-1][2]?2==+i.mergeType&&o[f-1][0]===o[f][0]?o[f-1][2]=o[f][2]:o[f-1][2]+=o[f][2]:o[f-1][2]=o[f][2]),o.splice(f,1),f=o.length);return o.length?o:null}function ve(e,t,r){var n,i=0,o=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof e)throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: "+typeof e+", equal to: "+JSON.stringify(e,null,4));if(t&&!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: "+typeof t+", equal to: "+JSON.stringify(t,null,4));if(r&&"function"!=typeof r)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: "+typeof r+", equal to: "+JSON.stringify(r,null,4));if(!t||!t.filter((function(e){return e})).length)return e;var s=(n=Array.isArray(t)&&Number.isInteger(t[0])&&Number.isInteger(t[1])?[Array.from(t)]:Array.from(t)).length,a=0;n.filter((function(e){return e})).forEach((function(e,t){if(r&&(i=Math.floor(a/s*10))!==o&&(o=i,r(i)),!Array.isArray(e))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has "+t+"th element not an array: "+JSON.stringify(e,null,4)+", which is "+typeof e);if(!Number.isInteger(e[0])){if(!Number.isInteger(+e[0])||+e[0]<0)throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has "+t+"th element, array "+JSON.stringify(e,null,0)+". Its first element is not an integer, string index, but "+typeof e[0]+", equal to: "+JSON.stringify(e[0],null,4)+".");n[t][0]=+n[t][0]}if(!Number.isInteger(e[1])){if(!Number.isInteger(+e[1])||+e[1]<0)throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has "+t+"th element, array "+JSON.stringify(e,null,0)+". Its second element is not an integer, string index, but "+typeof e[1]+", equal to: "+JSON.stringify(e[1],null,4)+".");n[t][1]=+n[t][1]}a+=1}));var l=me(n,{progressFn:function(e){r&&(i=10+Math.floor(e/10))!==o&&(o=i,r(i))}}),u=l.length;if(u>0){var f=e.slice(l[u-1][1]);e=l.reduce((function(t,n,s,a){return r&&(i=20+Math.floor(s/u*80))!==o&&(o=i,r(i)),t+e.slice(0===s?0:a[s-1][1],a[s][0])+(a[s][2]||"")}),""),e+=f}return e}function Te(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,_e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function be(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function _e(e){return e!=e}var we=Array.prototype.splice;function Oe(e,t,r,n){var i=n?be:Te,o=-1,s=t.length,a=e;for(e===t&&(t=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(t)),r&&(a=function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(e,function(e){return function(t){return e(t)}}(r)));++o<s;)for(var l=0,u=t[o],f=r?r(u):u;(l=i(a,f,l,n))>-1;)a!==e&&we.call(a,l,1),we.call(e,l,1);return e}var Se=function(e,t){return e&&e.length&&t&&t.length?Oe(e,t):e};function Ae(e,t){void 0===t&&(t=1);function r(e){return Array.from(e).reverse().join("")}function n(e,t,r){var n=r?"\n":"\r",i=r?"\r":"\n";if(!e)return e;for(var o=0,s="",a=0,l=e.length;a<l;a++)(e[a]===n||e[a]===i&&e[a-1]!==n)&&o++,"\r\n".includes(e[a])||" "===e[a]?" "===e[a]?s+=e[a]:e[a]===n?o<=t&&(s+=e[a],e[a+1]===i&&(s+=e[a+1],a++)):e[a]===i&&(!e[a-1]||e[a-1]!==n)&&o<=t&&(s+=e[a]):e[a+1]||o||(s+=" ");return s}if("string"==typeof e&&e.length){var i=1;"number"==typeof+t&&Number.isInteger(+t)&&+t>=0&&(i=+t);var o="",s="";if(e.trim()){if(!e[0].trim())for(var a=0,l=e.length;a<l;a++)if(e[a].trim()){o=e.slice(0,a);break}}else o=e;if(e.trim()&&(""===e.slice(-1).trim()||" "===e.slice(-1)))for(var u=e.length;u--;)if(e[u].trim()){s=e.slice(u+1);break}return""+n(o,i,!1)+e.trim()+r(n(r(s),i,!0))}return e}function Ce(e){return null!=e}function Ie(e){return Number.isInteger(e)&&e>=0}function Le(e){return"string"==typeof e}var Me={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1},je=function(){function e(e){var t=n(n({},Me),e);if(t.mergeType&&1!==t.mergeType&&2!==t.mergeType)if(Le(t.mergeType)&&"1"===t.mergeType.trim())t.mergeType=1;else{if(!Le(t.mergeType)||"2"!==t.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'+typeof t.mergeType+'", equal to '+JSON.stringify(t.mergeType,null,4));t.mergeType=2}this.opts=t,this.ranges=[]}var t=e.prototype;return t.add=function(e,t,r){var n=this;if(null!=e||null!=t){if(Ce(e)&&!Ce(t)){if(Array.isArray(e)){if(e.length){if(e.some((function(e){return Array.isArray(e)})))return void e.forEach((function(e){Array.isArray(e)&&n.add.apply(n,e)}));e.length&&Ie(+e[0])&&Ie(+e[1])&&this.add.apply(this,e)}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('+JSON.stringify(e,null,0)+') but second-one, "to" is not ('+JSON.stringify(t,null,0)+")")}if(!Ce(e)&&Ce(t))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('+JSON.stringify(t,null,0)+') but first-one, "from" is not ('+JSON.stringify(e,null,0)+")");var i=+e,o=+t;if(Ie(r)&&(r=String(r)),!Ie(i)||!Ie(o))throw Ie(i)&&i>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'+typeof o+'" equal to: '+JSON.stringify(o,null,4)):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'+typeof i+'" equal to: '+JSON.stringify(i,null,4));if(Ce(r)&&!Le(r)&&!Ie(r))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but "+typeof r+", equal to:\n"+JSON.stringify(r,null,4));if(Ce(this.ranges)&&Array.isArray(this.last())&&i===this.last()[1]){if(this.last()[1]=o,this.last(),null!==this.last()[2]&&Ce(r)){var s=!(this.last()[2]&&this.last()[2].length>0)||this.opts&&this.opts.mergeType&&1!==this.opts.mergeType?r:this.last()[2]+r;this.opts.limitToBeAddedWhitespace&&(s=Ae(s,this.opts.limitLinebreaksCount)),Le(s)&&!s.length||(this.last()[2]=s)}}else{this.ranges||(this.ranges=[]);var a=void 0===r||Le(r)&&!r.length?[i,o]:[i,o,r&&this.opts.limitToBeAddedWhitespace?Ae(r,this.opts.limitLinebreaksCount):r];this.ranges.push(a)}}},t.push=function(e,t,r){this.add(e,t,r)},t.current=function(){var e=this;return Array.isArray(this.ranges)&&this.ranges.length?(this.ranges=me(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(t){return Ce(t[2])?[t[0],t[1],Ae(t[2],e.opts.limitLinebreaksCount)]:t})):this.ranges):null},t.wipe=function(){this.ranges=[]},t.replace=function(e){if(Array.isArray(e)&&e.length){if(!Array.isArray(e[0])||!Ie(e[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, "+JSON.stringify(e[0],null,4)+" should be an array and its first element should be an integer, a string index.");this.ranges=Array.from(e)}else this.ranges=[]},t.last=function(){return Array.isArray(this.ranges)&&this.ranges.length?this.ranges[this.ranges.length-1]:null},e}(),We=new je({limitToBeAddedWhitespace:!0}),Re={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,removeHTMLComments:!1,removeCSSComments:!0,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100,breakToTheLeftOf:["</td","<html","</html","<head","</head","<meta","<link","<table","<script","</script","<!DOCTYPE","<style","</style","<title","<body","@media","</body","\x3c!--[if","\x3c!--<![endif","<![endif]"],mindTheInlineTags:["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]},xe={removeHTMLComments:!1,removeCSSComments:!1};function Fe(e){return"string"==typeof e}function ke(e){return"string"==typeof e&&e.toUpperCase()!==e.toLowerCase()}function Pe(e,t){var r=Date.now();if(!Fe(e))throw void 0===e?new Error("html-crush: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error('html-crush: [THROW_ID_02] the first input argument must be string! It was given as "'+typeof e+'", equal to:\n'+JSON.stringify(e,null,4));if(t&&"object"!=typeof t)throw new Error("html-crush: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type "+typeof t+", equal to "+JSON.stringify(t,null,4));if(t&&Array.isArray(t.breakToTheLeftOf)&&t.breakToTheLeftOf.length)for(var i=0,o=t.breakToTheLeftOf.length;i<o;i++)if(!Fe(t.breakToTheLeftOf[i]))throw new TypeError("html-crush: [THROW_ID_05] the opts.breakToTheLeftOf array contains non-string elements! For example, element at index "+i+' is of a type "'+typeof t.breakToTheLeftOf[i]+'" and is equal to:\n'+JSON.stringify(t.breakToTheLeftOf[i],null,4));var s=n(n({},Re),t);"boolean"==typeof s.removeHTMLComments&&(s.removeHTMLComments=s.removeHTMLComments?1:0);var a="";Array.isArray(s.breakToTheLeftOf)&&s.breakToTheLeftOf.length&&(a=[].concat(new Set(s.breakToTheLeftOf.map((function(e){return e[0]})))).join(""));var l,u,f,c=null,d=null,y=!1,T=0,b=0,_=!1,w=!1,O=null,S=null,A=null,C=null,I=null,L=null,M=null,j=null,W=null,R=null,x=">};",F="<",k="{},:;<>~+",P=k,E=k,H=!0,N=e.length,B=Math.floor(N/2);s.reportProgressFunc&&(u=Math.floor(s.reportProgressFuncTo-.01*(s.reportProgressFuncTo-s.reportProgressFuncFrom)-s.reportProgressFuncFrom));var D=0;if(N){for(var J=0;J<N;J++)if(s.reportProgressFunc&&(N>1e3&&N<2e3?J===B&&s.reportProgressFunc(Math.floor((s.reportProgressFuncTo-s.reportProgressFuncFrom)/2)):N>=2e3&&(f=s.reportProgressFuncFrom+Math.floor(J/N*(u||1)))!==D&&(D=f,s.reportProgressFunc(f))),b++,l&&"number"==typeof l&&J>=l&&(l=void 0),null===C||!e.startsWith("</script",J)||ke(e[J+8])){if(!l&&!_&&e.startsWith("<script",J)&&!ke(e[J+7])){C=J,l=!0;var q="";(s.removeLineBreaks||s.removeIndentations)&&null!==d&&(d>0&&(q="\n"),We.push(d,J,q)),d=null,c=null}if(null!==W&&null===j&&!/\w/.test(e[J])){j=e.slice(W,J);var $=m(e,~-J);"number"==typeof $&&">"===e[$]&&!e[J].trim()&&m(e,J)?We.push(J,m(e,J)):$&&"/"===e[$]&&">"===e[m(e,$)]&&(!e[J].trim()&&m(e,J)&&We.push(J,m(e,J)),">"!==e[$+1]&&m(e,$+1)&&We.push($+1,m(e,$+1)))}if(l||_||O||"<"!==e[~-J]||null!==W||(/\w/.test(e[J])?W=J:"/"===e[m(e,~-J)]&&/\w/.test(e[m(e,m(e,~-J))]||"")&&(W=m(e,m(e,~-J)))),!l&&(_||O)&&null!==S&&"*"===e[J]&&"/"===e[J+1]){var z=he({str:e,from:S,to:J+2,ifLeftSideIncludesThisThenCropTightly:P,ifRightSideIncludesThisThenCropTightly:E});L=z[1],S=null,null!=(I=z[0])?We.push(I,L):(T+=1,J+=1),l=J+2}if(l||!_&&!O||null!==S||"/"!==e[J]||"*"!==e[J+1]||(xe.removeCSSComments||(xe.removeCSSComments=!0),s.removeCSSComments&&(S=J)),w&&e.startsWith("![endif",J+1)&&(w=!1),!l&&!_&&!O&&null!==A){var U=void 0;if(e.startsWith("--\x3e",J)?U=3:">"===e[J]&&"]"===e[J-1]&&(U=1),U){var G=he({str:e,from:A,to:J+U});L=G[1],A=null,null!=(I=G[0])?s.lineLengthLimit&&b-(L-I)>=s.lineLengthLimit?(We.push(I,L,"\n"),b=-U):(We.push(I,L),b-=L-I):(T+=U-1,J+=U-1),l=J+U}}if(l||_||O||!e.startsWith("\x3c!--",J)||null!==A||(e.startsWith("[if",J+4)?(w||(w=!0),2===s.removeHTMLComments&&(A=J)):!s.removeHTMLComments||w&&2!==s.removeHTMLComments||(A=J),xe.removeHTMLComments||(xe.removeHTMLComments=!0)),!l&&_&&null===S&&e.startsWith("</style",J)&&!ke(e[J+7])?_=!1:l||_||null!==S||!e.startsWith("<style",J)||ke(e[J+6])||(_=!0,(s.removeLineBreaks||s.removeIndentations)&&s.breakToTheLeftOf.includes("<style")&&e.startsWith(' type="text/css">',J+6)&&e[J+24]&&We.push(J+23,J+23,"\n")),!l&&!O&&"\"'".includes(e[J])&&e.endsWith("style=",J)&&(O=J),l||e[J].trim()){if(!l&&(!_&&!O||null===S)){if(null!==d){if(s.removeLineBreaks&&(T+=1),H)H=!1,(s.removeIndentations||s.removeLineBreaks)&&We.push(0,J);else if(s.removeIndentations&&!s.removeLineBreaks&&(!y&&null!==c&&J>c?We.push(c+1,J):d+1<J&&(e.endsWith("]>",d)||e.endsWith("--\x3e",d)||e.startsWith("<![",J)||e.startsWith("\x3c!--<![",J)?We.push(d,J):" "===e[d]?We.push(d+1,J):" "===e[~-J]?We.push(d,~-J):We.push(d,J," "))),s.removeLineBreaks||O){if(a.includes(e[J])&&p(e,J,s.breakToTheLeftOf)){"\n"===e[~-J]&&d===~-J||We.push(d,J,"\n"),I=null,L=null,M=null,d=null,T=1;continue}var V=" ";"<"===e[J]&&g(e,J,s.mindTheInlineTags,{cb:function(e){return!e||!/\w/.test(e)}})||(e[~-d]&&">".includes(e[~-d])&&"<".includes(e[J])||(_||O)&&null===S&&(P.includes(e[~-d])||E.includes(e[J]))||e.startsWith("!important",J)&&!w||O&&("'"===e[~-d]||'"'===e[~-d])||"}"===e[~-d]&&e.startsWith("</style",J)||">"===e[J]&&("'\"".includes(e[v(e,J)])||"<"===e[m(e,J)])||"/"===e[J]&&">"===e[m(e,J)])&&(V="","/"===e[J]&&">"===e[J+1]&&m(e,J)&&m(e,J)>J+1&&(We.push(J+1,m(e,J)),T-=m(e,J)-J+1)),V&&V.length&&(T+=1),s.lineLengthLimit?T>=s.lineLengthLimit||!e[J+1]||">"===e[J]||"/"===e[J]&&">"===e[J+1]?((T>s.lineLengthLimit||T===s.lineLengthLimit&&e[J+1]&&e[J+1].trim()&&!x.includes(e[J])&&!F.includes(e[J+1]))&&(V="\n",T=1),(T>s.lineLengthLimit||" "!==V||J!==d+1)&&We.push(d,J,V),I=null,L=null,M=null):(null===I||d<I)&&(I=d,L=J,M=V):J===d+1&&" "===V||We.push(d,J,V)}d=null,y||(y=!0)}else H&&(H=!1),s.removeLineBreaks&&(T+=1);y||(y=!0)}}else null===d&&(d=J);if(!l&&!H&&0!==J&&s.removeLineBreaks&&(s.lineLengthLimit||a)&&!e.startsWith("</a",J)){if(a&&p(e,J,s.breakToTheLeftOf)&&e.slice(0,J).trim()&&(!e.startsWith("<![endif]",J)||!h(e,J,"\x3c!--"))){We.push(J,J,"\n"),I=null,L=null,M=null,T=1;continue}if(s.lineLengthLimit&&T<=s.lineLengthLimit){if(!e[J+1]||F.includes(e[J])&&!"!".includes(e[J])||x.includes(e[J])||!e[J].trim()){if(null!==I&&null!==L&&(I!==L||M&&M.length)){var Z=M;e[J].trim()&&e[J+1]&&e[J+1].trim()&&T+(M?M.length:0)>s.lineLengthLimit&&(Z="\n"),T+(Z?Z.length:0)>s.lineLengthLimit||" "!==Z||L!==I+1?"}"===e[~-I]&&"{"===e[L]||We.push(I,L,Z):T-=c||0}!(e[J].trim()&&(F.includes(e[J])||e[~-J]&&x.includes(e[~-J]))&&Fe(R))||j&&s.mindTheInlineTags.includes(j)||"<"===e[J]&&g(e,J,s.mindTheInlineTags,{cb:function(e){return!e||!/\w/.test(e)}})||"<"===e[J]&&g(e,J,s.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}})?null!==S||null===I||!(O||!s.mindTheInlineTags||!Array.isArray(s.mindTheInlineTags)||Array.isArray(s.mindTheInlineTags.length)&&!s.mindTheInlineTags.length||!Fe(j)||Array.isArray(s.mindTheInlineTags)&&s.mindTheInlineTags.length&&Fe(j)&&!s.mindTheInlineTags.includes(j))||"<"===e[J]&&g(e,J,s.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}})||(I=null,L=null,M=null):(I=J,L=J,M=null)}}else if(s.lineLengthLimit)if(!F.includes(e[J])||"<"===e[J]&&g(e,J,s.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}}))e[J+1]&&x.includes(e[J])&&Fe(j)&&Array.isArray(s.mindTheInlineTags)&&s.mindTheInlineTags.length&&!s.mindTheInlineTags.includes(j)?null!==I&&null!==L&&(I!==L||M&&M.length)||(We.push(J+1,J+1,"\n"),T=0):e[J].trim()&&(e[J+1]||null!==I&&null!==L&&(I!==L||M&&M.length)&&We.push(I,L,"\n"));else if(null!==I&&null!==L&&(I!==L||M&&M.length)){var Y=M&&M.length?M.length:0;T-(L-I-Y)-1>s.lineLengthLimit||(We.push(I,L,M),T-(L-I-Y)-1===s.lineLengthLimit&&(We.push(J,J,"\n"),T=0),I=null,L=null,M=null)}else We.push(J,J,"\n"),T=0}if(!l&&!H&&s.removeLineBreaks&&s.lineLengthLimit&&T>=s.lineLengthLimit&&null!==I&&null!==L&&!x.includes(e[J])&&!F.includes(e[J])&&!"/".includes(e[J])&&(T!==s.lineLengthLimit||!e[J+1]||e[J+1].trim())){var K="\n";e[J+1]&&!e[J+1].trim()&&T===s.lineLengthLimit&&(K=M),"\n"===K&&!e[~-I].trim()&&v(e,I)&&(I=v(e,I)+1),We.push(I,L,K),T=J-L,e[J].length&&(T+=1),I=null,L=null,M=null}if((!l&&"\n"===e[J]||"\r"===e[J]&&(!e[J+1]||e[J+1]&&"\n"!==e[J+1]))&&(c=J,y&&(y=!1),!s.removeLineBreaks&&null!==d&&d<J&&e[J+1]&&"\r"!==e[J+1]&&"\n"!==e[J+1]&&We.push(d,J)),e[J+1]||(_&&null!==S?We.push.apply(We,he({str:e,from:S,to:J,ifLeftSideIncludesThisThenCropTightly:P,ifRightSideIncludesThisThenCropTightly:E})):d&&"\n"!==e[J]&&"\r"!==e[J]?We.push(d,J+1):d&&("\r"===e[J]&&"\n"===e[J+1]||"\n"===e[J]&&"\r"!==e[J-1])&&We.push(d,J)),!l&&O&&O<J&&e[O]===e[J]&&(O=null),!l&&!_&&e.startsWith("<pre",J)&&!ke(e[J+4])){var Q=e.indexOf("</pre",J+5);Q>0&&(l=Q)}if(!l&&!_&&e.startsWith("<code",J)&&!ke(e[J+5])){var X=e.indexOf("</code",J+5);X>0&&(l=X)}if(!l&&e.startsWith("<![CDATA[",J)){var ee=e.indexOf("]]>",J+9);ee>0&&(l=ee)}l||_||O||null===W||">"!==e[J]||("<"===e[m(e,J)]&&(R=j),W=null,j=null),"<"===e[J]&&null!==R&&(R=null)}else{if((s.removeIndentations||s.removeLineBreaks)&&J>0&&e[~-J]&&!e[~-J].trim())for(var te=J;te--;)if("\n"===e[te]||"\r"===e[te]||e[te].trim()){te+1<J&&We.push(te+1,J);break}C=null,l=!1,J+=8}if(We.current()){var re=s.reportProgressFuncTo-.01*(s.reportProgressFuncTo-s.reportProgressFuncFrom),ne=ve(e,We.current(),(function(e){s.reportProgressFunc&&N>=2e3&&(f=Math.floor(re+e/100*(s.reportProgressFuncTo-re)))!==D&&(D=f,s.reportProgressFunc(f))}));We.wipe();var ie=ne.length;return{log:{timeTakenInMilliseconds:Date.now()-r,originalLength:N,cleanedLength:ie,bytesSaved:Math.max(N-ie,0),percentageReducedOfOriginal:N?Math.round(100*Math.max(N-ie,0)/N):0},ranges:We.current(),applicableOpts:xe,result:ne}}}return{log:{timeTakenInMilliseconds:Date.now()-r,originalLength:N,cleanedLength:N,bytesSaved:0,percentageReducedOfOriginal:0},applicableOpts:xe,ranges:[],result:e}}var Ee="__lodash_hash_undefined__",He="[object Function]",Ne="[object GeneratorFunction]",Be=/^\[object .+?Constructor\]$/,De="object"==typeof self&&self&&self.Object===Object&&self,Je="object"==typeof d&&d&&d.Object===Object&&d||De||Function("return this")();function qe(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,ze,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function $e(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function ze(e){return e!=e}function Ue(e,t){return e.has(t)}function Ge(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var Ve=Array.prototype,Ze=Function.prototype,Ye=Object.prototype,Ke=Je["__core-js_shared__"],Qe=function(){var e=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xe=Ze.toString,et=Ye.hasOwnProperty,tt=Ye.toString,rt=RegExp("^"+Xe.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=Ve.splice,it=dt(Je,"Map"),ot=dt(Je,"Set"),st=dt(Object,"create");function at(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function lt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ut(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ft(e){var t=-1,r=e?e.length:0;for(this.__data__=new ut;++t<r;)this.add(e[t])}function ct(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function ht(e){return!(!yt(e)||function(e){return!!Qe&&Qe in e}(e))&&(function(e){var t=yt(e)?tt.call(e):"";return t==He||t==Ne}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?rt:Be).test(function(e){if(null!=e){try{return Xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}at.prototype.clear=function(){this.__data__=st?st(null):{}},at.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},at.prototype.get=function(e){var t=this.__data__;if(st){var r=t[e];return r===Ee?void 0:r}return et.call(t,e)?t[e]:void 0},at.prototype.has=function(e){var t=this.__data__;return st?void 0!==t[e]:et.call(t,e)},at.prototype.set=function(e,t){return this.__data__[e]=st&&void 0===t?Ee:t,this},lt.prototype.clear=function(){this.__data__=[]},lt.prototype.delete=function(e){var t=this.__data__,r=ct(t,e);return!(r<0)&&(r==t.length-1?t.pop():nt.call(t,r,1),!0)},lt.prototype.get=function(e){var t=this.__data__,r=ct(t,e);return r<0?void 0:t[r][1]},lt.prototype.has=function(e){return ct(this.__data__,e)>-1},lt.prototype.set=function(e,t){var r=this.__data__,n=ct(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ut.prototype.clear=function(){this.__data__={hash:new at,map:new(it||lt),string:new at}},ut.prototype.delete=function(e){return gt(this,e).delete(e)},ut.prototype.get=function(e){return gt(this,e).get(e)},ut.prototype.has=function(e){return gt(this,e).has(e)},ut.prototype.set=function(e,t){return gt(this,e).set(e,t),this},ft.prototype.add=ft.prototype.push=function(e){return this.__data__.set(e,Ee),this},ft.prototype.has=function(e){return this.__data__.has(e)};var pt=ot&&1/Ge(new ot([,-0]))[1]==1/0?function(e){return new ot(e)}:function(){};function gt(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function dt(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ht(r)?r:void 0}function yt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var mt=function(e){return e&&e.length?function(e,t,r){var n=-1,i=qe,o=e.length,s=!0,a=[],l=a;if(r)s=!1,i=$e;else if(o>=200){var u=t?null:pt(e);if(u)return Ge(u);s=!1,i=Ue,l=new ft}else l=t?[]:a;e:for(;++n<o;){var f=e[n],c=t?t(f):f;if(f=r||0!==f?f:0,s&&c==c){for(var h=l.length;h--;)if(l[h]===c)continue e;t&&l.push(c),a.push(f)}else i(l,c,r)||(l!==a&&l.push(c),a.push(f))}return a}(e):[]},vt=/[\n]?\s*<style[^>]*>\s*<\/style\s*>/g,Tt=/[\n]?\s*@(media|supports|document)[^{]*{\s*}/g,bt=/@media[^{@}]+{(?=\s*<\/style>)/g;function _t(e){return e&&"object"==typeof e&&!Array.isArray(e)}function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ot(e){return"string"==typeof e&&1===e.length&&(e.charCodeAt(0)>64&&e.charCodeAt(0)<91||e.charCodeAt(0)>96&&e.charCodeAt(0)<123)}var St={whitelist:[],backend:[],uglify:!1,removeHTMLComments:!0,removeCSSComments:!0,doNotRemoveHTMLCommentsWhoseOpeningTagContains:["[if","[endif"],reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100};e.comb=function(e,t){var r,i,o=Date.now(),s=new je({limitToBeAddedWhitespace:!0}),a=new je,l=new je;function u(e){return/[-_A-Za-z0-9]/.test(e)}function f(e){return void 0===e&&(e={}),n({valuesStart:null,valueStart:null,nameStart:null,quoteless:!1},e)}var c,d,y,b,_,S,A,C,I,L,M,j,W,R,x,F,k=[],P=[],E=[],H={},N=0,B=null,D=[],J=0,q=0,$=0,z=!1,U=null,G=!1,V=0,Z=0,Y=["media","supports","document"],K=["font-feature-values","counter-style","namespace","font-face","keyframes","viewport","charset","import","page"],Q=["{","(","<",'"',"'","@",";"];if("string"!=typeof e)throw new TypeError("email-remove-unused-css: [THROW_ID_01] Input must be string! Currently it's "+typeof e);if(t&&!_t(t))throw new TypeError("email-remove-unused-css: [THROW_ID_02] Options, second input argument, must be a plain object! Currently it's "+typeof t+", equal to: "+JSON.stringify(t,null,4));var X=n(n({},St),t);if("string"==typeof X.doNotRemoveHTMLCommentsWhoseOpeningTagContains&&(X.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[X.doNotRemoveHTMLCommentsWhoseOpeningTagContains].filter((function(e){return e.trim()}))),"string"==typeof X.whitelist)X.whitelist=[X.whitelist];else if(!Array.isArray(X.whitelist))throw new TypeError("email-remove-unused-css: [THROW_ID_03] opts.whitelist should be an array, but it was customised to a wrong thing, "+JSON.stringify(X.whitelist,null,4));if(X.whitelist.length>0&&!X.whitelist.every((function(e){return"string"==typeof e})))throw new TypeError("email-remove-unused-css: [THROW_ID_04] opts.whitelist array should contain only string-type elements. Currently we\ve got:\n"+JSON.stringify(X.whitelist,null,4));if(!Array.isArray(X.backend))throw new TypeError("email-remove-unused-css: [THROW_ID_05] opts.backend should be an array, but it was customised to a wrong thing, "+JSON.stringify(X.backend,null,4));if(X.backend.length>0&&X.backend.some((function(e){return!_t(e)})))throw new TypeError("email-remove-unused-css: [THROW_ID_06] opts.backend array should contain only plain objects but it contains something else:\n"+JSON.stringify(X.backend,null,4));if(X.backend.length>0&&!X.backend.every((function(e){return wt(e,"heads")&&wt(e,"tails")})))throw new TypeError('email-remove-unused-css: [THROW_ID_07] every object within opts.backend should contain keys "heads" and "tails" but currently it\'s not the case. Whole "opts.backend" value array is currently equal to:\n'+JSON.stringify(X.backend,null,4));if("boolean"!=typeof X.uglify){if(1!==X.uglify&&0!==X.uglify)throw new TypeError("email-remove-unused-css: [THROW_ID_08] opts.uglify should be a Boolean. Currently it's set to: "+JSON.stringify(X.uglify,null,4)+"}");X.uglify=!!X.uglify}if(X.reportProgressFunc&&"function"!=typeof X.reportProgressFunc)throw new TypeError("email-remove-unused-css: [THROW_ID_09] opts.reportProgressFunc should be a function but it was given as :\n"+JSON.stringify(X.reportProgressFunc,null,4)+" ("+typeof X.reportProgressFunc+")");var ee=null,te=null;Array.isArray(X.backend)&&X.backend.length&&(ee=X.backend.map((function(e){return e.heads})),te=X.backend.map((function(e){return e.tails})));var re=e.length,ne=1;X.reportProgressFunc&&(ne=Math.floor((X.reportProgressFuncTo-.06*(X.reportProgressFuncTo-X.reportProgressFuncFrom)-X.reportProgressFuncFrom)/2));var ie,oe,se=0;e.length&&"\r\n".includes(e[e.length-1])||(se=1);for(var ae,le,ue,ce,ge,de,ye,me,Te=[],be=[],_e=[],we=[],Oe={},Ae=[],Ce=0,Ie=[],Le=[],Me=[],We=function(t){S=!1,M=null,z=!1,x=!0,R=!0,b=f(),C=!0,G=!1,j=null,_=f(),d=null,U=null,ue=null,le=!1,ce=null,A=!1,L=null,ge=!1,c=null,oe=null,r=null,y=null,de=null,i=null,ie=!1,N+=re;for(var o=function(n){X.reportProgressFunc&&(re>1e3&&re<2e3?1===t&&0===n&&X.reportProgressFunc(Math.floor((X.reportProgressFuncTo-X.reportProgressFuncFrom)/2)):re>=2e3&&(ae=X.reportProgressFuncFrom+Math.floor(n/re*ne)+(1===t?0:ne))!==Ce&&(Ce=ae,X.reportProgressFunc(ae)));var o=e[n];if(!0!==le&&(null===i&&null!==r&&n>=r||null!==r&&null!==i&&r>i&&r<n)?(le=!0,ge=!1):!0!==ge&&null!==y&&(null===r||r<n)&&(null===i||i<n)&&(ge=!0,le=!1),!ie&&('"'===e[n]||"'"===e[n]))if(ue){if('"'===e[n]&&"'"===e[m(e,n)]&&'"'===e[m(e,m(e,n))]||"'"===e[n]&&'"'===e[m(e,n)]&&"'"===e[m(e,m(e,n))])return n=m(e,m(e,n)),l=n,"continue";ue===e[n]&&(ue=null)}else{var T=v(e,n);"number"==typeof T&&(le&&["(",",",":"].includes(e[T])||ge&&!le&&["(",",",":","="].includes(e[T]))&&(ue=e[n])}if(ie)if(null===oe||"string"!=typeof oe||"string"==typeof oe&&!oe)ie=!1;else if(p(e,n,oe)){if(null!==c){if(1===t&&X.removeCSSComments){var O=h(e,c,["\r\n","\n","\r"]),H=c;"string"==typeof O&&O.length&&(H-=O.length),e[H-1]&&u(e[H-1])&&e[n+oe.length]&&u(e[n+oe.length])?(s.push(H,n+oe.length,";"),Z+=n+oe.length-H):(s.push(H,n+oe.length),Z+=n+oe.length-H)}c=null}return n=n+oe.length-1,oe=null,ie=!1,l=n,"continue"}if(!ie&&"<"===e[n]&&"s"===e[n+1]&&"t"===e[n+2]&&"y"===e[n+3]&&"l"===e[n+4]&&"e"===e[n+5]){S=!0,le||(le=!0);for(var B=n;B<re;B++)if(N+=1,">"===e[B]){r=B+1,L=B+1;break}}if(!ie&&le&&"<"===e[n]&&"/"===e[n+1]&&"s"===e[n+2]&&"t"===e[n+3]&&"y"===e[n+4]&&"l"===e[n+5]&&"e"===e[n+6]&&(i=n-1,L=null,S=!1,le&&(le=!1)),1===t&&(le||ge)&&"/"===e[n]&&"*"===e[n+1]&&null===c)return c=n,ie=!0,oe="*/",l=n+=1,"continue";if(!ie&&le&&"@"===e[n]){ce&&(ce=null);var J=g(e,n,Y)||g(e,n,K);if("string"==typeof J){var q,se;(";"===e[n+J.length+1]||e[n+J.length+1]&&!e[n+J.length+1].trim()&&g(e,n+J.length+1,";",{trimBeforeMatching:!0,cb:function(e,t,r){return q=r,l=n,!0}}))&&s.push(n,q||n+J.length+2);for(var fe=n+1;fe<re;fe++)if(N+=1,se&&e[fe]===se){if("}"===e[fe]&&K.includes(J)||"{"===e[fe]&&Y.includes(J))return L=fe+1,l=n=fe,"continue|stepouter";se=void 0}else if('"'!==e[fe]||se?"'"!==e[fe]||se?"("!==e[fe]||se?K.includes(J)&&"{"===e[fe]&&!se&&(se="}"):se=")":se="'":se='"',!se&&Q.includes(e[fe])){var pe=void 0;if("{"===e[fe]||";"===e[fe])return A=!1,L=fe+1,l=n=fe,"continue|stepouter";"@"!==e[fe]&&"<"!==e[fe]||1!==t||e.slice(n,fe).includes("{")||e.slice(n,fe).includes("(")||e.slice(n,fe).includes('"')||e.slice(n,fe).includes("'")||s.push(n,pe=fe+(";"===e[fe]?1:0));var ve=pe?pe-1:fe-1+("{"===e[fe]?1:0);return L=ve+1,l=n=ve,"continue|stepouter"}}}if(!ie&&le&&A&&S&&"}"===o&&!ue&&!$&&(2===t&&R&&L&&s.push(L,n+1),A=!1,L&&(L=n+1),M=null,z=!1,R=!0,j=null,U=null,G=!1),!ie&&!c&&r&&n>=r&&(null===i&&n>=r||i&&r>i&&r<=n)&&!A){if(null===j){if("."===o||"#"===o)j=n;else if(h(e,n,"[class="))Ot(o)?(j=n,W="."):"\"'".includes(o)&&Ot(e[m(e,n)])&&(j=m(e,n),W=".");else if(h(e,n,"[id="))Ot(o)?(j=n,W="#"):"\"'".includes(o)&&Ot(e[m(e,n)])&&(j=m(e,n),W="#");else if(o.trim())if("}"===o)L=n+1,de=null;else if("<"===o&&"!"===e[n+1])for(var Te=n;Te<re;Te++)if(N+=1,">"===e[Te])return L=Te+1,M=Te+1,l=n=Te,"continue|stepouter"}else if(null!==j&&!u(o)){var _e=e.slice(j,n);W&&(_e=""+W+_e,W=void 0),2===t&&!z&&Me.includes(_e)?(z=!0,G=!0):2!==t||z||(!X.uglify||Array.isArray(X.whitelist)&&X.whitelist.length&&w([_e],X.whitelist).length||a.push(j,n,D[be.indexOf(_e)]),","===o&&(U=n,G=!1)),j="."===o||"#"===o?n:null}if(null===M)!o.trim()||"}"===o||";"===o||"/"===e[n]&&"*"===e[n+1]||(z=!1,M=n);else if(",{".includes(o)){if(de=e.slice(M,ce||n),1===t)ce&&(","===o&&ce<n?(s.push(ce,n),V+=n-ce):"{"===o&&ce<n-1&&(s.push(ce,n-1),V+=n-1-ce)),k.push(de);else if(z){var we=M,Oe=n,Se=0;if("{"===o&&">"!==e[we-1]&&"}"!==e[we-1]){for(var Le=M;Le--;)if(N+=1,e[Le].trim()&&","!==e[Le]){we=Le+1;break}e[n-1].trim()||(Oe=n-1)}else if(","!==o||e[n+1].trim())h(e,we,"{",{trimBeforeMatching:!0,cb:function(e,t,r){return Se=r,l=n,!0}})&&(we=Se+2);else for(var je=n+1;je<re;je++)if(N+=1,e[je].trim()){Oe=je;break}var We=he({str:e,from:we,to:Oe,ifRightSideIncludesThisThenCropTightly:".#",ifRightSideIncludesThisCropItToo:",",extendToOneSide:"right"});s.push.apply(s,We),X.uglify&&a.wipe()}else R&&(R=!1),G&&(G=!1),X.uglify&&(s.push(a.current()),a.wipe());if("{"!==o)M=null;else if(2===t&&!R&&null!==U&&G){var Re=U+1;if("\n\r".includes(e[U+1]))for(var xe=U+1;xe<re;xe++)if(e[xe].trim()){Re=xe;break}s.push(U,Re),U=null,G=!1}}}if(!ie&&!le&&ge&&"/"===e[n]&&g(e,n,"body",{trimBeforeMatching:!0,i:!0})&&h(e,n,"<",{trimBeforeMatching:!0})&&(ge=!1,y=null),!ie&&"<"===e[n]&&g(e,n,"body",{i:!0,trimBeforeMatching:!0,cb:function(e,r,i){if(1===t){if(void 0!==e&&(""===e.trim()||">"===e)&&"number"==typeof i){if(!(i-n>5))return l=n,!0;s.push(n,i,"<body"),V+=i-n-5}return l=n,!0}return l=n,!0}}))for(var Fe=n;Fe<re;Fe++)if(N+=1,">"===e[Fe]){y=Fe+1;break}if(!ie&&ge&&!le&&"s"===e[n]&&"t"===e[n+1]&&"y"===e[n+2]&&"l"===e[n+3]&&"e"===e[n+4]&&"="===e[n+5]&&".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`\t\n".includes(e[n-1])&&"\"'".includes(e[n+6]),!ie&&ge&&!le&&!ue&&"c"===e[n]&&"l"===e[n+1]&&"a"===e[n+2]&&"s"===e[n+3]&&"s"===e[n+4]&&e[n-1]&&!e[n-1].trim()){var ke,Pe=!1;if("="===e[n+5]){if('"'===e[n+6]||"'"===e[n+6])ke=n+7;else if(u(e[n+6]))ke=n+6,Pe=!0;else if(e[n+6]&&(!e[n+6].trim()||"/>".includes(e[n+6]))){var Ee=he({str:e,from:n,to:n+6,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});s.push.apply(s,Ee)}}else if(!e[n+5].trim())for(var He=n+5;He<re;He++)if(N+=1,e[He].trim()){if("="===e[He])if(He>n+5&&1===t&&s.push(n+5,He),'"'!==e[He+1]&&"'"!==e[He+1]||!e[He+2]){if(e[He+1]&&!e[He+1].trim())for(var Ne=He+1;Ne<re;Ne++)if(N+=1,e[Ne].trim()){Ne>He+1&&1===t&&s.push(He+1,Ne),'"'!==e[Ne]&&"'"!==e[Ne]||!e[Ne+1]||(ke=Ne+1);break}}else ke=He+2;break}ke&&(b=f({valuesStart:ke,quoteless:Pe,nameStart:n}),1===t?C=!0:2===t&&(x=!0))}if(!ie&&ge&&!le&&!ue&&"i"===e[n]&&"d"===e[n+1]&&e[n-1]&&!e[n-1].trim()){var Be,De=!1;if("="===e[n+2]){if('"'===e[n+3]||"'"===e[n+3])Be=n+4;else if(u(e[n+3]))Be=n+3,De=!0;else if(e[n+3]&&(!e[n+3].trim()||"/>".includes(e[n+3]))){var Je=he({str:e,from:n,to:n+3,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});s.push.apply(s,Je)}}else if(!e[n+2].trim())for(var qe=n+2;qe<re;qe++)if(N+=1,e[qe].trim()){if("="===e[qe])if(qe>n+2&&1===t&&s.push(n+2,qe),'"'!==e[qe+1]&&"'"!==e[qe+1]||!e[qe+2]){if(e[qe+1]&&!e[qe+1].trim())for(var $e=qe+1;$e<re;$e++)if(N+=1,e[$e].trim()){$e>qe+1&&1===t&&s.push(qe+1,$e),'"'!==e[$e]&&"'"!==e[$e]||!e[$e+1]||(Be=$e+1);break}}else Be=qe+2;break}Be&&(_=f({valuesStart:Be,quoteless:De,nameStart:n}),1===t?C=!0:2===t&&(x=!0))}if(!ie&&null!==b.valuesStart&&n>=b.valuesStart&&null===b.valueStart)if(ee&&p(e,n,ee)){if(ie=!0,x=!1,ce&&n>ce+1){var ze=he({str:e,from:ce,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});s.push.apply(s,ze),ce=null}else ce&&(ce=null);var Ue=p(e,n,ee),Ge=X.backend.find((function(e){return e.heads===Ue}));Ge&&Ge.tails&&(oe=Ge.tails)}else u(o)&&(b.valueStart=n,1===t&&(C&&null!==b.valuesStart&&!e.slice(b.valuesStart,n).trim()&&b.valuesStart<n?(s.push(b.valuesStart,n),V+=n-b.valuesStart,C=!1):null!==ce&&ce<n-1&&(s.push(ce+1,n),V+=n-ce+1)));if(!ie&&null!==b.valueStart&&n>b.valueStart&&(!u(o)||te&&p(e,n,te)))if(ee&&p(e,n,ee)){b.valueStart=null,b=f();var Ve=p(e,n,ee),Ze=X.backend.find((function(e){return e.heads===Ve}));Ze&&Ze.tails&&(oe=Ze.tails)}else{var Ye=""+e.slice(b.valueStart,n);if(1===t)P.push("."+Ye);else if(null!=b.valueStart&&Ae.includes(Ye)){var Ke=he({str:e,from:b.valueStart,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0}),Qe="";e[Ke[0]-1]&&e[Ke[0]-1].trim()&&e[Ke[1]]&&e[Ke[1]].trim()&&(ee||te)&&(ee&&h(e,Ke[0],te)||te&&p(e,Ke[1],ee))&&(Qe=" "),s.push.apply(s,Ke.concat([Qe]))}else x=!1,!X.uglify||Array.isArray(X.whitelist)&&X.whitelist.length&&w(["."+Ye],X.whitelist).length||s.push(b.valueStart,n,D[be.indexOf("."+Ye)].slice(1));b.valueStart=null}if(!ie&&_&&null!==_.valueStart&&n>_.valueStart&&(!u(o)||te&&p(e,n,te))){var Xe=e.slice(_.valueStart,n);if(1===t)E.push("#"+Xe);else if(null!=_.valueStart&&Ie.includes(Xe)){var et=he({str:e,from:_.valueStart,to:n,ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0});e[et[0]-1]&&e[et[0]-1].trim()&&e[et[1]]&&e[et[1]].trim()&&(ee||te)&&(ee&&h(e,et[0],te||[])||te&&p(e,et[1],ee||[]))&&(et[0]+=1),s.push.apply(s,et)}else x=!1,!X.uglify||Array.isArray(X.whitelist)&&X.whitelist.length&&w(["#"+Xe],X.whitelist).length||s.push(_.valueStart,n,D[be.indexOf("#"+Xe)].slice(1));_.valueStart=null}if(!ie&&null!=b.valuesStart&&(!b.quoteless&&("'"===o||'"'===o)||b.quoteless&&!u(e[n]))&&n>=b.valuesStart){if(n===b.valuesStart)1===t&&s.push.apply(s,he({str:e,from:b.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}));else{if(2===t&&x){var tt=he({str:e,from:b.valuesStart-7,to:"'\"".includes(e[n])?n+1:n,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),rt="";e[tt[0]-1]&&e[tt[0]-1].trim()&&e[tt[1]]&&e[tt[1]].trim()&&!"/>".includes(e[tt[1]])&&(rt=" "),s.push.apply(s,tt.concat([rt]))}null!==ce&&s.push(ce,n)}b=f()}if(!ie&&null!==_.valuesStart&&(!_.quoteless&&("'"===o||'"'===o)||_.quoteless&&!u(e[n]))&&n>=_.valuesStart){if(n===_.valuesStart)1===t&&s.push.apply(s,he({str:e,from:_.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}));else{if(2===t&&x){var nt=he({str:e,from:_.valuesStart-4,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),it="";e[nt[0]-1]&&e[nt[0]-1].trim()&&e[nt[1]]&&e[nt[1]].trim()&&!"/>".includes(e[nt[1]])&&(it=" "),s.push.apply(s,nt.concat([it]))}null!==ce&&s.push(ce,n)}_=f()}if(!ie&&_.valuesStart&&n>=_.valuesStart&&null===_.valueStart)if(ee&&p(e,n,ee)){if(ie=!0,x=!1,ce&&n>ce+1){var ot=he({str:e,from:ce,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});s.push.apply(s,ot),ce=null}else ce&&(ce=null);var st=p(e,n,ee),at=X.backend.find((function(e){return e.heads===st}));at&&at.tails&&(oe=at.tails)}else u(o)&&(_.valueStart=n,1===t&&(C&&null!==_.valuesStart&&!e.slice(_.valuesStart,n).trim()&&_.valuesStart<n?(s.push(_.valuesStart,n),V+=n-_.valuesStart,C=!1):null!==ce&&ce<n-1&&(s.push(ce+1,n),V+=n-ce+1)));if(!ie&&1===t){if(null!==c&&c<n&&">"===e[n]&&!me&&(X.doNotRemoveHTMLCommentsWhoseOpeningTagContains&&Array.isArray(X.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&X.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&X.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.trim()&&e.slice(c,n).toLowerCase().includes(t)}))&&(ye=!1),me=!0),null!==c&&">"===e[n])if(I||"-"!==e[n-1]||"-"!==e[n-2]){if(I){var lt=he({str:e,from:c,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});X.removeHTMLComments&&ye&&s.push.apply(s,lt),Z+=lt[1]-lt[0],c=null,I=void 0}}else{var ut=he({str:e,from:c,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});X.removeHTMLComments&&ye&&s.push.apply(s,ut),Z+=ut[1]-ut[0],c=null,I=void 0}X.removeHTMLComments&&null===c&&"<"===e[n]&&"!"===e[n+1]&&((!ee||Array.isArray(ee)&&ee.length&&!ee.includes("<!"))&&(!te||Array.isArray(te)&&te.length&&!te.includes("<!"))&&(g(e,n+1,"doctype",{i:!0,trimBeforeMatching:!0})||"-"===e[n+2]&&"-"===e[n+3]&&Array.isArray(X.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&X.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&g(e,n+3,X.doNotRemoveHTMLCommentsWhoseOpeningTagContains,{trimBeforeMatching:!0})||(c=n,me=!1,ye=!0),I=!("-"===e[n+2]&&"-"===e[n+3])),c!==n&&(d=n))}if("}"===o&&$&&($-=1),!ie&&"{"===o&&S&&(A?$+=1:(A=!0,null!==ce&&(e.slice(ce,n).includes("\n")||e.slice(ce,n).includes("\r"))&&s.push(ce,n))),ie||(e[n].trim()?null!==ce&&(ce=null):null===ce&&(ce=n)),!ie&&2===t&&Array.isArray(F)&&F.length&&n===F[0][0]){var ft=F.shift();return ft&&ft[1]-1>n&&(n=ft[1]-1),l=n,"continue"}if(null!==d&&">"===e[n]){d=null;var ct=0;if(X.removeHTMLComments&&Array.isArray(X.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&X.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&(X.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.includes("if")}))||X.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.includes("mso")}))||X.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.includes("ie")})))&&g(e,n,"\x3c!--",{trimBeforeMatching:!0,cb:function(e,t,r){return ct=r,l=n,!0}}))return g(e,ct-1,"--\x3e",{trimBeforeMatching:!0,cb:function(e,t,r){return ct=r,l=n,!0}}),"number"==typeof ct&&(n=ct-1),l=n,"continue"}l=n},l=0;l<re;l++)o(l);if(1===t){we=mt(P.concat(E)),k.forEach((function(e){T(e).res.forEach((function(e){Object.prototype.hasOwnProperty.call(H,e)?H[e]+=1:H[e]=1}))})),Oe=n({},H),_e=mt(k.reduce((function(e,t){return e.concat(T(t).res)}),[])),q=_e.length;for(var se,ve=Array.from(k),je=[],We=0,Re=ve.length;We<Re;We++){N+=1;var xe,Fe=void 0;if(null!=ve[We]&&(Fe=T(ve[We]).res),Fe&&!Fe.every((function(e){return we.includes(e)})))(xe=je).push.apply(xe,T(ve[We]).res),ve.splice(We,1),We-=1,Re-=1}je=mt(O(je,X.whitelist)),se=ve&&ve.length?ve.reduce((function(e,t){return e.concat(T(t).res)}),[]):[],Me=O(Se(mt(Array.from(_e)),P.concat(E)),X.whitelist),Le=mt(O(Se(P.concat(E),se),X.whitelist)),Me=mt(Me.concat(fe(je,Le))),Ae=Le.filter((function(e){return e.startsWith(".")})).map((function(e){return e.slice(1)})),Ie=Le.filter((function(e){return e.startsWith("#")})).map((function(e){return e.slice(1)})),Te=Object.keys(Oe).filter((function(e){return Oe[e]<1})),Ae=mt(Ae.concat(fe(O(we,X.whitelist),Te).filter((function(e){return"."===e[0]})).map((function(e){return e.slice(1)}))));var ke=w(we,X.whitelist);Le=mt(Le.concat(Ae.map((function(e){return"."+e})),Ie.map((function(e){return"#"+e})))),be=Se(Se(Array.from(_e),Le),Me),Array.isArray(ke)&&ke.length&&ke.forEach((function(e){be.includes(e)||be.push(e)})),X.uglify&&(D=function(e){var t="abcdefghijklmnopqrstuvwxyz",r="abcdefghijklmnopqrstuvwxyz0123456789",n={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},i={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},o={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},s=[];if(!Array.isArray(e)||!e.length)return e;for(var a=0,l=e.length;a<l;a++)if(e.indexOf(e[a])<a)s.push(s[e.indexOf(e[a])]);else{var u=".#".includes(e[a][0])?e[a][0]:"",f=Array.from(e[a]).reduce((function(e,t){return e+pe(t)}),0);if(".#".includes(e[a][0])&&e[a].length<4||!".#".includes(e[a][0])&&e[a].length<3){var c=e[a];if(!s.includes(c)){s.push(c),c.startsWith(".")&&2===c.length&&!1===n[c.slice(1)]?n[c.slice(1)]=!0:c.startsWith("#")&&2===c.length&&!1===i[c.slice(1)]?i[c.slice(1)]=!0:c.startsWith(".")||c.startsWith("#")||1!==c.length||!1!==o[c]||(o[c]=!0);continue}}var h=""+u+t[f%t.length]+r[f%r.length];if(s.includes(h)){for(var p=h,g=0,d=Array.from(e[a]).reduce((function(e,t){return e<200?e+pe(t):(e+pe(t))%r.length}),0),y=Array.from(e[a]).map((function(e){return pe(e)})).reduce((function(e,t){var r=e+t;do{r=String(r).split("").reduce((function(e,t){return e+Number.parseInt(t,10)}),0)}while(r>=10);return r}),0);s.includes(p);)p+=r[d*y*(g+=1)%r.length];h=p}s.push(h),h.startsWith(".")&&2===h.length&&!1===n[h.slice(1)]?n[h.slice(1)]=!0:h.startsWith("#")&&2===h.length&&!1===i[h.slice(1)]?i[h.slice(1)]=!0:h.startsWith(".")||h.startsWith("#")||1!==h.length||!1!==o[h]||(o[h]=!0)}for(var m=0,v=s.length;m<v;m++)s[m].startsWith(".")?!1===n[s[m].slice(1,2)]?(n[s[m].slice(1,2)]=s[m],s[m]=s[m].slice(0,2)):n[s[m].slice(1,2)]===s[m]&&(s[m]=s[m].slice(0,2)):s[m].startsWith("#")?!1===i[s[m].slice(1,2)]?(i[s[m].slice(1,2)]=s[m],s[m]=s[m].slice(0,2)):i[s[m].slice(1,2)]===s[m]&&(s[m]=s[m].slice(0,2)):s[m].startsWith(".")||s[m].startsWith("#")||(o[s[m].slice(0,1)]?o[s[m].slice(0,1)]===s[m]&&(s[m]=s[m].slice(0,1)):(o[s[m].slice(0,1)]=s[m],s[m]=s[m].slice(0,1)));return s}(be)),J=be.length,B=X.uglify?be.map((function(e,t){return[e,D[t]]})).filter((function(e){return!X.whitelist.some((function(t){return w.isMatch(e[0],t)}))})):null,F=s.current()?Array.from(s.current()||[]):null}},Re=1;Re<=2;Re++)We(Re);s.push(l.current()),e.length&&s.current()&&(e=ve(e,s.current()),s.wipe());var xe=X.reportProgressFuncTo-.06*(X.reportProgressFuncTo-X.reportProgressFuncFrom);for(X.reportProgressFunc&&re>=2e3&&(ae=Math.floor(xe+(X.reportProgressFuncTo-xe)/5))!==Ce&&(Ce=ae,X.reportProgressFunc(ae));Tt.test(e)||bt.test(e);)e=(e=e.replace(Tt,"")).replace(bt,""),N+=e.length;X.reportProgressFunc&&re>=2e3&&(ae=Math.floor(xe+(X.reportProgressFuncTo-xe)/5*2))!==Ce&&(Ce=ae,X.reportProgressFunc(ae)),e=e.replace(vt,"\n"),N+=e.length,X.reportProgressFunc&&re>=2e3&&(ae=Math.floor(xe+(X.reportProgressFuncTo-xe)/5*3))!==Ce&&(Ce=ae,X.reportProgressFunc(ae));var Fe=e.length;return e=e.replace(/<!(--)?\[if[^\]]*]>[<>!-\s]*<!\[endif\]\1>/gi,""),N+=e.length,Fe!==e.length&&(Z+=e.length-Fe),X.reportProgressFunc&&re>=2e3&&(ae=Math.floor(xe+(X.reportProgressFuncTo-xe)/5*4))!==Ce&&(Ce=ae,X.reportProgressFunc(ae)),(Fe=(e=Pe(e,{removeLineBreaks:!1,removeIndentations:!1,removeHTMLComments:!1,removeCSSComments:!1,lineLengthLimit:500}).result).length)!==e.length&&(V+=e.length-Fe),N+=e.length,X.reportProgressFunc&&re>=2e3&&(ae=Math.floor(xe+(X.reportProgressFuncTo-xe)))!==Ce&&(Ce=ae,X.reportProgressFunc(ae)),e.length&&(e[0].trim()&&e[e.length-1].trim()||e.length===e.trim().length||(V+=e.length-e.trim().length),e=e.trimStart()),e=e.replace(/ ((class|id)=["']) /g," $1"),{log:{timeTakenInMilliseconds:Date.now()-o,traversedTotalCharacters:N,traversedTimesInputLength:re?Math.round(N/re*100)/100:0,originalLength:re,cleanedLength:e.length,bytesSaved:Math.max(re-e.length,0),percentageReducedOfOriginal:re?Math.round(100*Math.max(re-e.length,0)/re):0,nonIndentationsWhitespaceLength:Math.max(V-se,0),nonIndentationsTakeUpPercentageOfOriginal:re&&Math.max(V-se,0)?Math.round(100*Math.max(V,0)/re):0,commentsLength:Z,commentsTakeUpPercentageOfOriginal:re&&Z?Math.round(100*Z/re):0,uglified:B},result:e,countAfterCleaning:J,countBeforeCleaning:q,allInHead:_e.sort(),allInBody:we.sort(),deletedFromHead:Me.sort(),deletedFromBody:Le.sort()}},e.defaults=St,e.version="4.1.0",Object.defineProperty(e,"__esModule",{value:!0})}));
