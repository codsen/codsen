/**
 * email-comb
 * Remove unused CSS from email templates
 * Version: 3.10.0
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://codsen.com/os/email-comb/
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).emailComb={})}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(t){return t&&"object"===e(t)&&!Array.isArray(t)}function h(t){return"string"==typeof t}function g(t,e,r,n,i,o){var a="function"==typeof r?r():r;if(e<0&&i&&"EOL"===a)return a;if(e>=t.length&&!i)return!1;for(var s=i?1:r.length,l=!1,u=!1,c=n.maxMismatches,f=e,h=!1,g=!1,p=!1;t[f];){var d=o(f);if(n.trimBeforeMatching&&""===t[f].trim()){if(!t[d]&&i&&"EOL"===r)return!0;f=o(f)}else if(!n.i&&n.trimCharsBeforeMatching.includes(t[f])||n.i&&n.trimCharsBeforeMatching.map((function(t){return t.toLowerCase()})).includes(t[f].toLowerCase())){if(i&&"EOL"===r&&!t[d])return!0;f=o(f)}else{var y=d>f?r[r.length-s]:r[s-1];if(!n.i&&t[f]===y||n.i&&t[f].toLowerCase()===y.toLowerCase()){if(h||(h=!0),u||(u=!0),s===r.length?g=!0:1===s&&(p=!0),(s-=1)<1)return f}else{if(!(n.maxMismatches&&c&&f))return!(0!==f||1!==s||n.lastMustMatch||!u)&&0;c-=1;for(var m=0;m<=c;m++){var v=d>f?r[r.length-s+1+m]:r[s-2-m],T=t[o(f)];if(v&&(!n.i&&t[f]===v||n.i&&t[f].toLowerCase()===v.toLowerCase())&&(!n.firstMustMatch||s!==r.length)){s-=2,h=!0;break}if(T&&v&&(!n.i&&T===v||n.i&&T.toLowerCase()===v.toLowerCase())&&(!n.firstMustMatch||s!==r.length)){s-=1,h=!0;break}if(void 0===v&&c>=0&&h&&(!n.firstMustMatch||g)&&(!n.lastMustMatch||p))return f}h||(l=f)}if(!1!==l&&l!==f&&(l=!1),s<1)return f;f=o(f)}}return s>0?!(!i||"EOL"!==a)||!!(n.maxMismatches>=s&&u)&&(l||0):void 0}function p(t,r,n,i,a){if(f(a)&&Object.prototype.hasOwnProperty.call(a,"trimBeforeMatching")&&"boolean"!=typeof a.trimBeforeMatching)throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_09] opts.trimBeforeMatching should be boolean!").concat(Array.isArray(a.trimBeforeMatching)?" Did you mean to use opts.trimCharsBeforeMatching?":""));var s,l,u,c,p,d=o(o({},{i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],maxMismatches:0,firstMustMatch:!1,lastMustMatch:!1}),a);if(d.trimCharsBeforeMatching="string"==typeof(s=d.trimCharsBeforeMatching)?s.length>0?[s]:[]:s,d.trimCharsBeforeMatching=d.trimCharsBeforeMatching.map((function(t){return h(t)?t:String(t)})),!h(r))return!1;if(!r.length)return!1;if(!Number.isInteger(n)||n<0)throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ").concat(e(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(h(i))l=[i];else if(Array.isArray(i))l=i;else if(i){if("function"!=typeof i)throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ").concat(e(i),", equal to:\n").concat(JSON.stringify(i,null,4)));(l=[]).push(i)}else l=i;if(a&&!f(a))throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type \"").concat(e(a),'", and equal to:\n').concat(JSON.stringify(a,null,4)));if(d.trimCharsBeforeMatching.some((function(t,e){return t.length>1&&(c=e,p=t,!0)})))throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ").concat(c," is longer than 1 character, ").concat(p.length," (equals to ").concat(p,"). Please split it into separate characters and put into array as separate elements."));if(!l||!Array.isArray(l)||Array.isArray(l)&&!l.length||Array.isArray(l)&&1===l.length&&h(l[0])&&!l[0].trim()){if("function"==typeof d.cb){var y,m=n;if("matchLeftIncl"!==t&&"matchRight"!==t||(m+=1),"L"===t[5])for(var v=m;v--;){var T=r[v];if((!d.trimBeforeMatching||d.trimBeforeMatching&&void 0!==T&&T.trim())&&(!d.trimCharsBeforeMatching.length||void 0!==T&&!d.trimCharsBeforeMatching.includes(T))){y=v;break}}else if(t.startsWith("matchRight"))for(var b=m;b<r.length;b++){var _=r[b];if((!d.trimBeforeMatching||d.trimBeforeMatching&&_.trim())&&(!d.trimCharsBeforeMatching.length||!d.trimCharsBeforeMatching.includes(_))){y=b;break}}if(void 0===y)return!1;var w=r[y],O=y+1,S="";return O&&O>0&&(S=r.slice(0,O)),"L"===t[5]?d.cb(w,S,y):(y&&y>0&&(S=r.slice(y)),d.cb(w,S,y))}var A="";throw a||(A=" More so, the whole options object, the fourth input argument, is missing!"),new Error("string-match-left-right/".concat(t,'(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!').concat(A))}for(var I=0,C=l.length;I<C;I++){u="function"==typeof l[I];var L=l[I],j=void 0,W=void 0,M="",R=n;"matchRight"===t?R+=1:"matchLeft"===t&&(R-=1);var k=g(r,R,L,d,u,(function(e){return"L"===t[5]?e-1:e+1}));if(k&&u&&"function"==typeof L&&"EOL"===L())return!(!L()||d.cb&&!d.cb(j,M,W))&&L();if(Number.isInteger(k)&&(W=t.startsWith("matchLeft")?k-1:k+1,M="L"===t[5]?r.slice(0,k):r.slice(W)),W<0&&(W=void 0),r[W]&&(j=r[W]),Number.isInteger(k)&&(!d.cb||d.cb(j,M,W)))return L}return!1}function d(t,e,r,n){return p("matchLeft",t,e,r,n)}function y(t,e,r,n){return p("matchRightIncl",t,e,r,n)}function m(t,e,r,n){return p("matchRight",t,e,r,n)}var v=new Map;function T(t,e){e=o({caseSensitive:!1},e);var r=t+JSON.stringify(e);if(v.has(r))return v.get(r);var n="!"===t[0];n&&(t=t.slice(1)),t=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(t).replace(/\\\*/g,"[\\s\\S]*");var i=new RegExp("^".concat(t,"$"),e.caseSensitive?"":"i");return i.negated=n,v.set(r,i),i}var b=function(t,r,n){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Expected two arrays, got ".concat(e(t)," ").concat(e(r)));if(0===r.length)return t;var i="!"===r[0][0];r=r.map((function(t){return T(t,n)}));var o,a=[],s=c(t);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,f=i,h=c(r);try{for(h.s();!(l=h.n()).done;){var g=l.value;g.test(u)&&(f=!g.negated)}}catch(t){h.e(t)}finally{h.f()}f&&a.push(u)}}catch(t){s.e(t)}finally{s.f()}return a};function _(t,r,n){function i(t){return"string"==typeof t}if(!Array.isArray(t))throw new Error("array-pull-all-with-glob: [THROW_ID_01] first argument must be an array! Currently it's ".concat(e(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(!t.length)return[];if(null==r)throw new Error("array-pull-all-with-glob: [THROW_ID_02] second argument is missing!");var a,s;if("string"==typeof r){if(0===r.length)return t;a=[r]}else if(Array.isArray(r)){if(0===r.length)return t;a=Array.from(r)}else if(!Array.isArray(r))throw new Error("array-pull-all-with-glob: [THROW_ID_04] first argument must be an array! Currently it's ".concat(e(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(0===t.length||0===r.length)return t;if(!t.every((function(t){return i(t)})))throw new Error("array-pull-all-with-glob: [THROW_ID_05] first argument array contains non-string elements: ".concat(JSON.stringify(t,null,4)));if(!a.every((function(t){return i(t)})))throw new Error("array-pull-all-with-glob: [THROW_ID_06] first argument array contains non-string elements: ".concat(JSON.stringify(a,null,4)));if(n&&(Array.isArray(n)||"object"!==e(n)))throw new Error("array-pull-all-with-glob: [THROW_ID_07] third argument, options object is not a plain object but ".concat(Array.isArray(n)?"array":e(n)));var l={caseSensitive:!0};return s=null===n?o({},l):o(o({},l),n),Array.from(t).filter((function(t){return!a.some((function(e){return b.isMatch(t,e,{caseSensitive:s.caseSensitive})}))}))}b.isMatch=function(t,e,r){var n=Array.isArray(t)?t:[t],i=Array.isArray(e)?e:[e];return n.some((function(t){return i.every((function(e){var n=T(e,r),i=n.test(t);return n.negated?!i:i}))}))};var w,O,S=Function.prototype,A=Object.prototype,I=S.toString,C=A.hasOwnProperty,L=I.call(Object),j=A.toString,W=(w=Object.getPrototypeOf,O=Object,function(t){return w(O(t))});var M=function(t){if(!function(t){return!!t&&"object"==e(t)}(t)||"[object Object]"!=j.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var r=W(t);if(null===r)return!0;var n=C.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==L},R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t,e,r){t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}((function(t,r){var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",l="[object Function]",u="[object GeneratorFunction]",c="[object Map]",f="[object Number]",h="[object Object]",g="[object Promise]",p="[object RegExp]",d="[object Set]",y="[object String]",m="[object Symbol]",v="[object WeakMap]",T="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",W=/\w*$/,M=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,F={};F[o]=F["[object Array]"]=F[T]=F[b]=F[a]=F[s]=F[_]=F[w]=F[O]=F[S]=F[A]=F[c]=F[f]=F[h]=F[p]=F[d]=F[y]=F[m]=F[I]=F[C]=F[L]=F[j]=!0,F["[object Error]"]=F[l]=F[v]=!1;var x="object"==e(R)&&R&&R.Object===Object&&R,E="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,P=x||E||Function("return this")(),H=r&&!r.nodeType&&r,N=H&&t&&!t.nodeType&&t,D=N&&N.exports===H;function B(t,e){return t.set(e[0],e[1]),t}function J(t,e){return t.add(e),t}function q(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function U(t,e){return function(r){return t(e(r))}}function G(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var V,Z=Array.prototype,Y=Function.prototype,K=Object.prototype,Q=P["__core-js_shared__"],X=(V=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",tt=Y.toString,et=K.hasOwnProperty,rt=K.toString,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=D?P.Buffer:void 0,ot=P.Symbol,at=P.Uint8Array,st=U(Object.getPrototypeOf,Object),lt=Object.create,ut=K.propertyIsEnumerable,ct=Z.splice,ft=Object.getOwnPropertySymbols,ht=it?it.isBuffer:void 0,gt=U(Object.keys,Object),pt=Nt(P,"DataView"),dt=Nt(P,"Map"),yt=Nt(P,"Promise"),mt=Nt(P,"Set"),vt=Nt(P,"WeakMap"),Tt=Nt(Object,"create"),bt=$t(pt),_t=$t(dt),wt=$t(yt),Ot=$t(mt),St=$t(vt),At=ot?ot.prototype:void 0,It=At?At.valueOf:void 0;function Ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function jt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wt(t){this.__data__=new Lt(t)}function Mt(t,r){var n=Ut(t)||function(t){return function(t){return function(t){return!!t&&"object"==e(t)}(t)&&Gt(t)}(t)&&et.call(t,"callee")&&(!ut.call(t,"callee")||rt.call(t)==o)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],i=n.length,a=!!i;for(var s in t)!r&&!et.call(t,s)||a&&("length"==s||Jt(s,i))||n.push(s);return n}function Rt(t,e,r){var n=t[e];et.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function kt(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function Ft(t,e,r,n,i,g,v){var M;if(n&&(M=g?n(t,i,g,v):n(t)),void 0!==M)return M;if(!Yt(t))return t;var R=Ut(t);if(R){if(M=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&et.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,M)}else{var k=Bt(t),x=k==l||k==u;if(Vt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(k==h||k==o||x&&!g){if($(t))return g?t:{};if(M=function(t){return"function"!=typeof t.constructor||qt(t)?{}:(e=st(t),Yt(e)?lt(e):{});var e}(x?{}:t),!e)return function(t,e){return Pt(t,Dt(t),e)}(t,function(t,e){return t&&Pt(e,Kt(e),t)}(M,t))}else{if(!F[k])return g?t:{};M=function(t,e,r,n){var i=t.constructor;switch(e){case T:return Et(t);case a:case s:return new i(+t);case b:return function(t,e){var r=e?Et(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case _:case w:case O:case S:case A:case I:case C:case L:case j:return function(t,e){var r=e?Et(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case c:return function(t,e,r){return q(e?r(z(t),!0):z(t),B,new t.constructor)}(t,n,r);case f:case y:return new i(t);case p:return function(t){var e=new t.constructor(t.source,W.exec(t));return e.lastIndex=t.lastIndex,e}(t);case d:return function(t,e,r){return q(e?r(G(t),!0):G(t),J,new t.constructor)}(t,n,r);case m:return o=t,It?Object(It.call(o)):{}}var o}(t,k,Ft,e)}}v||(v=new Wt);var E=v.get(t);if(E)return E;if(v.set(t,M),!R)var P=r?function(t){return function(t,e,r){var n=e(t);return Ut(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Kt,Dt)}(t):Kt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(P||t,(function(i,o){P&&(i=t[o=i]),Rt(M,o,Ft(i,e,r,n,o,t,v))})),M}function xt(t){return!(!Yt(t)||function(t){return!!X&&X in t}(t))&&(Zt(t)||$(t)?nt:M).test($t(t))}function Et(t){var e=new t.constructor(t.byteLength);return new at(e).set(new at(t)),e}function Pt(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=n?n(r[a],t[a],a,r,t):void 0;Rt(r,a,void 0===s?t[a]:s)}return r}function Ht(t,r){var n,i,o=t.__data__;return("string"==(i=e(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function Nt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return xt(r)?r:void 0}Ct.prototype.clear=function(){this.__data__=Tt?Tt(null):{}},Ct.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ct.prototype.get=function(t){var e=this.__data__;if(Tt){var r=e[t];return r===n?void 0:r}return et.call(e,t)?e[t]:void 0},Ct.prototype.has=function(t){var e=this.__data__;return Tt?void 0!==e[t]:et.call(e,t)},Ct.prototype.set=function(t,e){return this.__data__[t]=Tt&&void 0===e?n:e,this},Lt.prototype.clear=function(){this.__data__=[]},Lt.prototype.delete=function(t){var e=this.__data__,r=kt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ct.call(e,r,1),!0)},Lt.prototype.get=function(t){var e=this.__data__,r=kt(e,t);return r<0?void 0:e[r][1]},Lt.prototype.has=function(t){return kt(this.__data__,t)>-1},Lt.prototype.set=function(t,e){var r=this.__data__,n=kt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},jt.prototype.clear=function(){this.__data__={hash:new Ct,map:new(dt||Lt),string:new Ct}},jt.prototype.delete=function(t){return Ht(this,t).delete(t)},jt.prototype.get=function(t){return Ht(this,t).get(t)},jt.prototype.has=function(t){return Ht(this,t).has(t)},jt.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Wt.prototype.clear=function(){this.__data__=new Lt},Wt.prototype.delete=function(t){return this.__data__.delete(t)},Wt.prototype.get=function(t){return this.__data__.get(t)},Wt.prototype.has=function(t){return this.__data__.has(t)},Wt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Lt){var n=r.__data__;if(!dt||n.length<199)return n.push([t,e]),this;r=this.__data__=new jt(n)}return r.set(t,e),this};var Dt=ft?U(ft,Object):function(){return[]},Bt=function(t){return rt.call(t)};function Jt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function $t(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(pt&&Bt(new pt(new ArrayBuffer(1)))!=b||dt&&Bt(new dt)!=c||yt&&Bt(yt.resolve())!=g||mt&&Bt(new mt)!=d||vt&&Bt(new vt)!=v)&&(Bt=function(t){var e=rt.call(t),r=e==h?t.constructor:void 0,n=r?$t(r):void 0;if(n)switch(n){case bt:return b;case _t:return c;case wt:return g;case Ot:return d;case St:return v}return e});var Ut=Array.isArray;function Gt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Zt(t)}var Vt=ht||function(){return!1};function Zt(t){var e=Yt(t)?rt.call(t):"";return e==l||e==u}function Yt(t){var r=e(t);return!!t&&("object"==r||"function"==r)}function Kt(t){return Gt(t)?Mt(t):function(t){if(!qt(t))return gt(t);var e=[];for(var r in Object(t))et.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return Ft(t,!0,!0)}}));function k(t,e){return function(t,e,r){if("string"!=typeof t||!t.length)return null;if(e&&"number"==typeof e||(e=0),!t[e+1])return null;if(t[e+1]&&(!r&&t[e+1].trim()||r&&(t[e+1].trim()||"\n\r".includes(t[e+1]))))return e+1;if(t[e+2]&&(!r&&t[e+2].trim()||r&&(t[e+2].trim()||"\n\r".includes(t[e+2]))))return e+2;for(var n=e+1,i=t.length;n<i;n++)if(t[n]&&(!r&&t[n].trim()||r&&(t[n].trim()||"\n\r".includes(t[n]))))return n;return null}(t,e,!1)}function F(t,e){return function(t,e,r){if("string"!=typeof t||!t.length)return null;if(e&&"number"==typeof e||(e=0),e<1)return null;if(t[~-e]&&(!r&&t[~-e].trim()||r&&(t[~-e].trim()||"\n\r".includes(t[~-e]))))return~-e;if(t[e-2]&&(!r&&t[e-2].trim()||r&&(t[e-2].trim()||"\n\r".includes(t[e-2]))))return e-2;for(var n=e;n--;)if(t[n]&&(!r&&t[n].trim()||r&&(t[n].trim()||"\n\r".includes(t[n]))))return n;return null}(t,e,!1)}function x(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof t)throw new TypeError("string-extract-class-names: [THROW_ID_02] first input should be string, not ".concat(e(t),", currently equal to ").concat(JSON.stringify(t,null,4)));if("boolean"!=typeof r)throw new TypeError("string-extract-class-names: [THROW_ID_03] second input argument should be a Boolean, not ".concat(e(t),", currently equal to ").concat(JSON.stringify(t,null,4)));var n,i=".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`";function o(t){return"string"==typeof t&&t.length&&(t.charCodeAt(0)>64&&t.charCodeAt(0)<91||t.charCodeAt(0)>96&&t.charCodeAt(0)<123)}for(var a=null,s=[],l=0,u=t.length;l<u;l++)null!==a&&l>=a&&(i.includes(t[l])||!t[l].trim())&&(l>a+1&&(r?s.push([a,l]):s.push("".concat(n||"").concat(t.slice(a,l))),n&&(n=void 0)),a=null),null!==a||"."!==t[l]&&"#"!==t[l]||(a=l),t.startsWith("class",l)&&"["===t[F(t,l)]&&"="===t[k(t,l+4)]&&(o(t[k(t,k(t,l+4))])?a=k(t,k(t,l+4)):"'\"".includes(t[k(t,k(t,l+4))])&&o(t[k(t,k(t,k(t,l+4)))])&&(a=k(t,k(t,k(t,l+4)))),n="."),t.startsWith("id",l)&&"["===t[F(t,l)]&&"="===t[k(t,l+1)]&&(o(t[k(t,k(t,l+1))])?a=k(t,k(t,l+1)):"'\"".includes(t[k(t,k(t,l+1))])&&o(t[k(t,k(t,k(t,l+1)))])&&(a=k(t,k(t,k(t,l+1)))),n="#"),l+1===u&&null!==a&&l>a&&(r?s.push([a,u]):s.push(t.slice(a,u)));return s}var E="__lodash_hash_undefined__",P=9007199254740991,H=/^\[object .+?Constructor\]$/,N="object"==e(R)&&R&&R.Object===Object&&R,D="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,B=N||D||Function("return this")();function J(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function q(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,U,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function $(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function z(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function U(t){return t!=t}function G(t){return function(e){return t(e)}}function V(t,e){return t.has(e)}var Z,Y=Array.prototype,K=Function.prototype,Q=Object.prototype,X=B["__core-js_shared__"],tt=(Z=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",et=K.toString,rt=Q.hasOwnProperty,nt=Q.toString,it=RegExp("^"+et.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=Y.splice,at=Math.max,st=Math.min,lt=vt(B,"Map"),ut=vt(Object,"create");function ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ft(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ht(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function gt(t){var e=-1,r=t?t.length:0;for(this.__data__=new ht;++e<r;)this.add(t[e])}function pt(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function dt(t){return!(!bt(t)||function(t){return!!tt&&tt in t}(t))&&(Tt(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?it:H).test(function(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function yt(t){return function(t){return function(t){return!!t&&"object"==e(t)}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=P}(t.length)&&!Tt(t)}(t)}(t)?t:[]}function mt(t,r){var n,i,o=t.__data__;return("string"==(i=e(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function vt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(r)?r:void 0}function Tt(t){var e=bt(t)?nt.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function bt(t){var r=e(t);return!!t&&("object"==r||"function"==r)}ct.prototype.clear=function(){this.__data__=ut?ut(null):{}},ct.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ct.prototype.get=function(t){var e=this.__data__;if(ut){var r=e[t];return r===E?void 0:r}return rt.call(e,t)?e[t]:void 0},ct.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:rt.call(e,t)},ct.prototype.set=function(t,e){return this.__data__[t]=ut&&void 0===e?E:e,this},ft.prototype.clear=function(){this.__data__=[]},ft.prototype.delete=function(t){var e=this.__data__,r=pt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ot.call(e,r,1),!0)},ft.prototype.get=function(t){var e=this.__data__,r=pt(e,t);return r<0?void 0:e[r][1]},ft.prototype.has=function(t){return pt(this.__data__,t)>-1},ft.prototype.set=function(t,e){var r=this.__data__,n=pt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},ht.prototype.clear=function(){this.__data__={hash:new ct,map:new(lt||ft),string:new ct}},ht.prototype.delete=function(t){return mt(this,t).delete(t)},ht.prototype.get=function(t){return mt(this,t).get(t)},ht.prototype.has=function(t){return mt(this,t).has(t)},ht.prototype.set=function(t,e){return mt(this,t).set(t,e),this},gt.prototype.add=gt.prototype.push=function(t){return this.__data__.set(t,E),this},gt.prototype.has=function(t){return this.__data__.has(t)};var _t=function(t,e){return e=at(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=at(r.length-e,0),o=Array(i);++n<i;)o[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=o,J(t,this,a)}}((function(t){var e=z(t,yt);return e.length&&e[0]===t[0]?function(t,e,r){for(var n=r?$:q,i=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=t[a];a&&e&&(c=z(c,G(e))),l=st(c.length,l),s[a]=!r&&(e||i>=120&&c.length>=120)?new gt(a&&c):void 0}c=t[0];var f=-1,h=s[0];t:for(;++f<i&&u.length<l;){var g=c[f],p=e?e(g):g;if(g=r||0!==g?g:0,!(h?V(h,p):n(u,p,r))){for(a=o;--a;){var d=s[a];if(!(d?V(d,p):n(t[a],p,r)))continue t}h&&h.push(p),u.push(g)}}return u}(e):[]}));function wt(t){var r,n=/^[0-9a-zA-Z]+$/;function i(t){return!(!t||"string"!=typeof t)&&!t.trim()}function a(t){return"string"==typeof t}if(!t||"object"!==e(t)||Array.isArray(t))throw r=void 0===t?"but it is missing completely.":null===t?"but it was given as null.":"but it was given as ".concat(e(t),", equal to:\n").concat(JSON.stringify(t,null,4),"."),new Error("string-range-expander: [THROW_ID_01] Input must be a plain object ".concat(r));if("object"===e(t)&&null!==t&&!Array.isArray(t)&&!Object.keys(t).length)throw new Error("string-range-expander: [THROW_ID_02] Input must be a plain object but it was given as a plain object without any keys.");if("number"!=typeof t.from)throw new Error("string-range-expander: [THROW_ID_03] The input's \"from\" value opts.from, is not a number! Currently it's given as ".concat(e(t.from),", equal to ").concat(JSON.stringify(t.from,null,0)));if("number"!=typeof t.to)throw new Error("string-range-expander: [THROW_ID_04] The input's \"to\" value opts.to, is not a number! Currently it's given as ".concat(e(t.to),", equal to ").concat(JSON.stringify(t.to,null,0)));if(!t.str[t.from]&&t.from!==t.to)throw new Error('string-range-expander: [THROW_ID_05] The given input string opts.str ("'.concat(t.str,'") must contain the character at index "from" ("').concat(t.from,'")'));if(!t.str[t.to-1])throw new Error('string-range-expander: [THROW_ID_06] The given input string, opts.str ("'.concat(t.str,'") must contain the character at index before "to" ("').concat(t.to-1,'")'));if(t.from>t.to)throw new Error('string-range-expander: [THROW_ID_07] The given "from" index, "'.concat(t.from,'" is greater than "to" index, "').concat(t.to,"\". That's wrong!"));if(a(t.extendToOneSide)&&"left"!==t.extendToOneSide&&"right"!==t.extendToOneSide||!a(t.extendToOneSide)&&void 0!==t.extendToOneSide&&!1!==t.extendToOneSide)throw new Error("string-range-expander: [THROW_ID_08] The opts.extendToOneSide value is not recogniseable! It's set to: \"".concat(t.extendToOneSide,'" (').concat(e(t.extendToOneSide),'). It has to be either Boolean "false" or strings "left" or "right"'));var s=o(o({},{str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1}),t);if(Array.isArray(s.ifLeftSideIncludesThisThenCropTightly)){var l,u;if(!s.ifLeftSideIncludesThisThenCropTightly.every((function(t,e){return!!a(t)||(l=e,u=t,!1)})))throw new Error("string-range-expander: [THROW_ID_09] The opts.ifLeftSideIncludesThisThenCropTightly was set to an array:\n".concat(JSON.stringify(s.ifLeftSideIncludesThisThenCropTightly,null,4),". Now, that array contains not only string elements. For example, an element at index ").concat(l," is of a type ").concat(e(u)," (equal to ").concat(JSON.stringify(u,null,0),")."));s.ifLeftSideIncludesThisThenCropTightly=s.ifLeftSideIncludesThisThenCropTightly.join("")}var c=s.str,f=s.from,h=s.to;if("right"!==s.extendToOneSide&&(i(c[f-1])&&(i(c[f-2])||s.ifLeftSideIncludesThisCropItToo.includes(c[f-2]))||c[f-1]&&s.ifLeftSideIncludesThisCropItToo.includes(c[f-1])||s.wipeAllWhitespaceOnLeft&&i(c[f-1])))for(var g=f;g--;)if(!s.ifLeftSideIncludesThisCropItToo.includes(c[g])){if(c[g].trim()){f=s.wipeAllWhitespaceOnLeft||s.ifLeftSideIncludesThisCropItToo.includes(c[g+1])?g+1:g+2;break}if(0===g){f=s.wipeAllWhitespaceOnLeft?0:1;break}}if("left"!==s.extendToOneSide&&(i(c[h])&&(s.wipeAllWhitespaceOnRight||i(c[h+1]))||s.ifRightSideIncludesThisCropItToo.includes(c[h])))for(var p=h,d=c.length;p<d;p++)if(!s.ifRightSideIncludesThisCropItToo.includes(c[p])&&(c[p]&&c[p].trim()||void 0===c[p])){h=s.wipeAllWhitespaceOnRight||s.ifRightSideIncludesThisCropItToo.includes(c[p-1])?p:p-1;break}return("right"!==s.extendToOneSide&&a(s.ifLeftSideIncludesThisThenCropTightly)&&s.ifLeftSideIncludesThisThenCropTightly&&(c[f-2]&&s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-2])||c[f-1]&&s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-1]))||"left"!==s.extendToOneSide&&a(s.ifRightSideIncludesThisThenCropTightly)&&s.ifRightSideIncludesThisThenCropTightly&&(c[h+1]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h+1])||c[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h])))&&("right"!==s.extendToOneSide&&i(c[f-1])&&!s.wipeAllWhitespaceOnLeft&&(f-=1),"left"!==s.extendToOneSide&&i(c[h])&&!s.wipeAllWhitespaceOnRight&&(h+=1)),s.addSingleSpaceToPreventAccidentalConcatenation&&c[f-1]&&c[f-1].trim()&&c[h]&&c[h].trim()&&(!s.ifLeftSideIncludesThisThenCropTightly&&!s.ifRightSideIncludesThisThenCropTightly||s.ifLeftSideIncludesThisThenCropTightly&&!s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-1])||!(!s.ifRightSideIncludesThisThenCropTightly||c[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h])))&&(n.test(c[f-1])||n.test(c[h]))?[f,h," "]:[f,h]}var Ot=Array.isArray;function St(t,e){return t.codePointAt(e)}function At(t,e){if(!Array.isArray(t)||!t.length)return t;var r,n,i=o(o({},{strictlyTwoElementsInRangeArrays:!1,progressFn:null}),e);if(i.strictlyTwoElementsInRangeArrays&&!t.filter((function(t){return t})).every((function(t,e){return 2===t.length||(r=e,n=t.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") has not two but ").concat(n," elements!"));if(!t.filter((function(t){return t})).every((function(t,e){return!(!Number.isInteger(t[0])||t[0]<0||!Number.isInteger(t[1])||t[1]<0)||(r=e,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") does not consist of only natural numbers!"));var a=Math.pow(t.filter((function(t){return t})).length,2),s=0;return Array.from(t).filter((function(t){return t})).sort((function(t,e){return i.progressFn&&(s+=1,i.progressFn(Math.floor(100*s/a))),t[0]===e[0]?t[1]<e[1]?-1:t[1]>e[1]?1:0:t[0]<e[0]?-1:1}))}function It(t,r){function n(t){return"string"==typeof t}function i(t){return t&&"object"===e(t)&&!Array.isArray(t)}if(!Array.isArray(t)||!t.length)return null;var a,l={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};if(r){if(!i(r))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(r,null,4)," (type ").concat(e(r),")"));if((a=o(o({},l),r)).progressFn&&i(a.progressFn)&&!Object.keys(a.progressFn).length)a.progressFn=null;else if(a.progressFn&&"function"!=typeof a.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat(e(a.progressFn),'", equal to ').concat(JSON.stringify(a.progressFn,null,4)));if(a.mergeType&&1!==a.mergeType&&2!==a.mergeType)if(n(a.mergeType)&&"1"===a.mergeType.trim())a.mergeType=1;else{if(!n(a.mergeType)||"2"!==a.mergeType.trim())throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(e(a.mergeType),'", equal to ').concat(JSON.stringify(a.mergeType,null,4)));a.mergeType=2}if("boolean"!=typeof a.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat(e(a.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(a.joinRangesThatTouchEdges,null,4)))}else a=o({},l);for(var u,c,f,h=t.filter((function(t){return t})).map((function(t){return s(t)})).filter((function(t){return void 0!==t[2]||t[0]!==t[1]})),g=(u=a.progressFn?At(h,{progressFn:function(t){(f=Math.floor(t/5))!==c&&(c=f,a.progressFn(f))}}):At(h)).length-1,p=g;p>0;p--)a.progressFn&&(f=Math.floor(78*(1-p/g))+21)!==c&&f>c&&(c=f,a.progressFn(f)),(u[p][0]<=u[p-1][0]||!a.joinRangesThatTouchEdges&&u[p][0]<u[p-1][1]||a.joinRangesThatTouchEdges&&u[p][0]<=u[p-1][1])&&(u[p-1][0]=Math.min(u[p][0],u[p-1][0]),u[p-1][1]=Math.max(u[p][1],u[p-1][1]),void 0!==u[p][2]&&(u[p-1][0]>=u[p][0]||u[p-1][1]<=u[p][1])&&null!==u[p-1][2]&&(null===u[p][2]&&null!==u[p-1][2]?u[p-1][2]=null:void 0!==u[p-1][2]?2===a.mergeType&&u[p-1][0]===u[p][0]?u[p-1][2]=u[p][2]:u[p-1][2]+=u[p][2]:u[p-1][2]=u[p][2]),u.splice(p,1),p=u.length);return u.length?u:null}function Ct(t){return null!=t}function Lt(t){return"string"==typeof t}function jt(t,r,n){var i,o=0,a=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(!Lt(t))throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat(e(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(r&&!Array.isArray(r))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat(e(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(n&&"function"!=typeof n)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat(e(n),", equal to: ").concat(JSON.stringify(n,null,4)));if(!r||!r.filter((function(t){return t})).length)return t;var s=(i=Array.isArray(r)&&(Number.isInteger(r[0])&&r[0]>=0||/^\d*$/.test(r[0]))&&(Number.isInteger(r[1])&&r[1]>=0||/^\d*$/.test(r[1]))?[Array.from(r)]:Array.from(r)).length,l=0;i.filter((function(t){return t})).forEach((function(t,r){if(n&&(o=Math.floor(l/s*10))!==a&&(a=o,n(o)),!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(r,"th element not an array: ").concat(JSON.stringify(t,null,4),", which is ").concat(e(t)));if(!Number.isInteger(t[0])||t[0]<0){if(!/^\d*$/.test(t[0]))throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has first element not an integer, but ").concat(e(t[0]),", equal to: ").concat(JSON.stringify(t[0],null,4),". Computer doesn't like this."));i[r][0]=Number.parseInt(i[r][0],10)}if(!Number.isInteger(t[1])){if(!/^\d*$/.test(t[1]))throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has second element not an integer, but ").concat(e(t[1]),", equal to: ").concat(JSON.stringify(t[1],null,4),". Computer doesn't like this."));i[r][1]=Number.parseInt(i[r][1],10)}l+=1}));var u=It(i,{progressFn:function(t){n&&(o=10+Math.floor(t/10))!==a&&(a=o,n(o))}});if(!u)return t;var c=u.length;if(c>0){var f=t.slice(u[c-1][1]);t=u.reduce((function(e,r,i,s){n&&(o=20+Math.floor(i/c*80))!==a&&(a=o,n(o));var l=0===i?0:s[i-1][1],u=s[i][0];return e+t.slice(l,u)+(Ct(s[i][2])?s[i][2]:"")}),""),t+=f}return t}function Wt(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Rt,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Mt(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Rt(t){return t!=t}var kt=Array.prototype.splice;function Ft(t,e,r,n){var i=n?Mt:Wt,o=-1,a=e.length,s=t;for(t===e&&(e=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(e)),r&&(s=function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(t,function(t){return function(e){return t(e)}}(r)));++o<a;)for(var l=0,u=e[o],c=r?r(u):u;(l=i(s,c,l,n))>-1;)s!==t&&kt.call(s,l,1),kt.call(t,l,1);return t}var xt=function(t,e){return t&&t.length&&e&&e.length?Ft(t,e):t},Et="Â ";function Pt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;if(!(r.trim()||t.length&&"\n"!==r&&r!==Et&&" "===(e?t[t.length-1]:t[0])||t.length&&"\n"===(e?t[t.length-1]:t[0])&&"\n"!==r&&r!==Et))if(e){if(("\n"===r||r===Et)&&t.length&&" "===t[t.length-1])for(;t.length&&" "===t[t.length-1];)t.pop();t.push(r===Et||"\n"===r?r:" ")}else{if(("\n"===r||r===Et)&&t.length&&" "===t[0])for(;t.length&&" "===t[0];)t.shift();t.unshift(r===Et||"\n"===r?r:" ")}}function Ht(t,e){if("string"==typeof t&&t.length){var r,n,i=!1;if(t.includes("\r\n")&&(i=!0),r=e&&"number"==typeof e?e:1,""===t.trim()){var o=[];for(n=r,Array.from(t).forEach((function(t){("\n"!==t||n)&&("\n"===t&&(n-=1),Pt(o,!0,t))}));o.length>1&&" "===o[o.length-1];)o.pop();return o.join("")}var a=[];if(n=r,""===t[0].trim())for(var s=0,l=t.length;s<l&&!t[s].trim();s++)("\n"!==t[s]||n)&&("\n"===t[s]&&(n-=1),Pt(a,!0,t[s]));var u=[];if(n=r,""===t.slice(-1).trim())for(var c=t.length;c--&&!t[c].trim();)("\n"!==t[c]||n)&&("\n"===t[c]&&(n-=1),Pt(u,!1,t[c]));return i?"".concat(a.join("")).concat(t.trim()).concat(u.join("")).replace(/\n/g,"\r\n"):a.join("")+t.trim()+u.join("")}return t}function Nt(t){return null!=t}function Dt(t){return Number.isInteger(t)&&t>=0}function Bt(t){return"string"==typeof t}function Jt(t){return/^\d*$/.test(t)?parseInt(t,10):t}var qt=function(){function t(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=o(o({},{limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1}),r);if(n.mergeType&&1!==n.mergeType&&2!==n.mergeType)if(Bt(n.mergeType)&&"1"===n.mergeType.trim())n.mergeType=1;else{if(!Bt(n.mergeType)||"2"!==n.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(e(n.mergeType),'", equal to ').concat(JSON.stringify(n.mergeType,null,4)));n.mergeType=2}this.opts=n}var n,i,a;return n=t,(i=[{key:"add",value:function(t,r,n){for(var i=this,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];if(a.length>0)throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ".concat(JSON.stringify(a,null,4)));if(Nt(t)||Nt(r)){if(Nt(t)&&!Nt(r)){if(Array.isArray(t)){if(t.length){if(t.some((function(t){return Array.isArray(t)})))return void t.forEach((function(t){Array.isArray(t)&&i.add.apply(i,s(t))}));t.length>1&&Dt(Jt(t[0]))&&Dt(Jt(t[1]))&&this.add.apply(this,s(t))}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('.concat(JSON.stringify(t,null,0),') but second-one, "to" is not (').concat(JSON.stringify(r,null,0),")"))}if(!Nt(t)&&Nt(r))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('.concat(JSON.stringify(r,null,0),') but first-one, "from" is not (').concat(JSON.stringify(t,null,0),")"));var u=/^\d*$/.test(t)?parseInt(t,10):t,c=/^\d*$/.test(r)?parseInt(r,10):r;if(Dt(n)&&(n=String(n)),!Dt(u)||!Dt(c))throw Dt(u)&&u>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(e(c),'" equal to: ').concat(JSON.stringify(c,null,4))):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(e(u),'" equal to: ').concat(JSON.stringify(u,null,4)));if(Nt(n)&&!Bt(n)&&!Dt(n))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ".concat(e(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(Nt(this.ranges)&&Array.isArray(this.last())&&u===this.last()[1]){if(this.last()[1]=c,this.last()[2],null!==this.last()[2]&&Nt(n)){var f=!(Nt(this.last()[2])&&this.last()[2].length>0)||this.opts&&this.opts.mergeType&&1!==this.opts.mergeType?n:this.last()[2]+n;this.opts.limitToBeAddedWhitespace&&(f=Ht(f,this.opts.limitLinebreaksCount)),Bt(f)&&!f.length||(this.last()[2]=f)}}else{this.ranges||(this.ranges=[]);var h=void 0===n||Bt(n)&&!n.length?[u,c]:[u,c,this.opts.limitToBeAddedWhitespace?Ht(n,this.opts.limitLinebreaksCount):n];this.ranges.push(h)}}}},{key:"push",value:function(t,e,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];this.add.apply(this,[t,e,r].concat(i))}},{key:"current",value:function(){var t=this;return null!=this.ranges?(this.ranges=It(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(e){return Nt(e[2])?[e[0],e[1],Ht(e[2],t.opts.limitLinebreaksCount)]:e})):this.ranges):null}},{key:"wipe",value:function(){this.ranges=void 0}},{key:"replace",value:function(t){if(Array.isArray(t)&&t.length){if(!Array.isArray(t[0])||!Dt(t[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ".concat(JSON.stringify(t[0],null,4)," should be an array and its first element should be an integer, a string index."));this.ranges=Array.from(t)}else this.ranges=void 0}},{key:"last",value:function(){return void 0!==this.ranges&&Array.isArray(this.ranges)?this.ranges[this.ranges.length-1]:null}}])&&r(n.prototype,i),a&&r(n,a),t}(),$t=new qt({limitToBeAddedWhitespace:!0}),zt={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,removeHTMLComments:!1,removeCSSComments:!0,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100,breakToTheLeftOf:["</td","<html","</html","<head","</head","<meta","<link","<table","<script","</script","<!DOCTYPE","<style","</style","<title","<body","@media","</body","\x3c!--[if","\x3c!--<![endif","<![endif]"],mindTheInlineTags:["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]},Ut={removeHTMLComments:!1,removeCSSComments:!1};function Gt(t){return"string"==typeof t}function Vt(t){return"string"==typeof t&&t.toUpperCase()!==t.toLowerCase()}function Zt(t,r){var n=Date.now();if(!Gt(t))throw void 0===t?new Error("html-crush: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error('html-crush: [THROW_ID_02] the first input argument must be string! It was given as "'.concat(e(t),'", equal to:\n').concat(JSON.stringify(t,null,4)));if(r&&!M(r))throw new Error("html-crush: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type ".concat(e(r),", equal to ").concat(JSON.stringify(r,null,4)));if(r&&Array.isArray(r.breakToTheLeftOf)&&r.breakToTheLeftOf.length)for(var i=0,l=r.breakToTheLeftOf.length;i<l;i++)if(!Gt(r.breakToTheLeftOf[i]))throw new TypeError("html-crush: [THROW_ID_05] the opts.breakToTheLeftOf array contains non-string elements! For example, element at index ".concat(i,' is of a type "').concat(e(r.breakToTheLeftOf[i]),'" and is equal to:\n').concat(JSON.stringify(r.breakToTheLeftOf[i],null,4)));var u=o(o({},zt),r);!1!==u.breakToTheLeftOf&&null!==u.breakToTheLeftOf||(u.breakToTheLeftOf=[]),"boolean"==typeof u.removeHTMLComments&&(u.removeHTMLComments=u.removeHTMLComments?1:0);var c="";Array.isArray(u.breakToTheLeftOf)&&u.breakToTheLeftOf.length&&(c=s(new Set(u.breakToTheLeftOf.map((function(t){return t[0]})))).join(""));var f,h,g,p=null,v=null,T=!1,b=0,_=0,w=!1,O=!1,S=null,A=null,I=null,C=null,L=null,j=null,W=null,R=null,x=null,E=null,P=">};",H="<",N="{},:;<>~+",D=N,B=N,J=!0,q=t.length,$=Math.floor(q/2);u.reportProgressFunc&&(h=Math.floor(u.reportProgressFuncTo-.01*(u.reportProgressFuncTo-u.reportProgressFuncFrom)-u.reportProgressFuncFrom));var z=0;if(q){for(var U=0;U<q;U++)if(u.reportProgressFunc&&(q>1e3&&q<2e3?U===$&&u.reportProgressFunc(Math.floor((u.reportProgressFuncTo-u.reportProgressFuncFrom)/2)):q>=2e3&&(g=u.reportProgressFuncFrom+Math.floor(U/q*h))!==z&&(z=g,u.reportProgressFunc(g))),_++,f&&"number"==typeof f&&U>=f&&(f=void 0),null===C||!t.startsWith("</script",U)||Vt(t[U+8])){if(!f&&!w&&t.startsWith("<script",U)&&!Vt(t[U+7])){C=U,f=!0;var G="";(u.removeLineBreaks||u.removeIndentations)&&null!==v&&(v>0&&(G="\n"),$t.push(v,U,G)),v=null,p=null}if(null!==x&&null===R&&!/\w/.test(t[U])){R=t.slice(x,U);var V=k(t,~-U);">"!==t[V]||t[U].trim()?"/"===t[V]&&">"===t[k(t,V)]&&(t[U].trim()||$t.push(U,k(t,U)),">"!==t[V+1]&&$t.push(V+1,k(t,V+1))):$t.push(U,k(t,U))}if(f||w||S||"<"!==t[~-U]||null!==x||(/\w/.test(t[U])?x=U:"/"===t[k(t,~-U)]&&/\w/.test(t[k(t,k(t,~-U))])&&(x=k(t,k(t,~-U)))),!f&&(w||S)&&null!==A&&"*"===t[U]&&"/"===t[U+1]){var Z=a(wt({str:t,from:A,to:U+2,ifLeftSideIncludesThisThenCropTightly:D,ifRightSideIncludesThisThenCropTightly:B}),2);L=Z[0],j=Z[1],A=null,null!=L?$t.push(L,j):(b+=1,U+=1),f=U+2}if(f||!w&&!S||null!==A||"/"!==t[U]||"*"!==t[U+1]||(Ut.removeCSSComments||(Ut.removeCSSComments=!0),u.removeCSSComments&&(A=U)),O&&t.startsWith("![endif",U+1)&&(O=!1),!f&&!w&&!S&&null!==I){var Y=void 0;if(t.startsWith("--\x3e",U)?Y=3:">"===t[U]&&"]"===t[U-1]&&(Y=1),Y){var K=a(wt({str:t,from:I,to:U+Y}),2);L=K[0],j=K[1],I=null,null!=L?u.lineLengthLimit&&_-(j-L)>=u.lineLengthLimit?($t.push(L,j,"\n"),_=-Y):($t.push(L,j),_-=j-L):(b+=Y-1,U+=Y-1),f=U+Y}}if(f||w||S||!t.startsWith("\x3c!--",U)||null!==I||(t.startsWith("[if",U+4)?(O||(O=!0),2===u.removeHTMLComments&&(I=U)):!u.removeHTMLComments||O&&2!==u.removeHTMLComments||(I=U),Ut.removeHTMLComments||(Ut.removeHTMLComments=!0)),!f&&w&&null===A&&t.startsWith("</style",U)&&!Vt(t[U+7])?w=!1:f||w||null!==A||!t.startsWith("<style",U)||Vt(t[U+6])||(w=!0,(u.removeLineBreaks||u.removeIndentations)&&u.breakToTheLeftOf.includes("<style")&&t.startsWith(' type="text/css">',U+6)&&t[U+24]&&$t.push(U+23,U+23,"\n")),!f&&!S&&"\"'".includes(t[U])&&t.endsWith("style=",U)&&(S=U),f||t[U].trim()){if(!f&&(!w&&!S||null===A)){if(null!==v){if(u.removeLineBreaks&&(b+=1),J)J=!1,(u.removeIndentations||u.removeLineBreaks)&&$t.push(0,U);else if(u.removeIndentations&&!u.removeLineBreaks&&(!T&&null!==p&&U>p?$t.push(p+1,U):v+1<U&&(t.endsWith("]>",v)||t.endsWith("--\x3e",v)||t.startsWith("<![",U)||t.startsWith("\x3c!--<![",U)?$t.push(v,U):" "===t[v]?$t.push(v+1,U):" "===t[~-U]?$t.push(v,~-U):$t.push(v,U," "))),u.removeLineBreaks||S){if(c.includes(t[U])&&y(t,U,u.breakToTheLeftOf)){"\n"===t[~-U]&&v===~-U||$t.push(v,U,"\n"),L=null,j=null,W=null,v=null,b=1;continue}var Q=" ";"<"===t[U]&&m(t,U,u.mindTheInlineTags,{cb:function(t){return!t||!/\w/.test(t)}})||(t[~-v]&&">".includes(t[~-v])&&"<".includes(t[U])||(w||S)&&null===A&&(D.includes(t[~-v])||B.includes(t[U]))||t.startsWith("!important",U)&&!O||S&&("'"===t[~-v]||'"'===t[~-v])||"}"===t[~-v]&&t.startsWith("</style",U)||">"===t[U]&&("'\"".includes(t[F(t,U)])||"<"===t[k(t,U)])||"/"===t[U]&&">"===t[k(t,U)])&&(Q="","/"===t[U]&&">"===t[U+1]&&k(t,U)>U+1&&($t.push(U+1,k(t,U)),b-=k(t,U)-U+1)),Q&&Q.length&&(b+=1),u.lineLengthLimit?b>=u.lineLengthLimit||!t[U+1]||">"===t[U]||"/"===t[U]&&">"===t[U+1]?((b>u.lineLengthLimit||b===u.lineLengthLimit&&t[U+1]&&t[U+1].trim()&&!P.includes(t[U])&&!H.includes(t[U+1]))&&(Q="\n",b=1),(b>u.lineLengthLimit||" "!==Q||U!==v+1)&&$t.push(v,U,Q),L=null,j=null,W=null):(null===L||v<L)&&(L=v,j=U,W=Q):U===v+1&&" "===Q||$t.push(v,U,Q)}v=null,T||(T=!0)}else J&&(J=!1),u.removeLineBreaks&&(b+=1);T||(T=!0)}}else null===v&&(v=U);if(!f&&!J&&0!==U&&u.removeLineBreaks&&(u.lineLengthLimit||c)&&!t.startsWith("</a",U)){if(c&&y(t,U,u.breakToTheLeftOf)&&t.slice(0,U).trim()&&(!t.startsWith("<![endif]",U)||!d(t,U,"\x3c!--"))){$t.push(U,U,"\n"),L=null,j=null,W=null,b=1;continue}if(u.lineLengthLimit&&b<=u.lineLengthLimit){if(!t[U+1]||H.includes(t[U])&&!"!".includes(t[U])||P.includes(t[U])||!t[U].trim()){if(null!==L&&null!==j&&(L!==j||W&&W.length)){var X=W;t[U].trim()&&t[U+1]&&t[U+1].trim()&&b+(W?W.length:0)>u.lineLengthLimit&&(X="\n"),b+(X?X.length:0)>u.lineLengthLimit||" "!==X||j!==L+1?"}"===t[~-L]&&"{"===t[j]||$t.push(L,j,X):b-=p}!(t[U].trim()&&(H.includes(t[U])||t[~-U]&&P.includes(t[~-U]))&&Gt(E))||u.mindTheInlineTags.includes(R)||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{cb:function(t){return!t||!/\w/.test(t)}})||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(t){return!t||!/\w/.test(t)}})?null!==A||null===L||!(S||!u.mindTheInlineTags||!Array.isArray(u.mindTheInlineTags)||Array.isArray(u.mindTheInlineTags.length)&&!u.mindTheInlineTags.length||!Gt(R)||Array.isArray(u.mindTheInlineTags)&&u.mindTheInlineTags.length&&Gt(R)&&!u.mindTheInlineTags.includes(R))||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(t){return!t||!/\w/.test(t)}})||(L=null,j=null,W=null):(L=U,j=U,W=null)}}else if(u.lineLengthLimit)if(!H.includes(t[U])||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(t){return!t||!/\w/.test(t)}}))t[U+1]&&P.includes(t[U])&&Gt(R)&&Array.isArray(u.mindTheInlineTags)&&u.mindTheInlineTags.length&&!u.mindTheInlineTags.includes(R)?null!==L&&null!==j&&(L!==j||W&&W.length)||($t.push(U+1,U+1,"\n"),b=0):t[U].trim()&&(t[U+1]||null!==L&&null!==j&&(L!==j||W&&W.length)&&$t.push(L,j,"\n"));else if(null!==L&&null!==j&&(L!==j||W&&W.length)){var tt=W&&W.length?W.length:0;b-(j-L-tt)-1>u.lineLengthLimit||($t.push(L,j,W),W=null,b-((j=null)-(L=null)-tt)-1===u.lineLengthLimit&&($t.push(U,U,"\n"),b=0))}else $t.push(U,U,"\n"),b=0}if(!f&&!J&&u.removeLineBreaks&&u.lineLengthLimit&&b>=u.lineLengthLimit&&null!==L&&null!==j&&!P.includes(t[U])&&!H.includes(t[U])&&!"/".includes(t[U])&&(b!==u.lineLengthLimit||!t[U+1]||t[U+1].trim())){var et="\n";t[U+1]&&!t[U+1].trim()&&b===u.lineLengthLimit&&(et=W),"\n"!==et||t[~-L].trim()||(L=F(t,L)+1),$t.push(L,j,et),b=U-j,t[U].length&&(b+=1),L=null,j=null,W=null}if((!f&&"\n"===t[U]||"\r"===t[U]&&(!t[U+1]||t[U+1]&&"\n"!==t[U+1]))&&(p=U,T&&(T=!1),!u.removeLineBreaks&&null!==v&&v<U&&t[U+1]&&"\r"!==t[U+1]&&"\n"!==t[U+1]&&$t.push(v,U)),t[U+1]||(w&&null!==A?$t.push.apply($t,s(wt({str:t,from:A,to:U,ifLeftSideIncludesThisThenCropTightly:D,ifRightSideIncludesThisThenCropTightly:B}))):v&&"\n"!==t[U]&&"\r"!==t[U]?$t.push(v,U+1):v&&("\r"===t[U]&&"\n"===t[U+1]||"\n"===t[U]&&"\r"!==t[U-1])&&$t.push(v,U)),!f&&S&&S<U&&t[S]===t[U]&&(S=null),!f&&!w&&t.startsWith("<pre",U)&&!Vt(t[U+4])){var rt=t.indexOf("</pre",U+5);rt>0&&(f=rt)}if(!f&&!w&&t.startsWith("<code",U)&&!Vt(t[U+5])){var nt=t.indexOf("</code",U+5);nt>0&&(f=nt)}if(!f&&t.startsWith("<![CDATA[",U)){var it=t.indexOf("]]>",U+9);it>0&&(f=it)}f||w||S||null===x||">"!==t[U]||("<"===t[k(t,U)]&&(E=R),x=null,R=null),"<"===t[U]&&null!==E&&(E=null)}else{if((u.removeIndentations||u.removeLineBreaks)&&U>0&&t[~-U]&&!t[~-U].trim())for(var ot=U;ot--;)if("\n"===t[ot]||"\r"===t[ot]||t[ot].trim()){ot+1<U&&$t.push(ot+1,U);break}C=null,f=!1,U+=8}if($t.current()){var at=u.reportProgressFuncTo-.01*(u.reportProgressFuncTo-u.reportProgressFuncFrom),st=jt(t,$t.current(),(function(t){u.reportProgressFunc&&q>=2e3&&(g=Math.floor(at+(u.reportProgressFuncTo-at)*(t/100)))!==z&&(z=g,u.reportProgressFunc(g))}));$t.wipe();var lt=st.length;return{log:{timeTakenInMiliseconds:Date.now()-n,originalLength:q,cleanedLength:lt,bytesSaved:Math.max(q-lt,0),percentageReducedOfOriginal:q?Math.round(100*Math.max(q-lt,0)/q):0},ranges:$t.current(),applicableOpts:Ut,result:st}}}return{log:{timeTakenInMilliseconds:Date.now()-n,originalLength:q,cleanedLength:q,bytesSaved:0,percentageReducedOfOriginal:0},applicableOpts:Ut,ranges:[],result:t}}function Yt(t){var r,n,i,o=!0;if(Array.isArray(t)){if(0===t.length)return!0;for(r=0,n=t.length;r<n;r++){if(null===(o=Yt(t[r])))return null;if(!o)return!1}}else if((i=t)&&"object"===e(i)&&!Array.isArray(i)){if(0===Object.keys(t).length)return!0;for(r=0,n=Object.keys(t).length;r<n;r++){if(null===(o=Yt(t[Object.keys(t)[r]])))return null;if(!o)return!1}}else{if("string"!=typeof t)return null;if(0!==t.length)return!1}return o}var Kt="__lodash_hash_undefined__",Qt="[object Function]",Xt="[object GeneratorFunction]",te=/^\[object .+?Constructor\]$/,ee="object"==e(R)&&R&&R.Object===Object&&R,re="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,ne=ee||re||Function("return this")();function ie(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,ae,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function oe(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function ae(t){return t!=t}function se(t,e){return t.has(e)}function le(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var ue=Array.prototype,ce=Function.prototype,fe=Object.prototype,he=ne["__core-js_shared__"],ge=function(){var t=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=ce.toString,de=fe.hasOwnProperty,ye=fe.toString,me=RegExp("^"+pe.call(de).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=ue.splice,Te=We(ne,"Map"),be=We(ne,"Set"),_e=We(Object,"create");function we(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Oe(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Se(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ae(t){var e=-1,r=t?t.length:0;for(this.__data__=new Se;++e<r;)this.add(t[e])}function Ie(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function Ce(t){return!(!Me(t)||function(t){return!!ge&&ge in t}(t))&&(function(t){var e=Me(t)?ye.call(t):"";return e==Qt||e==Xt}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?me:te).test(function(t){if(null!=t){try{return pe.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}we.prototype.clear=function(){this.__data__=_e?_e(null):{}},we.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},we.prototype.get=function(t){var e=this.__data__;if(_e){var r=e[t];return r===Kt?void 0:r}return de.call(e,t)?e[t]:void 0},we.prototype.has=function(t){var e=this.__data__;return _e?void 0!==e[t]:de.call(e,t)},we.prototype.set=function(t,e){return this.__data__[t]=_e&&void 0===e?Kt:e,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(t){var e=this.__data__,r=Ie(e,t);return!(r<0)&&(r==e.length-1?e.pop():ve.call(e,r,1),!0)},Oe.prototype.get=function(t){var e=this.__data__,r=Ie(e,t);return r<0?void 0:e[r][1]},Oe.prototype.has=function(t){return Ie(this.__data__,t)>-1},Oe.prototype.set=function(t,e){var r=this.__data__,n=Ie(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Se.prototype.clear=function(){this.__data__={hash:new we,map:new(Te||Oe),string:new we}},Se.prototype.delete=function(t){return je(this,t).delete(t)},Se.prototype.get=function(t){return je(this,t).get(t)},Se.prototype.has=function(t){return je(this,t).has(t)},Se.prototype.set=function(t,e){return je(this,t).set(t,e),this},Ae.prototype.add=Ae.prototype.push=function(t){return this.__data__.set(t,Kt),this},Ae.prototype.has=function(t){return this.__data__.has(t)};var Le=be&&1/le(new be([,-0]))[1]==1/0?function(t){return new be(t)}:function(){};function je(t,r){var n,i,o=t.__data__;return("string"==(i=e(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function We(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ce(r)?r:void 0}function Me(t){var r=e(t);return!!t&&("object"==r||"function"==r)}var Re=function(t){return t&&t.length?function(t,e,r){var n=-1,i=ie,o=t.length,a=!0,s=[],l=s;if(r)a=!1,i=oe;else if(o>=200){var u=e?null:Le(t);if(u)return le(u);a=!1,i=se,l=new Ae}else l=e?[]:s;t:for(;++n<o;){var c=t[n],f=e?e(c):c;if(c=r||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue t;e&&l.push(f),s.push(c)}else i(l,f,r)||(l!==s&&l.push(f),s.push(c))}return s}(t):[]},ke=/[\n]?\s*<style[^>]*>\s*<\/style\s*>/g,Fe=/[\n]?\s*@(media|supports|document)[^{]*{\s*}/g,xe=/@media[^{@}]+{(?=\s*<\/style>)/g,Ee={whitelist:[],backend:[],uglify:!1,removeHTMLComments:!0,removeCSSComments:!0,doNotRemoveHTMLCommentsWhoseOpeningTagContains:["[if","[endif"],reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100};function Pe(t){return t&&"object"===e(t)&&!Array.isArray(t)}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ne(t){return"string"==typeof t&&1===t.length&&(t.charCodeAt(0)>64&&t.charCodeAt(0)<91||t.charCodeAt(0)>96&&t.charCodeAt(0)<123)}t.comb=function(t,r){var n,i,a,l=Date.now(),u=new qt({limitToBeAddedWhitespace:!0}),c=new qt,f=new qt;function h(t){return/[-_A-Za-z0-9]/.test(t)}function g(t){return"string"==typeof t}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o({valuesStart:null,valueStart:null,nameStart:null},t)}var v,T,w,O,S,A,I,C,L,j,W,M,R,E,P,H,N,D,B,J,q=[],$=[],z=[],U={},G=0,V=0,Z=!1,Y=null,K=!1,Q=0,X=0,tt=".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`\t\n",et=["media","supports","document"],rt=["font-feature-values","counter-style","namespace","font-face","keyframes","viewport","charset","import","page"],nt=["{","(","<",'"',"'","@",";"];if("string"!=typeof t)throw new TypeError("email-remove-unused-css: [THROW_ID_01] Input must be string! Currently it's ".concat(e(t)));if(!Pe(r)){if(null!=r)throw new TypeError("email-remove-unused-css: [THROW_ID_02] Options, second input argument, must be a plain object! Currently it's ".concat(e(r),", equal to: ").concat(JSON.stringify(r,null,4)));r={}}if(g(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length?r.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[r.doNotRemoveHTMLCommentsWhoseOpeningTagContains]:r.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[]),Pe(r)&&He(r,"backend")&&Yt(r.backend)&&(r.backend=[]),g((r=o(o({},Ee),r)).whitelist)&&(r.whitelist=[r.whitelist]),!Array.isArray(r.whitelist))throw new TypeError("email-remove-unused-css: [THROW_ID_03] opts.whitelist should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(r.whitelist,null,4)));if(r.whitelist.length>0&&!r.whitelist.every((function(t){return g(t)})))throw new TypeError("email-remove-unused-css: [THROW_ID_04] opts.whitelist array should contain only string-type elements. Currently we\ve got:\n".concat(JSON.stringify(r.whitelist,null,4)));if(!Array.isArray(r.backend))throw new TypeError("email-remove-unused-css: [THROW_ID_05] opts.backend should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(r.backend,null,4)));if(r.backend.length>0&&r.backend.some((function(t){return!Pe(t)})))throw new TypeError("email-remove-unused-css: [THROW_ID_06] opts.backend array should contain only plain objects but it contains something else:\n".concat(JSON.stringify(r.backend,null,4)));if(r.backend.length>0&&!r.backend.every((function(t){return He(t,"heads")&&He(t,"tails")})))throw new TypeError('email-remove-unused-css: [THROW_ID_07] every object within opts.backend should contain keys "heads" and "tails" but currently it\'s not the case. Whole "opts.backend" value array is currently equal to:\n'.concat(JSON.stringify(r.backend,null,4)));if("boolean"!=typeof r.uglify){if(1!==r.uglify&&0!==r.uglify)throw new TypeError("email-remove-unused-css: [THROW_ID_08] opts.uglify should be a Boolean. Currently it's set to: ".concat(JSON.stringify(r.uglify,null,4),"}"));r.uglify=!!r.uglify}if(r.reportProgressFunc&&"function"!=typeof r.reportProgressFunc)throw new TypeError("email-remove-unused-css: [THROW_ID_09] opts.reportProgressFunc should be a function but it was given as :\n".concat(JSON.stringify(r.reportProgressFunc,null,4)," (").concat(e(r.reportProgressFunc),")"));var it=null,ot=null;Array.isArray(r.backend)&&r.backend.length&&(it=r.backend.map((function(t){return t.heads})),ot=r.backend.map((function(t){return t.tails})));var at,st=t.length;r.reportProgressFunc&&(at=Math.floor((r.reportProgressFuncTo-.06*(r.reportProgressFuncTo-r.reportProgressFuncFrom)-r.reportProgressFuncFrom)/2));var lt,ut,ct,ft,ht,gt,pt,dt,yt,mt,vt,Tt,bt=0;t.length&&"\r\n".includes(t[t.length-1])||(bt=1);for(var At,It,Ct,Lt,Wt,Mt,Rt,kt=0,Ft=function(e){A=!1,P=null,Z=!1,B=!0,D=!0,O=p(),M=!0,K=!1,H=null,S=p(),T=null,yt=!1,Y=null,mt=null,vt=null,I=!1,E=null,null,At=!1,v=null,ut=null,i=null,w=null,Wt=null,a=null,lt=!1,G+=st;t:for(n=0;n<st;n++){r.reportProgressFunc&&(st>1e3&&st<2e3?1===e&&0===n&&r.reportProgressFunc(Math.floor((r.reportProgressFuncTo-r.reportProgressFuncFrom)/2)):st>=2e3&&(dt=r.reportProgressFuncFrom+Math.floor(n/st*at)+(1===e?0:at))!==kt&&(kt=dt,r.reportProgressFunc(dt)));var l=t[n];if("\n"===t[n]?t[n-1]:"\r"===t[n]&&t[n+1],!0!==yt&&(null===a&&null!==i&&n>=i||null!==i&&null!==a&&i>a&&i<n)?(yt=!0,At=!1):!0!==At&&null!==w&&(null===i||i<n)&&(null===a||a<n)&&(At=!0,yt=!1),!lt&&('"'===t[n]||"'"===t[n]))if(mt){if('"'===t[n]&&"'"===t[k(t,n)]&&'"'===t[k(t,k(t,n))]||"'"===t[n]&&'"'===t[k(t,n)]&&"'"===t[k(t,k(t,n))]){n=k(t,k(t,n));continue}mt===t[n]&&(mt=null)}else{var f=F(t,n);(yt&&["(",",",":"].includes(t[f])||At&&!yt&&["(",",",":","="].includes(t[f]))&&(mt=t[n])}if(lt)if(null===ut||"string"!=typeof ut||"string"==typeof ut&&!ut)lt=!1;else if(y(t,n,ut)){if(null!==v){if(1===e&&r.removeCSSComments){var g=d(t,v,["\r\n","\n","\r"]),bt=v;g&&(bt-=g.length),t[bt-1]&&h(t[bt-1])&&t[n+ut.length]&&h(t[n+ut.length])?(u.push(bt,n+ut.length,";"),X+=n+ut.length-bt):(u.push(bt,n+ut.length),X+=n+ut.length-bt)}v=null}n=n+ut.length-1,ut=null,lt=!1;continue}if(!lt&&"<"===t[n]&&"s"===t[n+1]&&"t"===t[n+2]&&"y"===t[n+3]&&"l"===t[n+4]&&"e"===t[n+5]){A=!0,yt||(yt=!0);for(var jt=n;jt<st;jt++)if(G+=1,">"===t[jt]){i=jt+1,E=jt+1;break}}if(!lt&&yt&&"<"===t[n]&&"/"===t[n+1]&&"s"===t[n+2]&&"t"===t[n+3]&&"y"===t[n+4]&&"l"===t[n+5]&&"e"===t[n+6]&&(a=n-1,E=null,A=!1,yt&&(yt=!1)),1!==e||!yt&&!At||"/"!==t[n]||"*"!==t[n+1]||v){if(!lt&&yt&&"@"===t[n]){vt&&(vt=null);var Ft=m(t,n,et)||m(t,n,rt);if(Ft){var Et=void 0;(";"===t[n+Ft.length+1]||t[n+Ft.length+1]&&!t[n+Ft.length+1].trim()&&m(t,n+Ft.length+1,";",{trimBeforeMatching:!0,cb:function(t,e,r){return Et=r,!0}}))&&u.push(n,Et||n+Ft.length+2);for(var Pt=void 0,Ht=n+1;Ht<st;Ht++)if(G+=1,Pt&&t[Ht]===Pt){if("}"===t[Ht]&&rt.includes(Ft)||"{"===t[Ht]&&et.includes(Ft)){n=Ht,E=Ht+1;continue t}Pt=void 0}else if('"'!==t[Ht]||Pt?"'"!==t[Ht]||Pt?"("!==t[Ht]||Pt?rt.includes(Ft)&&"{"===t[Ht]&&!Pt&&(Pt="}"):Pt=")":Pt="'":Pt='"',!Pt&&nt.includes(t[Ht])){var Nt=void 0,Dt=void 0;if("{"===t[Ht]||";"===t[Ht]){I=!1,E=Ht+1,n=Ht;continue t}"@"!==t[Ht]&&"<"!==t[Ht]||1!==e||t.slice(n,Ht).includes("{")||t.slice(n,Ht).includes("(")||t.slice(n,Ht).includes('"')||t.slice(n,Ht).includes("'")||(Nt=n,Dt=Ht+(";"===t[Ht]?1:0),u.push(Nt,Dt));var Bt=Dt?Dt-1:Ht-1+("{"===t[Ht]?1:0);n=Bt,E=Bt+1;continue t}}}if(!lt&&yt&&I&&A&&"}"===l&&!mt&&!V&&(2===e&&D&&E&&u.push(E,n+1),I=!1,E&&(E=n+1),P=null,Z=!1,D=!0,H=null,Y=null,K=!1),!lt&&!v&&i&&n>=i&&(null===a&&n>=i||i>a&&i<=n)&&n>=null&&!I){if(null===H){if("."===l||"#"===l)H=n;else if(d(t,n,"[class="))Ne(l)?(H=n,N="."):"\"'".includes(l)&&Ne(t[k(t,n)])&&(H=k(t,n),N=".");else if(d(t,n,"[id="))Ne(l)?(H=n,N="#"):"\"'".includes(l)&&Ne(t[k(t,n)])&&(H=k(t,n),N="#");else if(l.trim())if("}"===l)E=n+1,Wt=null;else if("<"===l&&"!"===t[n+1])for(var Jt=n;Jt<st;Jt++)if(G+=1,">"===t[Jt]){E=Jt+1,P=Jt+1,n=Jt;continue t}}else if(null!==H&&!h(l)){var qt=t.slice(H,n);N&&(qt="".concat(N).concat(qt),N=void 0),2===e&&!Z&&Lt.includes(qt)?(Z=!0,K=!0):2!==e||Z||(!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b([qt],r.whitelist).length||c.push(H,n,L[ft.indexOf(qt)]),","===l&&(Y=n,K=!1)),H="."===l||"#"===l?n:null}if(null===P)!l.trim()||"}"===l||";"===l||"/"===t[n]&&"*"===t[n+1]||(Z=!1,P=n);else if(",{".includes(l)){var $t=vt||n;if(Wt=t.slice(P,$t),1===e)vt&&(","===l&&vt<n?(u.push(vt,n),Q+=n-vt):"{"===l&&vt<n-1&&(u.push(vt,n-1),Q+=n-1-vt)),q.push(Wt);else if(Z){var zt=P,Ut=n,Gt=void 0;if("{"===l&&">"!==t[zt-1]&&"}"!==t[zt-1]){for(var Vt=P;Vt--;)if(G+=1,t[Vt].trim()&&","!==t[Vt]){zt=Vt+1;break}t[n-1].trim()||(Ut=n-1)}else if(","!==l||t[n+1].trim())d(t,zt,"{",{trimBeforeMatching:!0,cb:function(t,e,r){return Gt=r,!0}})&&(zt=Gt+2);else for(var Zt=n+1;Zt<st;Zt++)if(G+=1,t[Zt].trim()){Ut=Zt;break}var Yt=wt({str:t,from:zt,to:Ut,ifRightSideIncludesThisThenCropTightly:".#",ifRightSideIncludesThisCropItToo:",",extendToOneSide:"right"});u.push.apply(u,s(Yt)),r.uglify&&c.wipe()}else D&&(D=!1),K&&(K=!1),r.uglify&&(u.push(c.current()),c.wipe());if("{"!==l)P=null;else if(2===e&&!D&&null!==Y&&K){var Kt=Y+1;if("\n\r".includes(t[Y+1]))for(var Qt=Y+1;Qt<st;Qt++)if(t[Qt].trim()){Kt=Qt;break}u.push(Y,Kt),Y=null,K=!1}}}if(!lt&&!yt&&At&&"/"===t[n]&&m(t,n,"body",{trimBeforeMatching:!0,i:!0})&&d(t,n,"<",{trimBeforeMatching:!0})&&(At=!1,w=null),!lt&&"<"===t[n]&&m(t,n,"body",{i:!0,trimBeforeMatching:!0,cb:function(t,r,i){if(1===e){if(void 0!==t&&(""===t.trim()||">"===t)){if(!(i-n>5))return!0;u.push(n,i,"<body"),Q+=i-n-5}return!0}return!0}}))for(var Xt=n;Xt<st;Xt++)if(G+=1,">"===t[Xt]){w=Xt+1;break}if(!lt&&At&&!yt&&"s"===t[n]&&"t"===t[n+1]&&"y"===t[n+2]&&"l"===t[n+3]&&"e"===t[n+4]&&"="===t[n+5]&&tt.includes(t[n-1])&&"\"'".includes(t[n+6]),!lt&&At&&!yt&&!mt&&"c"===t[n]&&"l"===t[n+1]&&"a"===t[n+2]&&"s"===t[n+3]&&"s"===t[n+4]&&tt.includes(t[n-1])){var te=void 0,ee=!1;if("="===t[n+5]){if('"'===t[n+6]||"'"===t[n+6])te=n+7;else if(h(t[n+6]))te=n+6,ee=!0;else if(t[n+6]&&(!t[n+6].trim()||"/>".includes(t[n+6]))){var re=wt({str:t,from:n,to:n+6,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});u.push.apply(u,s(re))}}else if(!t[n+5].trim())for(var ne=n+5;ne<st;ne++)if(G+=1,t[ne].trim()){if("="===t[ne])if(ne>n+5&&1===e&&u.push(n+5,ne),'"'!==t[ne+1]&&"'"!==t[ne+1]||!t[ne+2]){if(t[ne+1]&&!t[ne+1].trim())for(var ie=ne+1;ie<st;ie++)if(G+=1,t[ie].trim()){ie>ne+1&&1===e&&u.push(ne+1,ie),'"'!==t[ie]&&"'"!==t[ie]||!t[ie+1]||(te=ie+1);break}}else te=ne+2;break}te&&(O=p({valuesStart:te,quoteless:ee,nameStart:n}),1===e?M=!0:2===e&&(B=!0))}if(!lt&&At&&!yt&&!mt&&"i"===t[n]&&"d"===t[n+1]&&tt.includes(t[n-1])){var oe=void 0,ae=!1;if("="===t[n+2]){if('"'===t[n+3]||"'"===t[n+3])oe=n+4;else if(h(t[n+3]))oe=n+3,ae=!0;else if(t[n+3]&&(!t[n+3].trim()||"/>".includes(t[n+3]))){var se=wt({str:t,from:n,to:n+3,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});u.push.apply(u,s(se))}}else if(!t[n+2].trim())for(var le=n+2;le<st;le++)if(G+=1,t[le].trim()){if("="===t[le])if(le>n+2&&1===e&&u.push(n+2,le),'"'!==t[le+1]&&"'"!==t[le+1]||!t[le+2]){if(t[le+1]&&!t[le+1].trim())for(var ue=le+1;ue<st;ue++)if(G+=1,t[ue].trim()){ue>le+1&&1===e&&u.push(le+1,ue),'"'!==t[ue]&&"'"!==t[ue]||!t[ue+1]||(oe=ue+1);break}}else oe=le+2;break}oe&&(S=p({valuesStart:oe,quoteless:ae,nameStart:n}),1===e?M=!0:2===e&&(B=!0))}if(!lt&&null!==O.valuesStart&&n>=O.valuesStart&&null===O.valueStart&&(it&&y(t,n,it)?function(){if(lt=!0,B=!1,vt&&n>vt+1){var e=wt({str:t,from:vt,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});u.push.apply(u,s(e)),vt=null}else vt&&(vt=null);var i=y(t,n,it),o=r.backend.find((function(t){return t.heads===i}));ut=o.tails}():h(l)&&(O.valueStart=n,1===e&&(O.quoteless&&u.push(n,n,'"'),M&&null!==O.valuesStart&&!t.slice(O.valuesStart,n).trim()&&O.valuesStart<n?(u.push(O.valuesStart,n),Q+=n-O.valuesStart,M=!1):null!==vt&&vt<n-1&&(u.push(vt+1,n),Q+=n-vt+1)))),!lt&&null!==O.valueStart&&n>O.valueStart&&(!h(l)||ot&&y(t,n,ot)))if(it&&y(t,n,it))!function(){O.valueStart=null,O=p();var e=y(t,n,it),i=r.backend.find((function(t){return t.heads===e}));ut=i.tails}();else{var ce="".concat(t.slice(O.valueStart,n));if(1===e)$.push(".".concat(ce)),O.quoteless&&("\"'".includes(t[n])||u.push(n,n,'"'));else if(null!=O.valueStart&&Tt.includes(ce)){var fe=wt({str:t,from:O.valueStart,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0}),he="";t[fe[0]-1]&&t[fe[0]-1].trim()&&t[fe[1]]&&t[fe[1]].trim()&&(it||ot)&&(it&&d(t,fe[0],ot)||ot&&y(t,fe[1],it))&&(he=" "),u.push.apply(u,s(fe).concat([he]))}else B=!1,!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b([".".concat(ce)],r.whitelist).length||u.push(O.valueStart,n,L[ft.indexOf(".".concat(ce))].slice(1));O.valueStart=null}if(!lt&&null!==S.valueStart&&n>S.valueStart&&(!h(l)||ot&&y(t,n,ot))){var ge=t.slice(S.valueStart,n);if(1===e)z.push("#".concat(ge)),S.quoteless&&("\"'".includes(t[n])||u.push(n,n,'"'));else if(null!=S.valueStart&&It.includes(ge)){var pe=wt({str:t,from:S.valueStart,to:n,ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0});t[pe[0]-1]&&t[pe[0]-1].trim()&&t[pe[1]]&&t[pe[1]].trim()&&(it||ot)&&(it&&d(t,pe[0],ot)||ot&&y(t,pe[1],it))&&(pe[0]+=1),u.push.apply(u,s(pe))}else B=!1,!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b(["#".concat(ge)],r.whitelist).length||u.push(S.valueStart,n,L[ft.indexOf("#".concat(ge))].slice(1));S.valueStart=null}if(!lt&&null!=O.valuesStart&&(!O.quoteless&&("'"===l||'"'===l)||O.quoteless&&!h(t[n]))&&n>=O.valuesStart){if(n===O.valuesStart)1===e&&u.push.apply(u,s(wt({str:t,from:O.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===e&&B){var de=wt({str:t,from:O.valuesStart-7,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),ye="";t[de[0]-1]&&t[de[0]-1].trim()&&t[de[1]]&&t[de[1]].trim()&&!"/>".includes(t[de[1]])&&(ye=" "),u.push.apply(u,s(de).concat([ye]))}null!==vt&&u.push(vt,n)}O=p()}if(!lt&&null!==S.valuesStart&&(!S.quoteless&&("'"===l||'"'===l)||S.quoteless&&!h(t[n]))&&n>=S.valuesStart){if(n===S.valuesStart)1===e&&u.push.apply(u,s(wt({str:t,from:S.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===e&&B){var me=wt({str:t,from:S.valuesStart-4,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),ve="";t[me[0]-1]&&t[me[0]-1].trim()&&t[me[1]]&&t[me[1]].trim()&&!"/>".includes(t[me[1]])&&(ve=" "),u.push.apply(u,s(me).concat([ve]))}null!==vt&&u.push(vt,n)}S=p()}if(!lt&&S.valuesStart&&n>=S.valuesStart&&null===S.valueStart&&(it&&y(t,n,it)?function(){if(lt=!0,B=!1,vt&&n>vt+1){var e=wt({str:t,from:vt,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});u.push.apply(u,s(e)),vt=null}else vt&&(vt=null);var i=y(t,n,it),o=r.backend.find((function(t){return t.heads===i}));ut=o.tails}():h(l)&&(S.valueStart=n,1===e&&(S.quoteless&&u.push(n,n,'"'),M&&null!==S.valuesStart&&!t.slice(S.valuesStart,n).trim()&&S.valuesStart<n?(u.push(S.valuesStart,n),Q+=n-S.valuesStart,M=!1):null!==vt&&vt<n-1&&(u.push(vt+1,n),Q+=n-vt+1)))),!lt&&1===e){if(null!==v&&v<n&&">"===t[n]&&!Rt&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.trim()&&t.slice(v,n).toLowerCase().includes(e)}))&&(Mt=!1),Rt=!0),null!==v&&">"===t[n])if(R||"-"!==t[n-1]||"-"!==t[n-2]){if(R){var Te=wt({str:t,from:v,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});r.removeHTMLComments&&Mt&&u.push.apply(u,s(Te)),X+=Te[1]-Te[0],v=null,R=void 0}}else{var be=wt({str:t,from:v,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});r.removeHTMLComments&&Mt&&u.push.apply(u,s(be)),X+=be[1]-be[0],v=null,R=void 0}r.removeHTMLComments&&null===v&&"<"===t[n]&&"!"===t[n+1]&&((!it||Array.isArray(it)&&it.length&&!it.includes("<!"))&&(!ot||Array.isArray(ot)&&ot.length&&!ot.includes("<!"))&&(m(t,n+1,"doctype",{i:!0,trimBeforeMatching:!0})||"-"===t[n+2]&&"-"===t[n+3]&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&m(t,n+3,r.doNotRemoveHTMLCommentsWhoseOpeningTagContains,{trimBeforeMatching:!0})||(v=n,Rt=!1,Mt=!0),R=!("-"===t[n+2]&&"-"===t[n+3])),v!==n&&(T=n))}if("}"===l&&V&&(V-=1),!lt&&"{"===l&&A&&(I?V+=1:(I=!0,null!==vt&&(t.slice(vt,n).includes("\n")||t.slice(vt,n).includes("\r"))&&u.push(vt,n))),lt||(t[n].trim()?null!==vt&&(vt=null):null===vt&&(vt=n)),!lt&&2===e&&Array.isArray(J)&&J.length&&n===J[0][0]){var _e=J.shift();_e[1]-1>n&&(n=_e[1]-1)}else if(null!==T&&">"===t[n]){T=null;var we=void 0;if(r.removeHTMLComments&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.includes("if")}))||r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.includes("mso")}))||r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.includes("ie")})))&&m(t,n,"\x3c!--",{trimBeforeMatching:!0,cb:function(t,e,r){return we=r,!0}})){m(t,we-1,"--\x3e",{trimBeforeMatching:!0,cb:function(t,e,r){return we=r,!0}}),n=we-1;continue}}}else v=n,lt=!0,ut="*/",n+=1}if(1===e){gt=Re($.concat(z)),q.forEach((function(t){x(t).forEach((function(t){Object.prototype.hasOwnProperty.call(U,t)?U[t]+=1:U[t]=1}))})),pt=o({},U),ht=Re(q.reduce((function(t,e){return t.concat(x(e))}),[])),W=ht.length;for(var Oe,Se=Array.from(q),Ae=[],Ie=0,Ce=Se.length;Ie<Ce;Ie++){G+=1;var Le,je=void 0;if(null!=Se[Ie]&&(je=x(Se[Ie])),!je.every((function(t){return gt.includes(t)})))(Le=Ae).push.apply(Le,s(x(Se[Ie]))),Se.splice(Ie,1),Ie-=1,Ce-=1}Ae=Re(_(Ae,r.whitelist)),Oe=Se.length>0?Se.reduce((function(t,e){return t.concat(x(e))}),[]):[],Lt=_(xt(Re(Array.from(ht)),$.concat(z)),r.whitelist),Ct=Re(_(xt($.concat(z),Oe),r.whitelist)),Lt=Re(Lt.concat(_t(Ae,Ct))),Tt=Ct.filter((function(t){return t.startsWith(".")})).map((function(t){return t.slice(1)})),It=Ct.filter((function(t){return t.startsWith("#")})).map((function(t){return t.slice(1)})),ct=Object.keys(pt).filter((function(t){return pt[t]<1})),Tt=Re(Tt.concat(_t(_(gt,r.whitelist),ct).filter((function(t){return"."===t[0]})).map((function(t){return t.slice(1)}))));var We=b(gt,r.whitelist);Ct=Re(Ct.concat(Tt.map((function(t){return".".concat(t)})),It.map((function(t){return"#".concat(t)})))),ft=xt(xt(Array.from(ht),Ct),Lt),Array.isArray(We)&&We.length&&We.forEach((function(t){ft.includes(t)||ft.push(t)})),r.uglify&&(L=function(t){var e="abcdefghijklmnopqrstuvwxyz",r="abcdefghijklmnopqrstuvwxyz0123456789",n={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},i={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},o={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},a=[];if(!Ot(t)||!t.length)return t;for(var s=0,l=t.length;s<l;s++)if(t.indexOf(t[s])<s)a.push(a[t.indexOf(t[s])]);else{var u=".#".includes(t[s][0])?t[s][0]:"",c=Array.from(t[s]).reduce((function(t,e){return t+St(e)}),0);if(".#".includes(t[s][0])&&t[s].length<4||!".#".includes(t[s][0])&&t[s].length<3){var f=t[s];if(!a.includes(f)){a.push(f),f.startsWith(".")&&2===f.length&&!n[f.slice(1)]?n[f.slice(1)]=!0:f.startsWith("#")&&2===f.length&&!i[f.slice(1)]?i[f.slice(1)]=!0:f.startsWith(".")||f.startsWith("#")||1!==f.length||o[f]||(o[f]=!0);continue}}var h="".concat(u).concat(e[c%e.length]).concat(r[c%r.length]);if(a.includes(h)){for(var g=h,p=0,d=Array.from(t[s]).reduce((function(t,e){return t<200?t+St(e):(t+St(e))%r.length}),0),y=Array.from(t[s]).map((function(t){return St(t)})).reduce((function(t,e){var r=t+e;do{r=String(r).split("").reduce((function(t,e){return t+Number.parseInt(e,10)}),0)}while(r>=10);return r}),0);a.includes(g);)g+=r[d*y*(p+=1)%r.length];h=g}a.push(h),h.startsWith(".")&&2===h.length&&!n[h.slice(1)]?n[h.slice(1)]=!0:h.startsWith("#")&&2===h.length&&!i[h.slice(1)]?i[h.slice(1)]=!0:h.startsWith(".")||h.startsWith("#")||1!==h.length||o[h]||(o[h]=!0)}for(var m=0,v=a.length;m<v;m++)a[m].startsWith(".")?n[a[m].slice(1,2)]?n[a[m].slice(1,2)]===a[m]&&(a[m]=a[m].slice(0,2)):(n[a[m].slice(1,2)]=a[m],a[m]=a[m].slice(0,2)):a[m].startsWith("#")?i[a[m].slice(1,2)]?i[a[m].slice(1,2)]===a[m]&&(a[m]=a[m].slice(0,2)):(i[a[m].slice(1,2)]=a[m],a[m]=a[m].slice(0,2)):a[m].startsWith(".")||a[m].startsWith("#")||(o[a[m].slice(0,1)]?o[a[m].slice(0,1)]===a[m]&&(a[m]=a[m].slice(0,1)):(o[a[m].slice(0,1)]=a[m],a[m]=a[m].slice(0,1)));return a}(ft)),j=ft.length,C=r.uglify?ft.map((function(t,e){return[t,L[e]]})).filter((function(t){return!r.whitelist.some((function(e){return b.isMatch(t[0],e)}))})):null,J=u.current()?Array.from(u.current()):null}},Et=1;Et<=2;Et++)Ft(Et);u.push(f.current()),t.length&&u.current()&&(t=jt(t,u.current()),u.wipe());var Pt=r.reportProgressFuncTo-.06*(r.reportProgressFuncTo-r.reportProgressFuncFrom);for(r.reportProgressFunc&&st>=2e3&&(dt=Math.floor(Pt+(r.reportProgressFuncTo-Pt)/5))!==kt&&(kt=dt,r.reportProgressFunc(dt));Fe.test(t)||xe.test(t);)t=(t=t.replace(Fe,"")).replace(xe,""),G+=t.length;r.reportProgressFunc&&st>=2e3&&(dt=Math.floor(Pt+(r.reportProgressFuncTo-Pt)/5*2))!==kt&&(kt=dt,r.reportProgressFunc(dt)),t=t.replace(ke,"\n"),G+=t.length,r.reportProgressFunc&&st>=2e3&&(dt=Math.floor(Pt+(r.reportProgressFuncTo-Pt)/5*3))!==kt&&(kt=dt,r.reportProgressFunc(dt));var Ht=t.length;return t=t.replace(/<!(--)?\[if[^\]]*]>[<>!-\s]*<!\[endif\]\1>/gi,""),G+=t.length,Ht!==t.length&&(X+=t.length-Ht),r.reportProgressFunc&&st>=2e3&&(dt=Math.floor(Pt+(r.reportProgressFuncTo-Pt)/5*4))!==kt&&(kt=dt,r.reportProgressFunc(dt)),(Ht=(t=Zt(t,{removeLineBreaks:!1,removeIndentations:!1,removeHTMLComments:!1,removeCSSComments:!1,lineLengthLimit:500}).result).length)!==t.length&&(Q+=t.length-Ht),G+=t.length,r.reportProgressFunc&&st>=2e3&&(dt=Math.floor(Pt+(r.reportProgressFuncTo-Pt)))!==kt&&(kt=dt,r.reportProgressFunc(dt)),t.length&&(t[0].trim()&&t[t.length-1].trim()||t.length===t.trim()||(Q+=t.length-t.trim()),t=t.trimStart()),t=t.replace(/ ((class|id)=["']) /g," $1"),{log:{timeTakenInMiliseconds:Date.now()-l,traversedTotalCharacters:G,traversedTimesInputLength:st?Math.round(G/st*100)/100:0,originalLength:st,cleanedLength:t.length,bytesSaved:Math.max(st-t.length,0),percentageReducedOfOriginal:st?Math.round(100*Math.max(st-t.length,0)/st):0,nonIndentationsWhitespaceLength:Math.max(Q-bt,0),nonIndentationsTakeUpPercentageOfOriginal:st&&Math.max(Q-bt,0)?Math.round(100*Math.max(Q,0)/st):0,commentsLength:X,commentsTakeUpPercentageOfOriginal:st&&X?Math.round(100*X/st):0,uglified:C},result:t,countAfterCleaning:j,countBeforeCleaning:W,allInHead:ht.sort(),allInBody:gt.sort(),deletedFromHead:Lt.sort(),deletedFromBody:Ct.sort()}},t.defaults=Ee,t.version="3.10.0",Object.defineProperty(t,"__esModule",{value:!0})}));
