/**
 * email-comb
 * Remove unused CSS from email templates
 * Version: 3.10.7
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://codsen.com/os/email-comb/
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).emailComb={})}(this,(function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(e){return e&&"object"===t(e)&&!Array.isArray(e)}function h(e){return"string"==typeof e}function g(e,t,r,n,i,o){var a="function"==typeof r?r():r;if(t<0&&i&&"EOL"===a)return a;if(t>=e.length&&!i)return!1;for(var s=i?1:r.length,l=!1,u=!1,c=n.maxMismatches,f=t,h=!1,g=!1,p=!1;e[f];){var d=o(f);if(n.trimBeforeMatching&&""===e[f].trim()){if(!e[d]&&i&&"EOL"===r)return!0;f=o(f)}else if(!n.i&&n.trimCharsBeforeMatching.includes(e[f])||n.i&&n.trimCharsBeforeMatching.map((function(e){return e.toLowerCase()})).includes(e[f].toLowerCase())){if(i&&"EOL"===r&&!e[d])return!0;f=o(f)}else{var y=d>f?r[r.length-s]:r[s-1];if(!n.i&&e[f]===y||n.i&&e[f].toLowerCase()===y.toLowerCase()){if(h||(h=!0),u||(u=!0),s===r.length?g=!0:1===s&&(p=!0),(s-=1)<1)return f}else{if(!(n.maxMismatches&&c&&f))return!(0!==f||1!==s||n.lastMustMatch||!u)&&0;c-=1;for(var m=0;m<=c;m++){var v=d>f?r[r.length-s+1+m]:r[s-2-m],T=e[o(f)];if(v&&(!n.i&&e[f]===v||n.i&&e[f].toLowerCase()===v.toLowerCase())&&(!n.firstMustMatch||s!==r.length)){s-=2,h=!0;break}if(T&&v&&(!n.i&&T===v||n.i&&T.toLowerCase()===v.toLowerCase())&&(!n.firstMustMatch||s!==r.length)){s-=1,h=!0;break}if(void 0===v&&c>=0&&h&&(!n.firstMustMatch||g)&&(!n.lastMustMatch||p))return f}h||(l=f)}if(!1!==l&&l!==f&&(l=!1),s<1)return f;f=o(f)}}return s>0?!(!i||"EOL"!==a)||!!(n.maxMismatches>=s&&u)&&(l||0):void 0}function p(e,r,n,i,a){var s={cb:void 0,i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],maxMismatches:0,firstMustMatch:!1,lastMustMatch:!1};if(f(a)&&Object.prototype.hasOwnProperty.call(a,"trimBeforeMatching")&&"boolean"!=typeof a.trimBeforeMatching)throw new Error("string-match-left-right/".concat(e,"(): [THROW_ID_09] opts.trimBeforeMatching should be boolean!").concat(Array.isArray(a.trimBeforeMatching)?" Did you mean to use opts.trimCharsBeforeMatching?":""));var l,u,c,p,d,y=o(o({},s),a);if(y.trimCharsBeforeMatching="string"==typeof(l=y.trimCharsBeforeMatching)?l.length>0?[l]:[]:l,y.trimCharsBeforeMatching=y.trimCharsBeforeMatching.map((function(e){return h(e)?e:String(e)})),!h(r))return!1;if(!r.length)return!1;if(!Number.isInteger(n)||n<0)throw new Error("string-match-left-right/".concat(e,"(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ").concat(t(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(h(i))u=[i];else if(Array.isArray(i))u=i;else if(i){if("function"!=typeof i)throw new Error("string-match-left-right/".concat(e,"(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ").concat(t(i),", equal to:\n").concat(JSON.stringify(i,null,4)));(u=[]).push(i)}else u=i;if(a&&!f(a))throw new Error("string-match-left-right/".concat(e,"(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type \"").concat(t(a),'", and equal to:\n').concat(JSON.stringify(a,null,4)));if(y.trimCharsBeforeMatching.some((function(e,t){return e.length>1&&(p=t,d=e,!0)})))throw new Error("string-match-left-right/".concat(e,"(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ").concat(p," is longer than 1 character, ").concat(d.length," (equals to ").concat(d,"). Please split it into separate characters and put into array as separate elements."));if(!u||!Array.isArray(u)||Array.isArray(u)&&!u.length||Array.isArray(u)&&1===u.length&&h(u[0])&&!u[0].trim()){if("function"==typeof y.cb){var m,v=n;if("matchLeftIncl"!==e&&"matchRight"!==e||(v+=1),"L"===e[5])for(var T=v;T--;){var b=r[T];if((!y.trimBeforeMatching||y.trimBeforeMatching&&void 0!==b&&b.trim())&&(!y.trimCharsBeforeMatching.length||void 0!==b&&!y.trimCharsBeforeMatching.includes(b))){m=T;break}}else if(e.startsWith("matchRight"))for(var _=v;_<r.length;_++){var w=r[_];if((!y.trimBeforeMatching||y.trimBeforeMatching&&w.trim())&&(!y.trimCharsBeforeMatching.length||!y.trimCharsBeforeMatching.includes(w))){m=_;break}}if(void 0===m)return!1;var O=r[m],S=m+1,A="";return S&&S>0&&(A=r.slice(0,S)),"L"===e[5]?y.cb(O,A,m):(m&&m>0&&(A=r.slice(m)),y.cb(O,A,m))}var I="";throw a||(I=" More so, the whole options object, the fourth input argument, is missing!"),new Error("string-match-left-right/".concat(e,'(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!').concat(I))}for(var C=0,L=u.length;C<L;C++){c="function"==typeof u[C];var j=u[C],W=void 0,M=void 0,R="",k=n;"matchRight"===e?k+=1:"matchLeft"===e&&(k-=1);var F=g(r,k,j,y,c,(function(t){return"L"===e[5]?t-1:t+1}));if(F&&c&&"function"==typeof j&&"EOL"===j())return!(!j()||y.cb&&!y.cb(W,R,M))&&j();if(Number.isInteger(F)&&(M=e.startsWith("matchLeft")?F-1:F+1,R="L"===e[5]?r.slice(0,F):r.slice(M)),M<0&&(M=void 0),r[M]&&(W=r[M]),Number.isInteger(F)&&(!y.cb||y.cb(W,R,M)))return j}return!1}function d(e,t,r,n){return p("matchLeft",e,t,r,n)}function y(e,t,r,n){return p("matchRightIncl",e,t,r,n)}function m(e,t,r,n){return p("matchRight",e,t,r,n)}var v=new Map;function T(e,t){t=o({caseSensitive:!1},t);var r=e+JSON.stringify(t);if(v.has(r))return v.get(r);var n="!"===e[0];n&&(e=e.slice(1)),e=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e).replace(/\\\*/g,"[\\s\\S]*");var i=new RegExp("^".concat(e,"$"),t.caseSensitive?"":"i");return i.negated=n,v.set(r,i),i}var b=function(e,r,n){if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Expected two arrays, got ".concat(t(e)," ").concat(t(r)));if(0===r.length)return e;var i="!"===r[0][0];r=r.map((function(e){return T(e,n)}));var o,a=[],s=c(e);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,f=i,h=c(r);try{for(h.s();!(l=h.n()).done;){var g=l.value;g.test(u)&&(f=!g.negated)}}catch(e){h.e(e)}finally{h.f()}f&&a.push(u)}}catch(e){s.e(e)}finally{s.f()}return a};function _(e,r,n){function i(e){return"string"==typeof e}if(!Array.isArray(e))throw new Error("array-pull-all-with-glob: [THROW_ID_01] first argument must be an array! Currently it's ".concat(t(e),", equal to: ").concat(JSON.stringify(e,null,4)));if(!e.length)return[];if(null==r)throw new Error("array-pull-all-with-glob: [THROW_ID_02] second argument is missing!");var a,s;if("string"==typeof r){if(0===r.length)return e;a=[r]}else if(Array.isArray(r)){if(0===r.length)return e;a=Array.from(r)}else if(!Array.isArray(r))throw new Error("array-pull-all-with-glob: [THROW_ID_04] first argument must be an array! Currently it's ".concat(t(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(0===e.length||0===r.length)return e;if(!e.every((function(e){return i(e)})))throw new Error("array-pull-all-with-glob: [THROW_ID_05] first argument array contains non-string elements: ".concat(JSON.stringify(e,null,4)));if(!a.every((function(e){return i(e)})))throw new Error("array-pull-all-with-glob: [THROW_ID_06] first argument array contains non-string elements: ".concat(JSON.stringify(a,null,4)));if(n&&(Array.isArray(n)||"object"!==t(n)))throw new Error("array-pull-all-with-glob: [THROW_ID_07] third argument, options object is not a plain object but ".concat(Array.isArray(n)?"array":t(n)));var l={caseSensitive:!0};return s=null===n?o({},l):o(o({},l),n),Array.from(e).filter((function(e){return!a.some((function(t){return b.isMatch(e,t,{caseSensitive:s.caseSensitive})}))}))}b.isMatch=function(e,t,r){var n=Array.isArray(e)?e:[e],i=Array.isArray(t)?t:[t];return n.some((function(e){return i.every((function(t){var n=T(t,r),i=n.test(e);return n.negated?!i:i}))}))};var w,O,S=Function.prototype,A=Object.prototype,I=S.toString,C=A.hasOwnProperty,L=I.call(Object),j=A.toString,W=(w=Object.getPrototypeOf,O=Object,function(e){return w(O(e))});var M=function(e){if(!function(e){return!!e&&"object"==t(e)}(e)||"[object Object]"!=j.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var r=W(e);if(null===r)return!0;var n=C.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==L},R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e,t,r){e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}((function(e,r){var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",l="[object Function]",u="[object GeneratorFunction]",c="[object Map]",f="[object Number]",h="[object Object]",g="[object Promise]",p="[object RegExp]",d="[object Set]",y="[object String]",m="[object Symbol]",v="[object WeakMap]",T="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",W=/\w*$/,M=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,F={};F[o]=F["[object Array]"]=F[T]=F[b]=F[a]=F[s]=F[_]=F[w]=F[O]=F[S]=F[A]=F[c]=F[f]=F[h]=F[p]=F[d]=F[y]=F[m]=F[I]=F[C]=F[L]=F[j]=!0,F["[object Error]"]=F[l]=F[v]=!1;var x="object"==t(R)&&R&&R.Object===Object&&R,E="object"==("undefined"==typeof self?"undefined":t(self))&&self&&self.Object===Object&&self,P=x||E||Function("return this")(),H=r&&!r.nodeType&&r,N=H&&e&&!e.nodeType&&e,D=N&&N.exports===H;function B(e,t){return e.set(t[0],t[1]),e}function J(e,t){return e.add(t),e}function q(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function $(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function U(e,t){return function(r){return e(t(r))}}function G(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var V,Z=Array.prototype,Y=Function.prototype,K=Object.prototype,Q=P["__core-js_shared__"],X=(V=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",ee=Y.toString,te=K.hasOwnProperty,re=K.toString,ne=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=D?P.Buffer:void 0,oe=P.Symbol,ae=P.Uint8Array,se=U(Object.getPrototypeOf,Object),le=Object.create,ue=K.propertyIsEnumerable,ce=Z.splice,fe=Object.getOwnPropertySymbols,he=ie?ie.isBuffer:void 0,ge=U(Object.keys,Object),pe=Ne(P,"DataView"),de=Ne(P,"Map"),ye=Ne(P,"Promise"),me=Ne(P,"Set"),ve=Ne(P,"WeakMap"),Te=Ne(Object,"create"),be=$e(pe),_e=$e(de),we=$e(ye),Oe=$e(me),Se=$e(ve),Ae=oe?oe.prototype:void 0,Ie=Ae?Ae.valueOf:void 0;function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Le(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function je(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function We(e){this.__data__=new Le(e)}function Me(e,r){var n=Ue(e)||function(e){return function(e){return function(e){return!!e&&"object"==t(e)}(e)&&Ge(e)}(e)&&te.call(e,"callee")&&(!ue.call(e,"callee")||re.call(e)==o)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=n.length,a=!!i;for(var s in e)!r&&!te.call(e,s)||a&&("length"==s||Je(s,i))||n.push(s);return n}function Re(e,t,r){var n=e[t];te.call(e,t)&&ze(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function ke(e,t){for(var r=e.length;r--;)if(ze(e[r][0],t))return r;return-1}function Fe(e,t,r,n,i,g,v){var M;if(n&&(M=g?n(e,i,g,v):n(e)),void 0!==M)return M;if(!Ye(e))return e;var R=Ue(e);if(R){if(M=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&te.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,M)}else{var k=Be(e),x=k==l||k==u;if(Ve(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(k==h||k==o||x&&!g){if($(e))return g?e:{};if(M=function(e){return"function"!=typeof e.constructor||qe(e)?{}:(t=se(e),Ye(t)?le(t):{});var t}(x?{}:e),!t)return function(e,t){return Pe(e,De(e),t)}(e,function(e,t){return e&&Pe(t,Ke(t),e)}(M,e))}else{if(!F[k])return g?e:{};M=function(e,t,r,n){var i=e.constructor;switch(t){case T:return Ee(e);case a:case s:return new i(+e);case b:return function(e,t){var r=t?Ee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case _:case w:case O:case S:case A:case I:case C:case L:case j:return function(e,t){var r=t?Ee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case c:return function(e,t,r){return q(t?r(z(e),!0):z(e),B,new e.constructor)}(e,n,r);case f:case y:return new i(e);case p:return function(e){var t=new e.constructor(e.source,W.exec(e));return t.lastIndex=e.lastIndex,t}(e);case d:return function(e,t,r){return q(t?r(G(e),!0):G(e),J,new e.constructor)}(e,n,r);case m:return o=e,Ie?Object(Ie.call(o)):{}}var o}(e,k,Fe,t)}}v||(v=new We);var E=v.get(e);if(E)return E;if(v.set(e,M),!R)var P=r?function(e){return function(e,t,r){var n=t(e);return Ue(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ke,De)}(e):Ke(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(P||e,(function(i,o){P&&(i=e[o=i]),Re(M,o,Fe(i,t,r,n,o,e,v))})),M}function xe(e){return!(!Ye(e)||function(e){return!!X&&X in e}(e))&&(Ze(e)||$(e)?ne:M).test($e(e))}function Ee(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Pe(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;Re(r,a,void 0===s?e[a]:s)}return r}function He(e,r){var n,i,o=e.__data__;return("string"==(i=t(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function Ne(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return xe(r)?r:void 0}Ce.prototype.clear=function(){this.__data__=Te?Te(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(Te){var r=t[e];return r===n?void 0:r}return te.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return Te?void 0!==t[e]:te.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=Te&&void 0===t?n:t,this},Le.prototype.clear=function(){this.__data__=[]},Le.prototype.delete=function(e){var t=this.__data__,r=ke(t,e);return!(r<0)&&(r==t.length-1?t.pop():ce.call(t,r,1),!0)},Le.prototype.get=function(e){var t=this.__data__,r=ke(t,e);return r<0?void 0:t[r][1]},Le.prototype.has=function(e){return ke(this.__data__,e)>-1},Le.prototype.set=function(e,t){var r=this.__data__,n=ke(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},je.prototype.clear=function(){this.__data__={hash:new Ce,map:new(de||Le),string:new Ce}},je.prototype.delete=function(e){return He(this,e).delete(e)},je.prototype.get=function(e){return He(this,e).get(e)},je.prototype.has=function(e){return He(this,e).has(e)},je.prototype.set=function(e,t){return He(this,e).set(e,t),this},We.prototype.clear=function(){this.__data__=new Le},We.prototype.delete=function(e){return this.__data__.delete(e)},We.prototype.get=function(e){return this.__data__.get(e)},We.prototype.has=function(e){return this.__data__.has(e)},We.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Le){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this;r=this.__data__=new je(n)}return r.set(e,t),this};var De=fe?U(fe,Object):function(){return[]},Be=function(e){return re.call(e)};function Je(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function $e(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(pe&&Be(new pe(new ArrayBuffer(1)))!=b||de&&Be(new de)!=c||ye&&Be(ye.resolve())!=g||me&&Be(new me)!=d||ve&&Be(new ve)!=v)&&(Be=function(e){var t=re.call(e),r=t==h?e.constructor:void 0,n=r?$e(r):void 0;if(n)switch(n){case be:return b;case _e:return c;case we:return g;case Oe:return d;case Se:return v}return t});var Ue=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Ze(e)}var Ve=he||function(){return!1};function Ze(e){var t=Ye(e)?re.call(e):"";return t==l||t==u}function Ye(e){var r=t(e);return!!e&&("object"==r||"function"==r)}function Ke(e){return Ge(e)?Me(e):function(e){if(!qe(e))return ge(e);var t=[];for(var r in Object(e))te.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Fe(e,!0,!0)}}));function k(e,t){return function(e,t,r){if("string"!=typeof e||!e.length)return null;if(t&&"number"==typeof t||(t=0),!e[t+1])return null;if(e[t+1]&&(!r&&e[t+1].trim()||r&&(e[t+1].trim()||"\n\r".includes(e[t+1]))))return t+1;if(e[t+2]&&(!r&&e[t+2].trim()||r&&(e[t+2].trim()||"\n\r".includes(e[t+2]))))return t+2;for(var n=t+1,i=e.length;n<i;n++)if(e[n]&&(!r&&e[n].trim()||r&&(e[n].trim()||"\n\r".includes(e[n]))))return n;return null}(e,t,!1)}function F(e,t){return function(e,t,r){if("string"!=typeof e||!e.length)return null;if(t&&"number"==typeof t||(t=0),t<1)return null;if(e[~-t]&&(!r&&e[~-t].trim()||r&&(e[~-t].trim()||"\n\r".includes(e[~-t]))))return~-t;if(e[t-2]&&(!r&&e[t-2].trim()||r&&(e[t-2].trim()||"\n\r".includes(e[t-2]))))return t-2;for(var n=t;n--;)if(e[n]&&(!r&&e[n].trim()||r&&(e[n].trim()||"\n\r".includes(e[n]))))return n;return null}(e,t,!1)}function x(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e)throw new TypeError("string-extract-class-names: [THROW_ID_02] first input should be string, not ".concat(t(e),", currently equal to ").concat(JSON.stringify(e,null,4)));if("boolean"!=typeof r)throw new TypeError("string-extract-class-names: [THROW_ID_03] second input argument should be a Boolean, not ".concat(t(e),", currently equal to ").concat(JSON.stringify(e,null,4)));var n,i=".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`";function o(e){return"string"==typeof e&&e.length&&(e.charCodeAt(0)>64&&e.charCodeAt(0)<91||e.charCodeAt(0)>96&&e.charCodeAt(0)<123)}for(var a=null,s=[],l=0,u=e.length;l<u;l++)null!==a&&l>=a&&(i.includes(e[l])||!e[l].trim())&&(l>a+1&&(r?s.push([a,l]):s.push("".concat(n||"").concat(e.slice(a,l))),n&&(n=void 0)),a=null),null!==a||"."!==e[l]&&"#"!==e[l]||(a=l),e.startsWith("class",l)&&"["===e[F(e,l)]&&"="===e[k(e,l+4)]&&(o(e[k(e,k(e,l+4))])?a=k(e,k(e,l+4)):"'\"".includes(e[k(e,k(e,l+4))])&&o(e[k(e,k(e,k(e,l+4)))])&&(a=k(e,k(e,k(e,l+4)))),n="."),e.startsWith("id",l)&&"["===e[F(e,l)]&&"="===e[k(e,l+1)]&&(o(e[k(e,k(e,l+1))])?a=k(e,k(e,l+1)):"'\"".includes(e[k(e,k(e,l+1))])&&o(e[k(e,k(e,k(e,l+1)))])&&(a=k(e,k(e,k(e,l+1)))),n="#"),l+1===u&&null!==a&&l>a&&(r?s.push([a,u]):s.push(e.slice(a,u)));return s}var E="__lodash_hash_undefined__",P=9007199254740991,H=/^\[object .+?Constructor\]$/,N="object"==t(R)&&R&&R.Object===Object&&R,D="object"==("undefined"==typeof self?"undefined":t(self))&&self&&self.Object===Object&&self,B=N||D||Function("return this")();function J(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function q(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,U,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function $(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function z(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function U(e){return e!=e}function G(e){return function(t){return e(t)}}function V(e,t){return e.has(t)}var Z,Y=Array.prototype,K=Function.prototype,Q=Object.prototype,X=B["__core-js_shared__"],ee=(Z=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",te=K.toString,re=Q.hasOwnProperty,ne=Q.toString,ie=RegExp("^"+te.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=Y.splice,ae=Math.max,se=Math.min,le=ve(B,"Map"),ue=ve(Object,"create");function ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function fe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function he(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ge(e){var t=-1,r=e?e.length:0;for(this.__data__=new he;++t<r;)this.add(e[t])}function pe(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function de(e){return!(!be(e)||function(e){return!!ee&&ee in e}(e))&&(Te(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?ie:H).test(function(e){if(null!=e){try{return te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ye(e){return function(e){return function(e){return!!e&&"object"==t(e)}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}(e.length)&&!Te(e)}(e)}(e)?e:[]}function me(e,r){var n,i,o=e.__data__;return("string"==(i=t(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function ve(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return de(r)?r:void 0}function Te(e){var t=be(e)?ne.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function be(e){var r=t(e);return!!e&&("object"==r||"function"==r)}ce.prototype.clear=function(){this.__data__=ue?ue(null):{}},ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ce.prototype.get=function(e){var t=this.__data__;if(ue){var r=t[e];return r===E?void 0:r}return re.call(t,e)?t[e]:void 0},ce.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:re.call(t,e)},ce.prototype.set=function(e,t){return this.__data__[e]=ue&&void 0===t?E:t,this},fe.prototype.clear=function(){this.__data__=[]},fe.prototype.delete=function(e){var t=this.__data__,r=pe(t,e);return!(r<0)&&(r==t.length-1?t.pop():oe.call(t,r,1),!0)},fe.prototype.get=function(e){var t=this.__data__,r=pe(t,e);return r<0?void 0:t[r][1]},fe.prototype.has=function(e){return pe(this.__data__,e)>-1},fe.prototype.set=function(e,t){var r=this.__data__,n=pe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},he.prototype.clear=function(){this.__data__={hash:new ce,map:new(le||fe),string:new ce}},he.prototype.delete=function(e){return me(this,e).delete(e)},he.prototype.get=function(e){return me(this,e).get(e)},he.prototype.has=function(e){return me(this,e).has(e)},he.prototype.set=function(e,t){return me(this,e).set(e,t),this},ge.prototype.add=ge.prototype.push=function(e){return this.__data__.set(e,E),this},ge.prototype.has=function(e){return this.__data__.has(e)};var _e=function(e,t){return t=ae(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=ae(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=o,J(e,this,a)}}((function(e){var t=z(e,ye);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?$:q,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=z(c,G(t))),l=se(c.length,l),s[a]=!r&&(t||i>=120&&c.length>=120)?new ge(a&&c):void 0}c=e[0];var f=-1,h=s[0];e:for(;++f<i&&u.length<l;){var g=c[f],p=t?t(g):g;if(g=r||0!==g?g:0,!(h?V(h,p):n(u,p,r))){for(a=o;--a;){var d=s[a];if(!(d?V(d,p):n(e[a],p,r)))continue e}h&&h.push(p),u.push(g)}}return u}(t):[]}));function we(e){var r,n=/^[0-9a-zA-Z]+$/;function i(e){return!(!e||"string"!=typeof e)&&!e.trim()}function a(e){return"string"==typeof e}if(!e||"object"!==t(e)||Array.isArray(e))throw r=void 0===e?"but it is missing completely.":null===e?"but it was given as null.":"but it was given as ".concat(t(e),", equal to:\n").concat(JSON.stringify(e,null,4),"."),new Error("string-range-expander: [THROW_ID_01] Input must be a plain object ".concat(r));if("object"===t(e)&&null!==e&&!Array.isArray(e)&&!Object.keys(e).length)throw new Error("string-range-expander: [THROW_ID_02] Input must be a plain object but it was given as a plain object without any keys.");if("number"!=typeof e.from)throw new Error("string-range-expander: [THROW_ID_03] The input's \"from\" value opts.from, is not a number! Currently it's given as ".concat(t(e.from),", equal to ").concat(JSON.stringify(e.from,null,0)));if("number"!=typeof e.to)throw new Error("string-range-expander: [THROW_ID_04] The input's \"to\" value opts.to, is not a number! Currently it's given as ".concat(t(e.to),", equal to ").concat(JSON.stringify(e.to,null,0)));if(!e.str[e.from]&&e.from!==e.to)throw new Error('string-range-expander: [THROW_ID_05] The given input string opts.str ("'.concat(e.str,'") must contain the character at index "from" ("').concat(e.from,'")'));if(!e.str[e.to-1])throw new Error('string-range-expander: [THROW_ID_06] The given input string, opts.str ("'.concat(e.str,'") must contain the character at index before "to" ("').concat(e.to-1,'")'));if(e.from>e.to)throw new Error('string-range-expander: [THROW_ID_07] The given "from" index, "'.concat(e.from,'" is greater than "to" index, "').concat(e.to,"\". That's wrong!"));if(a(e.extendToOneSide)&&"left"!==e.extendToOneSide&&"right"!==e.extendToOneSide||!a(e.extendToOneSide)&&void 0!==e.extendToOneSide&&!1!==e.extendToOneSide)throw new Error("string-range-expander: [THROW_ID_08] The opts.extendToOneSide value is not recogniseable! It's set to: \"".concat(e.extendToOneSide,'" (').concat(t(e.extendToOneSide),'). It has to be either Boolean "false" or strings "left" or "right"'));var s=o(o({},{str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1}),e);if(Array.isArray(s.ifLeftSideIncludesThisThenCropTightly)){var l,u;if(!s.ifLeftSideIncludesThisThenCropTightly.every((function(e,t){return!!a(e)||(l=t,u=e,!1)})))throw new Error("string-range-expander: [THROW_ID_09] The opts.ifLeftSideIncludesThisThenCropTightly was set to an array:\n".concat(JSON.stringify(s.ifLeftSideIncludesThisThenCropTightly,null,4),". Now, that array contains not only string elements. For example, an element at index ").concat(l," is of a type ").concat(t(u)," (equal to ").concat(JSON.stringify(u,null,0),")."));s.ifLeftSideIncludesThisThenCropTightly=s.ifLeftSideIncludesThisThenCropTightly.join("")}var c=s.str,f=s.from,h=s.to;if("right"!==s.extendToOneSide&&(i(c[f-1])&&(i(c[f-2])||s.ifLeftSideIncludesThisCropItToo.includes(c[f-2]))||c[f-1]&&s.ifLeftSideIncludesThisCropItToo.includes(c[f-1])||s.wipeAllWhitespaceOnLeft&&i(c[f-1])))for(var g=f;g--;)if(!s.ifLeftSideIncludesThisCropItToo.includes(c[g])){if(c[g].trim()){f=s.wipeAllWhitespaceOnLeft||s.ifLeftSideIncludesThisCropItToo.includes(c[g+1])?g+1:g+2;break}if(0===g){f=s.wipeAllWhitespaceOnLeft?0:1;break}}if("left"!==s.extendToOneSide&&(i(c[h])&&(s.wipeAllWhitespaceOnRight||i(c[h+1]))||s.ifRightSideIncludesThisCropItToo.includes(c[h])))for(var p=h,d=c.length;p<d;p++)if(!s.ifRightSideIncludesThisCropItToo.includes(c[p])&&(c[p]&&c[p].trim()||void 0===c[p])){h=s.wipeAllWhitespaceOnRight||s.ifRightSideIncludesThisCropItToo.includes(c[p-1])?p:p-1;break}return("right"!==s.extendToOneSide&&a(s.ifLeftSideIncludesThisThenCropTightly)&&s.ifLeftSideIncludesThisThenCropTightly&&(c[f-2]&&s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-2])||c[f-1]&&s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-1]))||"left"!==s.extendToOneSide&&a(s.ifRightSideIncludesThisThenCropTightly)&&s.ifRightSideIncludesThisThenCropTightly&&(c[h+1]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h+1])||c[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h])))&&("right"!==s.extendToOneSide&&i(c[f-1])&&!s.wipeAllWhitespaceOnLeft&&(f-=1),"left"!==s.extendToOneSide&&i(c[h])&&!s.wipeAllWhitespaceOnRight&&(h+=1)),s.addSingleSpaceToPreventAccidentalConcatenation&&c[f-1]&&c[f-1].trim()&&c[h]&&c[h].trim()&&(!s.ifLeftSideIncludesThisThenCropTightly&&!s.ifRightSideIncludesThisThenCropTightly||s.ifLeftSideIncludesThisThenCropTightly&&!s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-1])||!(!s.ifRightSideIncludesThisThenCropTightly||c[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h])))&&(n.test(c[f-1])||n.test(c[h]))?[f,h," "]:[f,h]}var Oe=Array.isArray;function Se(e,t){return e.codePointAt(t)}function Ae(e,t){if(!Array.isArray(e)||!e.length)return e;var r,n,i=o(o({},{strictlyTwoElementsInRangeArrays:!1,progressFn:null}),t);if(i.strictlyTwoElementsInRangeArrays&&!e.filter((function(e){return e})).every((function(e,t){return 2===e.length||(r=t,n=e.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(e[r],null,4),") has not two but ").concat(n," elements!"));if(!e.filter((function(e){return e})).every((function(e,t){return!(!Number.isInteger(e[0])||e[0]<0||!Number.isInteger(e[1])||e[1]<0)||(r=t,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(e[r],null,4),") does not consist of only natural numbers!"));var a=Math.pow(e.filter((function(e){return e})).length,2),s=0;return Array.from(e).filter((function(e){return e})).sort((function(e,t){return i.progressFn&&(s+=1,i.progressFn(Math.floor(100*s/a))),e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1}))}function Ie(e,r){function n(e){return"string"==typeof e}function i(e){return e&&"object"===t(e)&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var a,l={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};if(r){if(!i(r))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(r,null,4)," (type ").concat(t(r),")"));if((a=o(o({},l),r)).progressFn&&i(a.progressFn)&&!Object.keys(a.progressFn).length)a.progressFn=null;else if(a.progressFn&&"function"!=typeof a.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat(t(a.progressFn),'", equal to ').concat(JSON.stringify(a.progressFn,null,4)));if(a.mergeType&&1!==a.mergeType&&2!==a.mergeType)if(n(a.mergeType)&&"1"===a.mergeType.trim())a.mergeType=1;else{if(!n(a.mergeType)||"2"!==a.mergeType.trim())throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(t(a.mergeType),'", equal to ').concat(JSON.stringify(a.mergeType,null,4)));a.mergeType=2}if("boolean"!=typeof a.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat(t(a.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(a.joinRangesThatTouchEdges,null,4)))}else a=o({},l);for(var u,c,f,h=e.filter((function(e){return e})).map((function(e){return s(e)})).filter((function(e){return void 0!==e[2]||e[0]!==e[1]})),g=(u=a.progressFn?Ae(h,{progressFn:function(e){(f=Math.floor(e/5))!==c&&(c=f,a.progressFn(f))}}):Ae(h)).length-1,p=g;p>0;p--)a.progressFn&&(f=Math.floor(78*(1-p/g))+21)!==c&&f>c&&(c=f,a.progressFn(f)),(u[p][0]<=u[p-1][0]||!a.joinRangesThatTouchEdges&&u[p][0]<u[p-1][1]||a.joinRangesThatTouchEdges&&u[p][0]<=u[p-1][1])&&(u[p-1][0]=Math.min(u[p][0],u[p-1][0]),u[p-1][1]=Math.max(u[p][1],u[p-1][1]),void 0!==u[p][2]&&(u[p-1][0]>=u[p][0]||u[p-1][1]<=u[p][1])&&null!==u[p-1][2]&&(null===u[p][2]&&null!==u[p-1][2]?u[p-1][2]=null:void 0!==u[p-1][2]?2===a.mergeType&&u[p-1][0]===u[p][0]?u[p-1][2]=u[p][2]:u[p-1][2]+=u[p][2]:u[p-1][2]=u[p][2]),u.splice(p,1),p=u.length);return u.length?u:null}function Ce(e){return null!=e}function Le(e){return"string"==typeof e}function je(e,r,n){var i,o=0,a=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(!Le(e))throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat(t(e),", equal to: ").concat(JSON.stringify(e,null,4)));if(r&&!Array.isArray(r))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat(t(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(n&&"function"!=typeof n)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat(t(n),", equal to: ").concat(JSON.stringify(n,null,4)));if(!r||!r.filter((function(e){return e})).length)return e;var s=(i=Array.isArray(r)&&(Number.isInteger(r[0])&&r[0]>=0||/^\d*$/.test(r[0]))&&(Number.isInteger(r[1])&&r[1]>=0||/^\d*$/.test(r[1]))?[Array.from(r)]:Array.from(r)).length,l=0;i.filter((function(e){return e})).forEach((function(e,r){if(n&&(o=Math.floor(l/s*10))!==a&&(a=o,n(o)),!Array.isArray(e))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(r,"th element not an array: ").concat(JSON.stringify(e,null,4),", which is ").concat(t(e)));if(!Number.isInteger(e[0])||e[0]<0){if(!/^\d*$/.test(e[0]))throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(r,"th element, array [").concat(e[0],",").concat(e[1],"]. That array has first element not an integer, but ").concat(t(e[0]),", equal to: ").concat(JSON.stringify(e[0],null,4),". Computer doesn't like this."));i[r][0]=Number.parseInt(i[r][0],10)}if(!Number.isInteger(e[1])){if(!/^\d*$/.test(e[1]))throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(r,"th element, array [").concat(e[0],",").concat(e[1],"]. That array has second element not an integer, but ").concat(t(e[1]),", equal to: ").concat(JSON.stringify(e[1],null,4),". Computer doesn't like this."));i[r][1]=Number.parseInt(i[r][1],10)}l+=1}));var u=Ie(i,{progressFn:function(e){n&&(o=10+Math.floor(e/10))!==a&&(a=o,n(o))}});if(!u)return e;var c=u.length;if(c>0){var f=e.slice(u[c-1][1]);e=u.reduce((function(t,r,i,s){n&&(o=20+Math.floor(i/c*80))!==a&&(a=o,n(o));var l=0===i?0:s[i-1][1],u=s[i][0];return t+e.slice(l,u)+(Ce(s[i][2])?s[i][2]:"")}),""),e+=f}return e}function We(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Re,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function Me(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Re(e){return e!=e}var ke=Array.prototype.splice;function Fe(e,t,r,n){var i=n?Me:We,o=-1,a=t.length,s=e;for(e===t&&(t=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(t)),r&&(s=function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(e,function(e){return function(t){return e(t)}}(r)));++o<a;)for(var l=0,u=t[o],c=r?r(u):u;(l=i(s,c,l,n))>-1;)s!==e&&ke.call(s,l,1),ke.call(e,l,1);return e}var xe=function(e,t){return e&&e.length&&t&&t.length?Fe(e,t):e},Ee="Â ";function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;function r(e){return Array.from(e).reverse().join("")}function n(e,t,r){var n=r?"\n":"\r",i=r?"\r":"\n";if(!e)return e;for(var o=0,a="",s=0,l=e.length;s<l;s++)(e[s]===n||e[s]===i&&e[s-1]!==n)&&o++,"\r\n".includes(e[s])||e[s]===Ee?e[s]===Ee?a+=e[s]:e[s]===n?o<=t&&(a+=e[s],e[s+1]===i&&(a+=e[s+1],s++)):e[s]===i&&(!e[s-1]||e[s-1]!==n)&&o<=t&&(a+=e[s]):e[s+1]||o||(a+=" ");return a}if("string"==typeof e&&e.length){var i=1;"number"==typeof+t&&Number.isInteger(+t)&&+t>=0&&(i=+t);var o="",a="";if(e.trim()){if(!e[0].trim())for(var s=0,l=e.length;s<l;s++)if(e[s].trim()){o=e.slice(0,s);break}}else o=e;if(e.trim()&&(""===e.slice(-1).trim()||e.slice(-1)===Ee))for(var u=e.length;u--;)if(e[u].trim()){a=e.slice(u+1);break}return"".concat(n(o,i,!1)).concat(e.trim()).concat(r(n(r(a),i,!0)))}return e}function He(e){return null!=e}function Ne(e){return Number.isInteger(e)&&e>=0}function De(e){return"string"==typeof e}function Be(e){return/^\d*$/.test(e)?parseInt(e,10):e}var Je=function(){function e(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=o(o({},{limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1}),r);if(n.mergeType&&1!==n.mergeType&&2!==n.mergeType)if(De(n.mergeType)&&"1"===n.mergeType.trim())n.mergeType=1;else{if(!De(n.mergeType)||"2"!==n.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(t(n.mergeType),'", equal to ').concat(JSON.stringify(n.mergeType,null,4)));n.mergeType=2}this.opts=n}var n,i,a;return n=e,(i=[{key:"add",value:function(e,r,n){for(var i=this,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];if(a.length>0)throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ".concat(JSON.stringify(a,null,4)));if(He(e)||He(r)){if(He(e)&&!He(r)){if(Array.isArray(e)){if(e.length){if(e.some((function(e){return Array.isArray(e)})))return void e.forEach((function(e){Array.isArray(e)&&i.add.apply(i,s(e))}));e.length>1&&Ne(Be(e[0]))&&Ne(Be(e[1]))&&this.add.apply(this,s(e))}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('.concat(JSON.stringify(e,null,0),') but second-one, "to" is not (').concat(JSON.stringify(r,null,0),")"))}if(!He(e)&&He(r))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('.concat(JSON.stringify(r,null,0),') but first-one, "from" is not (').concat(JSON.stringify(e,null,0),")"));var u=/^\d*$/.test(e)?parseInt(e,10):e,c=/^\d*$/.test(r)?parseInt(r,10):r;if(Ne(n)&&(n=String(n)),!Ne(u)||!Ne(c))throw Ne(u)&&u>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(t(c),'" equal to: ').concat(JSON.stringify(c,null,4))):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(t(u),'" equal to: ').concat(JSON.stringify(u,null,4)));if(He(n)&&!De(n)&&!Ne(n))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ".concat(t(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(He(this.ranges)&&Array.isArray(this.last())&&u===this.last()[1]){if(this.last()[1]=c,this.last()[2],null!==this.last()[2]&&He(n)){var f=!(He(this.last()[2])&&this.last()[2].length>0)||this.opts&&this.opts.mergeType&&1!==this.opts.mergeType?n:this.last()[2]+n;this.opts.limitToBeAddedWhitespace&&(f=Pe(f,this.opts.limitLinebreaksCount)),De(f)&&!f.length||(this.last()[2]=f)}}else{this.ranges||(this.ranges=[]);var h=void 0===n||De(n)&&!n.length?[u,c]:[u,c,this.opts.limitToBeAddedWhitespace?Pe(n,this.opts.limitLinebreaksCount):n];this.ranges.push(h)}}}},{key:"push",value:function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];this.add.apply(this,[e,t,r].concat(i))}},{key:"current",value:function(){var e=this;return null!=this.ranges?(this.ranges=Ie(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(t){return He(t[2])?[t[0],t[1],Pe(t[2],e.opts.limitLinebreaksCount)]:t})):this.ranges):null}},{key:"wipe",value:function(){this.ranges=void 0}},{key:"replace",value:function(e){if(Array.isArray(e)&&e.length){if(!Array.isArray(e[0])||!Ne(e[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ".concat(JSON.stringify(e[0],null,4)," should be an array and its first element should be an integer, a string index."));this.ranges=Array.from(e)}else this.ranges=void 0}},{key:"last",value:function(){return void 0!==this.ranges&&Array.isArray(this.ranges)?this.ranges[this.ranges.length-1]:null}}])&&r(n.prototype,i),a&&r(n,a),e}(),qe=new Je({limitToBeAddedWhitespace:!0}),$e={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,removeHTMLComments:!1,removeCSSComments:!0,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100,breakToTheLeftOf:["</td","<html","</html","<head","</head","<meta","<link","<table","<script","</script","<!DOCTYPE","<style","</style","<title","<body","@media","</body","\x3c!--[if","\x3c!--<![endif","<![endif]"],mindTheInlineTags:["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]},ze={removeHTMLComments:!1,removeCSSComments:!1};function Ue(e){return"string"==typeof e}function Ge(e){return"string"==typeof e&&e.toUpperCase()!==e.toLowerCase()}function Ve(e,r){var n=Date.now();if(!Ue(e))throw void 0===e?new Error("html-crush: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error('html-crush: [THROW_ID_02] the first input argument must be string! It was given as "'.concat(t(e),'", equal to:\n').concat(JSON.stringify(e,null,4)));if(r&&!M(r))throw new Error("html-crush: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type ".concat(t(r),", equal to ").concat(JSON.stringify(r,null,4)));if(r&&Array.isArray(r.breakToTheLeftOf)&&r.breakToTheLeftOf.length)for(var i=0,l=r.breakToTheLeftOf.length;i<l;i++)if(!Ue(r.breakToTheLeftOf[i]))throw new TypeError("html-crush: [THROW_ID_05] the opts.breakToTheLeftOf array contains non-string elements! For example, element at index ".concat(i,' is of a type "').concat(t(r.breakToTheLeftOf[i]),'" and is equal to:\n').concat(JSON.stringify(r.breakToTheLeftOf[i],null,4)));var u=o(o({},$e),r);!1!==u.breakToTheLeftOf&&null!==u.breakToTheLeftOf||(u.breakToTheLeftOf=[]),"boolean"==typeof u.removeHTMLComments&&(u.removeHTMLComments=u.removeHTMLComments?1:0);var c="";Array.isArray(u.breakToTheLeftOf)&&u.breakToTheLeftOf.length&&(c=s(new Set(u.breakToTheLeftOf.map((function(e){return e[0]})))).join(""));var f,h,g,p=null,v=null,T=!1,b=0,_=0,w=!1,O=!1,S=null,A=null,I=null,C=null,L=null,j=null,W=null,R=null,x=null,E=null,P=">};",H="<",N="{},:;<>~+",D=N,B=N,J=!0,q=e.length,$=Math.floor(q/2);u.reportProgressFunc&&(h=Math.floor(u.reportProgressFuncTo-.01*(u.reportProgressFuncTo-u.reportProgressFuncFrom)-u.reportProgressFuncFrom));var z=0;if(q){for(var U=0;U<q;U++)if(u.reportProgressFunc&&(q>1e3&&q<2e3?U===$&&u.reportProgressFunc(Math.floor((u.reportProgressFuncTo-u.reportProgressFuncFrom)/2)):q>=2e3&&(g=u.reportProgressFuncFrom+Math.floor(U/q*h))!==z&&(z=g,u.reportProgressFunc(g))),_++,f&&"number"==typeof f&&U>=f&&(f=void 0),null===C||!e.startsWith("</script",U)||Ge(e[U+8])){if(!f&&!w&&e.startsWith("<script",U)&&!Ge(e[U+7])){C=U,f=!0;var G="";(u.removeLineBreaks||u.removeIndentations)&&null!==v&&(v>0&&(G="\n"),qe.push(v,U,G)),v=null,p=null}if(null!==x&&null===R&&!/\w/.test(e[U])){R=e.slice(x,U);var V=k(e,~-U);">"!==e[V]||e[U].trim()?"/"===e[V]&&">"===e[k(e,V)]&&(e[U].trim()||qe.push(U,k(e,U)),">"!==e[V+1]&&qe.push(V+1,k(e,V+1))):qe.push(U,k(e,U))}if(f||w||S||"<"!==e[~-U]||null!==x||(/\w/.test(e[U])?x=U:"/"===e[k(e,~-U)]&&/\w/.test(e[k(e,k(e,~-U))])&&(x=k(e,k(e,~-U)))),!f&&(w||S)&&null!==A&&"*"===e[U]&&"/"===e[U+1]){var Z=a(we({str:e,from:A,to:U+2,ifLeftSideIncludesThisThenCropTightly:D,ifRightSideIncludesThisThenCropTightly:B}),2);L=Z[0],j=Z[1],A=null,null!=L?qe.push(L,j):(b+=1,U+=1),f=U+2}if(f||!w&&!S||null!==A||"/"!==e[U]||"*"!==e[U+1]||(ze.removeCSSComments||(ze.removeCSSComments=!0),u.removeCSSComments&&(A=U)),O&&e.startsWith("![endif",U+1)&&(O=!1),!f&&!w&&!S&&null!==I){var Y=void 0;if(e.startsWith("--\x3e",U)?Y=3:">"===e[U]&&"]"===e[U-1]&&(Y=1),Y){var K=a(we({str:e,from:I,to:U+Y}),2);L=K[0],j=K[1],I=null,null!=L?u.lineLengthLimit&&_-(j-L)>=u.lineLengthLimit?(qe.push(L,j,"\n"),_=-Y):(qe.push(L,j),_-=j-L):(b+=Y-1,U+=Y-1),f=U+Y}}if(f||w||S||!e.startsWith("\x3c!--",U)||null!==I||(e.startsWith("[if",U+4)?(O||(O=!0),2===u.removeHTMLComments&&(I=U)):!u.removeHTMLComments||O&&2!==u.removeHTMLComments||(I=U),ze.removeHTMLComments||(ze.removeHTMLComments=!0)),!f&&w&&null===A&&e.startsWith("</style",U)&&!Ge(e[U+7])?w=!1:f||w||null!==A||!e.startsWith("<style",U)||Ge(e[U+6])||(w=!0,(u.removeLineBreaks||u.removeIndentations)&&u.breakToTheLeftOf.includes("<style")&&e.startsWith(' type="text/css">',U+6)&&e[U+24]&&qe.push(U+23,U+23,"\n")),!f&&!S&&"\"'".includes(e[U])&&e.endsWith("style=",U)&&(S=U),f||e[U].trim()){if(!f&&(!w&&!S||null===A)){if(null!==v){if(u.removeLineBreaks&&(b+=1),J)J=!1,(u.removeIndentations||u.removeLineBreaks)&&qe.push(0,U);else if(u.removeIndentations&&!u.removeLineBreaks&&(!T&&null!==p&&U>p?qe.push(p+1,U):v+1<U&&(e.endsWith("]>",v)||e.endsWith("--\x3e",v)||e.startsWith("<![",U)||e.startsWith("\x3c!--<![",U)?qe.push(v,U):" "===e[v]?qe.push(v+1,U):" "===e[~-U]?qe.push(v,~-U):qe.push(v,U," "))),u.removeLineBreaks||S){if(c.includes(e[U])&&y(e,U,u.breakToTheLeftOf)){"\n"===e[~-U]&&v===~-U||qe.push(v,U,"\n"),L=null,j=null,W=null,v=null,b=1;continue}var Q=" ";"<"===e[U]&&m(e,U,u.mindTheInlineTags,{cb:function(e){return!e||!/\w/.test(e)}})||(e[~-v]&&">".includes(e[~-v])&&"<".includes(e[U])||(w||S)&&null===A&&(D.includes(e[~-v])||B.includes(e[U]))||e.startsWith("!important",U)&&!O||S&&("'"===e[~-v]||'"'===e[~-v])||"}"===e[~-v]&&e.startsWith("</style",U)||">"===e[U]&&("'\"".includes(e[F(e,U)])||"<"===e[k(e,U)])||"/"===e[U]&&">"===e[k(e,U)])&&(Q="","/"===e[U]&&">"===e[U+1]&&k(e,U)>U+1&&(qe.push(U+1,k(e,U)),b-=k(e,U)-U+1)),Q&&Q.length&&(b+=1),u.lineLengthLimit?b>=u.lineLengthLimit||!e[U+1]||">"===e[U]||"/"===e[U]&&">"===e[U+1]?((b>u.lineLengthLimit||b===u.lineLengthLimit&&e[U+1]&&e[U+1].trim()&&!P.includes(e[U])&&!H.includes(e[U+1]))&&(Q="\n",b=1),(b>u.lineLengthLimit||" "!==Q||U!==v+1)&&qe.push(v,U,Q),L=null,j=null,W=null):(null===L||v<L)&&(L=v,j=U,W=Q):U===v+1&&" "===Q||qe.push(v,U,Q)}v=null,T||(T=!0)}else J&&(J=!1),u.removeLineBreaks&&(b+=1);T||(T=!0)}}else null===v&&(v=U);if(!f&&!J&&0!==U&&u.removeLineBreaks&&(u.lineLengthLimit||c)&&!e.startsWith("</a",U)){if(c&&y(e,U,u.breakToTheLeftOf)&&e.slice(0,U).trim()&&(!e.startsWith("<![endif]",U)||!d(e,U,"\x3c!--"))){qe.push(U,U,"\n"),L=null,j=null,W=null,b=1;continue}if(u.lineLengthLimit&&b<=u.lineLengthLimit){if(!e[U+1]||H.includes(e[U])&&!"!".includes(e[U])||P.includes(e[U])||!e[U].trim()){if(null!==L&&null!==j&&(L!==j||W&&W.length)){var X=W;e[U].trim()&&e[U+1]&&e[U+1].trim()&&b+(W?W.length:0)>u.lineLengthLimit&&(X="\n"),b+(X?X.length:0)>u.lineLengthLimit||" "!==X||j!==L+1?"}"===e[~-L]&&"{"===e[j]||qe.push(L,j,X):b-=p}!(e[U].trim()&&(H.includes(e[U])||e[~-U]&&P.includes(e[~-U]))&&Ue(E))||u.mindTheInlineTags.includes(R)||"<"===e[U]&&m(e,U,u.mindTheInlineTags,{cb:function(e){return!e||!/\w/.test(e)}})||"<"===e[U]&&m(e,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}})?null!==A||null===L||!(S||!u.mindTheInlineTags||!Array.isArray(u.mindTheInlineTags)||Array.isArray(u.mindTheInlineTags.length)&&!u.mindTheInlineTags.length||!Ue(R)||Array.isArray(u.mindTheInlineTags)&&u.mindTheInlineTags.length&&Ue(R)&&!u.mindTheInlineTags.includes(R))||"<"===e[U]&&m(e,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}})||(L=null,j=null,W=null):(L=U,j=U,W=null)}}else if(u.lineLengthLimit)if(!H.includes(e[U])||"<"===e[U]&&m(e,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}}))e[U+1]&&P.includes(e[U])&&Ue(R)&&Array.isArray(u.mindTheInlineTags)&&u.mindTheInlineTags.length&&!u.mindTheInlineTags.includes(R)?null!==L&&null!==j&&(L!==j||W&&W.length)||(qe.push(U+1,U+1,"\n"),b=0):e[U].trim()&&(e[U+1]||null!==L&&null!==j&&(L!==j||W&&W.length)&&qe.push(L,j,"\n"));else if(null!==L&&null!==j&&(L!==j||W&&W.length)){var ee=W&&W.length?W.length:0;b-(j-L-ee)-1>u.lineLengthLimit||(qe.push(L,j,W),W=null,b-((j=null)-(L=null)-ee)-1===u.lineLengthLimit&&(qe.push(U,U,"\n"),b=0))}else qe.push(U,U,"\n"),b=0}if(!f&&!J&&u.removeLineBreaks&&u.lineLengthLimit&&b>=u.lineLengthLimit&&null!==L&&null!==j&&!P.includes(e[U])&&!H.includes(e[U])&&!"/".includes(e[U])&&(b!==u.lineLengthLimit||!e[U+1]||e[U+1].trim())){var te="\n";e[U+1]&&!e[U+1].trim()&&b===u.lineLengthLimit&&(te=W),"\n"!==te||e[~-L].trim()||(L=F(e,L)+1),qe.push(L,j,te),b=U-j,e[U].length&&(b+=1),L=null,j=null,W=null}if((!f&&"\n"===e[U]||"\r"===e[U]&&(!e[U+1]||e[U+1]&&"\n"!==e[U+1]))&&(p=U,T&&(T=!1),!u.removeLineBreaks&&null!==v&&v<U&&e[U+1]&&"\r"!==e[U+1]&&"\n"!==e[U+1]&&qe.push(v,U)),e[U+1]||(w&&null!==A?qe.push.apply(qe,s(we({str:e,from:A,to:U,ifLeftSideIncludesThisThenCropTightly:D,ifRightSideIncludesThisThenCropTightly:B}))):v&&"\n"!==e[U]&&"\r"!==e[U]?qe.push(v,U+1):v&&("\r"===e[U]&&"\n"===e[U+1]||"\n"===e[U]&&"\r"!==e[U-1])&&qe.push(v,U)),!f&&S&&S<U&&e[S]===e[U]&&(S=null),!f&&!w&&e.startsWith("<pre",U)&&!Ge(e[U+4])){var re=e.indexOf("</pre",U+5);re>0&&(f=re)}if(!f&&!w&&e.startsWith("<code",U)&&!Ge(e[U+5])){var ne=e.indexOf("</code",U+5);ne>0&&(f=ne)}if(!f&&e.startsWith("<![CDATA[",U)){var ie=e.indexOf("]]>",U+9);ie>0&&(f=ie)}f||w||S||null===x||">"!==e[U]||("<"===e[k(e,U)]&&(E=R),x=null,R=null),"<"===e[U]&&null!==E&&(E=null)}else{if((u.removeIndentations||u.removeLineBreaks)&&U>0&&e[~-U]&&!e[~-U].trim())for(var oe=U;oe--;)if("\n"===e[oe]||"\r"===e[oe]||e[oe].trim()){oe+1<U&&qe.push(oe+1,U);break}C=null,f=!1,U+=8}if(qe.current()){var ae=u.reportProgressFuncTo-.01*(u.reportProgressFuncTo-u.reportProgressFuncFrom),se=je(e,qe.current(),(function(e){u.reportProgressFunc&&q>=2e3&&(g=Math.floor(ae+(u.reportProgressFuncTo-ae)*(e/100)))!==z&&(z=g,u.reportProgressFunc(g))}));qe.wipe();var le=se.length;return{log:{timeTakenInMiliseconds:Date.now()-n,originalLength:q,cleanedLength:le,bytesSaved:Math.max(q-le,0),percentageReducedOfOriginal:q?Math.round(100*Math.max(q-le,0)/q):0},ranges:qe.current(),applicableOpts:ze,result:se}}}return{log:{timeTakenInMilliseconds:Date.now()-n,originalLength:q,cleanedLength:q,bytesSaved:0,percentageReducedOfOriginal:0},applicableOpts:ze,ranges:[],result:e}}function Ze(e){var r,n,i,o=!0;if(Array.isArray(e)){if(0===e.length)return!0;for(r=0,n=e.length;r<n;r++){if(null===(o=Ze(e[r])))return null;if(!o)return!1}}else if((i=e)&&"object"===t(i)&&!Array.isArray(i)){if(0===Object.keys(e).length)return!0;for(r=0,n=Object.keys(e).length;r<n;r++){if(null===(o=Ze(e[Object.keys(e)[r]])))return null;if(!o)return!1}}else{if("string"!=typeof e)return null;if(0!==e.length)return!1}return o}var Ye="__lodash_hash_undefined__",Ke="[object Function]",Qe="[object GeneratorFunction]",Xe=/^\[object .+?Constructor\]$/,et="object"==t(R)&&R&&R.Object===Object&&R,tt="object"==("undefined"==typeof self?"undefined":t(self))&&self&&self.Object===Object&&self,rt=et||tt||Function("return this")();function nt(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,ot,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function it(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function ot(e){return e!=e}function at(e,t){return e.has(t)}function st(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var lt=Array.prototype,ut=Function.prototype,ct=Object.prototype,ft=rt["__core-js_shared__"],ht=function(){var e=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gt=ut.toString,pt=ct.hasOwnProperty,dt=ct.toString,yt=RegExp("^"+gt.call(pt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=lt.splice,vt=jt(rt,"Map"),Tt=jt(rt,"Set"),bt=jt(Object,"create");function _t(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function wt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ot(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function St(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ot;++t<r;)this.add(e[t])}function At(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function It(e){return!(!Wt(e)||function(e){return!!ht&&ht in e}(e))&&(function(e){var t=Wt(e)?dt.call(e):"";return t==Ke||t==Qe}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?yt:Xe).test(function(e){if(null!=e){try{return gt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}_t.prototype.clear=function(){this.__data__=bt?bt(null):{}},_t.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_t.prototype.get=function(e){var t=this.__data__;if(bt){var r=t[e];return r===Ye?void 0:r}return pt.call(t,e)?t[e]:void 0},_t.prototype.has=function(e){var t=this.__data__;return bt?void 0!==t[e]:pt.call(t,e)},_t.prototype.set=function(e,t){return this.__data__[e]=bt&&void 0===t?Ye:t,this},wt.prototype.clear=function(){this.__data__=[]},wt.prototype.delete=function(e){var t=this.__data__,r=At(t,e);return!(r<0)&&(r==t.length-1?t.pop():mt.call(t,r,1),!0)},wt.prototype.get=function(e){var t=this.__data__,r=At(t,e);return r<0?void 0:t[r][1]},wt.prototype.has=function(e){return At(this.__data__,e)>-1},wt.prototype.set=function(e,t){var r=this.__data__,n=At(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ot.prototype.clear=function(){this.__data__={hash:new _t,map:new(vt||wt),string:new _t}},Ot.prototype.delete=function(e){return Lt(this,e).delete(e)},Ot.prototype.get=function(e){return Lt(this,e).get(e)},Ot.prototype.has=function(e){return Lt(this,e).has(e)},Ot.prototype.set=function(e,t){return Lt(this,e).set(e,t),this},St.prototype.add=St.prototype.push=function(e){return this.__data__.set(e,Ye),this},St.prototype.has=function(e){return this.__data__.has(e)};var Ct=Tt&&1/st(new Tt([,-0]))[1]==1/0?function(e){return new Tt(e)}:function(){};function Lt(e,r){var n,i,o=e.__data__;return("string"==(i=t(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function jt(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return It(r)?r:void 0}function Wt(e){var r=t(e);return!!e&&("object"==r||"function"==r)}var Mt=function(e){return e&&e.length?function(e,t,r){var n=-1,i=nt,o=e.length,a=!0,s=[],l=s;if(r)a=!1,i=it;else if(o>=200){var u=t?null:Ct(e);if(u)return st(u);a=!1,i=at,l=new St}else l=t?[]:s;e:for(;++n<o;){var c=e[n],f=t?t(c):c;if(c=r||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,r)||(l!==s&&l.push(f),s.push(c))}return s}(e):[]},Rt=/[\n]?\s*<style[^>]*>\s*<\/style\s*>/g,kt=/[\n]?\s*@(media|supports|document)[^{]*{\s*}/g,Ft=/@media[^{@}]+{(?=\s*<\/style>)/g,xt={whitelist:[],backend:[],uglify:!1,removeHTMLComments:!0,removeCSSComments:!0,doNotRemoveHTMLCommentsWhoseOpeningTagContains:["[if","[endif"],reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100};function Et(e){return e&&"object"===t(e)&&!Array.isArray(e)}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ht(e){return"string"==typeof e&&1===e.length&&(e.charCodeAt(0)>64&&e.charCodeAt(0)<91||e.charCodeAt(0)>96&&e.charCodeAt(0)<123)}e.comb=function(e,r){var n,i,a,l=Date.now(),u=new Je({limitToBeAddedWhitespace:!0}),c=new Je,f=new Je;function h(e){return/[-_A-Za-z0-9]/.test(e)}function g(e){return"string"==typeof e}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o({valuesStart:null,valueStart:null,nameStart:null},e)}var v,T,w,O,S,A,I,C,L,j,W,M,R,E,P,H,N,D,B,J,q=[],$=[],z=[],U={},G=0,V=0,Z=!1,Y=null,K=!1,Q=0,X=0,ee=["media","supports","document"],te=["font-feature-values","counter-style","namespace","font-face","keyframes","viewport","charset","import","page"],re=["{","(","<",'"',"'","@",";"];if("string"!=typeof e)throw new TypeError("email-remove-unused-css: [THROW_ID_01] Input must be string! Currently it's ".concat(t(e)));if(!Et(r)){if(null!=r)throw new TypeError("email-remove-unused-css: [THROW_ID_02] Options, second input argument, must be a plain object! Currently it's ".concat(t(r),", equal to: ").concat(JSON.stringify(r,null,4)));r={}}if(g(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length?r.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[r.doNotRemoveHTMLCommentsWhoseOpeningTagContains]:r.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[]),Et(r)&&Pt(r,"backend")&&Ze(r.backend)&&(r.backend=[]),g((r=o(o({},xt),r)).whitelist)&&(r.whitelist=[r.whitelist]),!Array.isArray(r.whitelist))throw new TypeError("email-remove-unused-css: [THROW_ID_03] opts.whitelist should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(r.whitelist,null,4)));if(r.whitelist.length>0&&!r.whitelist.every((function(e){return g(e)})))throw new TypeError("email-remove-unused-css: [THROW_ID_04] opts.whitelist array should contain only string-type elements. Currently we\ve got:\n".concat(JSON.stringify(r.whitelist,null,4)));if(!Array.isArray(r.backend))throw new TypeError("email-remove-unused-css: [THROW_ID_05] opts.backend should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(r.backend,null,4)));if(r.backend.length>0&&r.backend.some((function(e){return!Et(e)})))throw new TypeError("email-remove-unused-css: [THROW_ID_06] opts.backend array should contain only plain objects but it contains something else:\n".concat(JSON.stringify(r.backend,null,4)));if(r.backend.length>0&&!r.backend.every((function(e){return Pt(e,"heads")&&Pt(e,"tails")})))throw new TypeError('email-remove-unused-css: [THROW_ID_07] every object within opts.backend should contain keys "heads" and "tails" but currently it\'s not the case. Whole "opts.backend" value array is currently equal to:\n'.concat(JSON.stringify(r.backend,null,4)));if("boolean"!=typeof r.uglify){if(1!==r.uglify&&0!==r.uglify)throw new TypeError("email-remove-unused-css: [THROW_ID_08] opts.uglify should be a Boolean. Currently it's set to: ".concat(JSON.stringify(r.uglify,null,4),"}"));r.uglify=!!r.uglify}if(r.reportProgressFunc&&"function"!=typeof r.reportProgressFunc)throw new TypeError("email-remove-unused-css: [THROW_ID_09] opts.reportProgressFunc should be a function but it was given as :\n".concat(JSON.stringify(r.reportProgressFunc,null,4)," (").concat(t(r.reportProgressFunc),")"));var ne=null,ie=null;Array.isArray(r.backend)&&r.backend.length&&(ne=r.backend.map((function(e){return e.heads})),ie=r.backend.map((function(e){return e.tails})));var oe,ae=e.length;r.reportProgressFunc&&(oe=Math.floor((r.reportProgressFuncTo-.06*(r.reportProgressFuncTo-r.reportProgressFuncFrom)-r.reportProgressFuncFrom)/2));var se,le,ue,ce,fe,he,ge,pe,de,ye,me,ve,Te=0;e.length&&"\r\n".includes(e[e.length-1])||(Te=1);for(var be,Ae,Ie,Ce,Le,We,Me,Re=0,ke=function(t){A=!1,P=null,Z=!1,B=!0,D=!0,O=p(),M=!0,K=!1,H=null,S=p(),T=null,de=!1,Y=null,ye=null,me=null,I=!1,E=null,null,be=!1,v=null,le=null,i=null,w=null,Le=null,a=null,se=!1,G+=ae;e:for(n=0;n<ae;n++){r.reportProgressFunc&&(ae>1e3&&ae<2e3?1===t&&0===n&&r.reportProgressFunc(Math.floor((r.reportProgressFuncTo-r.reportProgressFuncFrom)/2)):ae>=2e3&&(pe=r.reportProgressFuncFrom+Math.floor(n/ae*oe)+(1===t?0:oe))!==Re&&(Re=pe,r.reportProgressFunc(pe)));var l=e[n];if("\n"===e[n]?e[n-1]:"\r"===e[n]&&e[n+1],!0!==de&&(null===a&&null!==i&&n>=i||null!==i&&null!==a&&i>a&&i<n)?(de=!0,be=!1):!0!==be&&null!==w&&(null===i||i<n)&&(null===a||a<n)&&(be=!0,de=!1),!se&&('"'===e[n]||"'"===e[n]))if(ye){if('"'===e[n]&&"'"===e[k(e,n)]&&'"'===e[k(e,k(e,n))]||"'"===e[n]&&'"'===e[k(e,n)]&&"'"===e[k(e,k(e,n))]){n=k(e,k(e,n));continue}ye===e[n]&&(ye=null)}else{var f=F(e,n);(de&&["(",",",":"].includes(e[f])||be&&!de&&["(",",",":","="].includes(e[f]))&&(ye=e[n])}if(se)if(null===le||"string"!=typeof le||"string"==typeof le&&!le)se=!1;else if(y(e,n,le)){if(null!==v){if(1===t&&r.removeCSSComments){var g=d(e,v,["\r\n","\n","\r"]),Te=v;g&&(Te-=g.length),e[Te-1]&&h(e[Te-1])&&e[n+le.length]&&h(e[n+le.length])?(u.push(Te,n+le.length,";"),X+=n+le.length-Te):(u.push(Te,n+le.length),X+=n+le.length-Te)}v=null}n=n+le.length-1,le=null,se=!1;continue}if(!se&&"<"===e[n]&&"s"===e[n+1]&&"t"===e[n+2]&&"y"===e[n+3]&&"l"===e[n+4]&&"e"===e[n+5]){A=!0,de||(de=!0);for(var je=n;je<ae;je++)if(G+=1,">"===e[je]){i=je+1,E=je+1;break}}if(!se&&de&&"<"===e[n]&&"/"===e[n+1]&&"s"===e[n+2]&&"t"===e[n+3]&&"y"===e[n+4]&&"l"===e[n+5]&&"e"===e[n+6]&&(a=n-1,E=null,A=!1,de&&(de=!1)),1!==t||!de&&!be||"/"!==e[n]||"*"!==e[n+1]||v){if(!se&&de&&"@"===e[n]){me&&(me=null);var ke=m(e,n,ee)||m(e,n,te);if(ke){var Fe=void 0;(";"===e[n+ke.length+1]||e[n+ke.length+1]&&!e[n+ke.length+1].trim()&&m(e,n+ke.length+1,";",{trimBeforeMatching:!0,cb:function(e,t,r){return Fe=r,!0}}))&&u.push(n,Fe||n+ke.length+2);for(var Ee=void 0,Pe=n+1;Pe<ae;Pe++)if(G+=1,Ee&&e[Pe]===Ee){if("}"===e[Pe]&&te.includes(ke)||"{"===e[Pe]&&ee.includes(ke)){n=Pe,E=Pe+1;continue e}Ee=void 0}else if('"'!==e[Pe]||Ee?"'"!==e[Pe]||Ee?"("!==e[Pe]||Ee?te.includes(ke)&&"{"===e[Pe]&&!Ee&&(Ee="}"):Ee=")":Ee="'":Ee='"',!Ee&&re.includes(e[Pe])){var He=void 0,Ne=void 0;if("{"===e[Pe]||";"===e[Pe]){I=!1,E=Pe+1,n=Pe;continue e}"@"!==e[Pe]&&"<"!==e[Pe]||1!==t||e.slice(n,Pe).includes("{")||e.slice(n,Pe).includes("(")||e.slice(n,Pe).includes('"')||e.slice(n,Pe).includes("'")||(He=n,Ne=Pe+(";"===e[Pe]?1:0),u.push(He,Ne));var De=Ne?Ne-1:Pe-1+("{"===e[Pe]?1:0);n=De,E=De+1;continue e}}}if(!se&&de&&I&&A&&"}"===l&&!ye&&!V&&(2===t&&D&&E&&u.push(E,n+1),I=!1,E&&(E=n+1),P=null,Z=!1,D=!0,H=null,Y=null,K=!1),!se&&!v&&i&&n>=i&&(null===a&&n>=i||i>a&&i<=n)&&n>=null&&!I){if(null===H){if("."===l||"#"===l)H=n;else if(d(e,n,"[class="))Ht(l)?(H=n,N="."):"\"'".includes(l)&&Ht(e[k(e,n)])&&(H=k(e,n),N=".");else if(d(e,n,"[id="))Ht(l)?(H=n,N="#"):"\"'".includes(l)&&Ht(e[k(e,n)])&&(H=k(e,n),N="#");else if(l.trim())if("}"===l)E=n+1,Le=null;else if("<"===l&&"!"===e[n+1])for(var Be=n;Be<ae;Be++)if(G+=1,">"===e[Be]){E=Be+1,P=Be+1,n=Be;continue e}}else if(null!==H&&!h(l)){var Je=e.slice(H,n);N&&(Je="".concat(N).concat(Je),N=void 0),2===t&&!Z&&Ce.includes(Je)?(Z=!0,K=!0):2!==t||Z||(!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b([Je],r.whitelist).length||c.push(H,n,L[ce.indexOf(Je)]),","===l&&(Y=n,K=!1)),H="."===l||"#"===l?n:null}if(null===P)!l.trim()||"}"===l||";"===l||"/"===e[n]&&"*"===e[n+1]||(Z=!1,P=n);else if(",{".includes(l)){var qe=me||n;if(Le=e.slice(P,qe),1===t)me&&(","===l&&me<n?(u.push(me,n),Q+=n-me):"{"===l&&me<n-1&&(u.push(me,n-1),Q+=n-1-me)),q.push(Le);else if(Z){var $e=P,ze=n,Ue=void 0;if("{"===l&&">"!==e[$e-1]&&"}"!==e[$e-1]){for(var Ge=P;Ge--;)if(G+=1,e[Ge].trim()&&","!==e[Ge]){$e=Ge+1;break}e[n-1].trim()||(ze=n-1)}else if(","!==l||e[n+1].trim())d(e,$e,"{",{trimBeforeMatching:!0,cb:function(e,t,r){return Ue=r,!0}})&&($e=Ue+2);else for(var Ve=n+1;Ve<ae;Ve++)if(G+=1,e[Ve].trim()){ze=Ve;break}var Ze=we({str:e,from:$e,to:ze,ifRightSideIncludesThisThenCropTightly:".#",ifRightSideIncludesThisCropItToo:",",extendToOneSide:"right"});u.push.apply(u,s(Ze)),r.uglify&&c.wipe()}else D&&(D=!1),K&&(K=!1),r.uglify&&(u.push(c.current()),c.wipe());if("{"!==l)P=null;else if(2===t&&!D&&null!==Y&&K){var Ye=Y+1;if("\n\r".includes(e[Y+1]))for(var Ke=Y+1;Ke<ae;Ke++)if(e[Ke].trim()){Ye=Ke;break}u.push(Y,Ye),Y=null,K=!1}}}if(!se&&!de&&be&&"/"===e[n]&&m(e,n,"body",{trimBeforeMatching:!0,i:!0})&&d(e,n,"<",{trimBeforeMatching:!0})&&(be=!1,w=null),!se&&"<"===e[n]&&m(e,n,"body",{i:!0,trimBeforeMatching:!0,cb:function(e,r,i){if(1===t){if(void 0!==e&&(""===e.trim()||">"===e)){if(!(i-n>5))return!0;u.push(n,i,"<body"),Q+=i-n-5}return!0}return!0}}))for(var Qe=n;Qe<ae;Qe++)if(G+=1,">"===e[Qe]){w=Qe+1;break}if(!se&&be&&!de&&"s"===e[n]&&"t"===e[n+1]&&"y"===e[n+2]&&"l"===e[n+3]&&"e"===e[n+4]&&"="===e[n+5]&&".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`\t\n".includes(e[n-1])&&"\"'".includes(e[n+6]),!se&&be&&!de&&!ye&&"c"===e[n]&&"l"===e[n+1]&&"a"===e[n+2]&&"s"===e[n+3]&&"s"===e[n+4]&&e[n-1]&&!e[n-1].trim()){var Xe=void 0,et=!1;if("="===e[n+5]){if('"'===e[n+6]||"'"===e[n+6])Xe=n+7;else if(h(e[n+6]))Xe=n+6,et=!0;else if(e[n+6]&&(!e[n+6].trim()||"/>".includes(e[n+6]))){var tt=we({str:e,from:n,to:n+6,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});u.push.apply(u,s(tt))}}else if(!e[n+5].trim())for(var rt=n+5;rt<ae;rt++)if(G+=1,e[rt].trim()){if("="===e[rt])if(rt>n+5&&1===t&&u.push(n+5,rt),'"'!==e[rt+1]&&"'"!==e[rt+1]||!e[rt+2]){if(e[rt+1]&&!e[rt+1].trim())for(var nt=rt+1;nt<ae;nt++)if(G+=1,e[nt].trim()){nt>rt+1&&1===t&&u.push(rt+1,nt),'"'!==e[nt]&&"'"!==e[nt]||!e[nt+1]||(Xe=nt+1);break}}else Xe=rt+2;break}Xe&&(O=p({valuesStart:Xe,quoteless:et,nameStart:n}),1===t?M=!0:2===t&&(B=!0))}if(!se&&be&&!de&&!ye&&"i"===e[n]&&"d"===e[n+1]&&e[n-1]&&!e[n-1].trim()){var it=void 0,ot=!1;if("="===e[n+2]){if('"'===e[n+3]||"'"===e[n+3])it=n+4;else if(h(e[n+3]))it=n+3,ot=!0;else if(e[n+3]&&(!e[n+3].trim()||"/>".includes(e[n+3]))){var at=we({str:e,from:n,to:n+3,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});u.push.apply(u,s(at))}}else if(!e[n+2].trim())for(var st=n+2;st<ae;st++)if(G+=1,e[st].trim()){if("="===e[st])if(st>n+2&&1===t&&u.push(n+2,st),'"'!==e[st+1]&&"'"!==e[st+1]||!e[st+2]){if(e[st+1]&&!e[st+1].trim())for(var lt=st+1;lt<ae;lt++)if(G+=1,e[lt].trim()){lt>st+1&&1===t&&u.push(st+1,lt),'"'!==e[lt]&&"'"!==e[lt]||!e[lt+1]||(it=lt+1);break}}else it=st+2;break}it&&(S=p({valuesStart:it,quoteless:ot,nameStart:n}),1===t?M=!0:2===t&&(B=!0))}if(!se&&null!==O.valuesStart&&n>=O.valuesStart&&null===O.valueStart&&(ne&&y(e,n,ne)?function(){if(se=!0,B=!1,me&&n>me+1){var t=we({str:e,from:me,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});u.push.apply(u,s(t)),me=null}else me&&(me=null);var i=y(e,n,ne),o=r.backend.find((function(e){return e.heads===i}));le=o.tails}():h(l)&&(O.valueStart=n,1===t&&(O.quoteless&&u.push(n,n,'"'),M&&null!==O.valuesStart&&!e.slice(O.valuesStart,n).trim()&&O.valuesStart<n?(u.push(O.valuesStart,n),Q+=n-O.valuesStart,M=!1):null!==me&&me<n-1&&(u.push(me+1,n),Q+=n-me+1)))),!se&&null!==O.valueStart&&n>O.valueStart&&(!h(l)||ie&&y(e,n,ie)))if(ne&&y(e,n,ne))!function(){O.valueStart=null,O=p();var t=y(e,n,ne),i=r.backend.find((function(e){return e.heads===t}));le=i.tails}();else{var ut="".concat(e.slice(O.valueStart,n));if(1===t)$.push(".".concat(ut)),O.quoteless&&("\"'".includes(e[n])||u.push(n,n,'"'));else if(null!=O.valueStart&&ve.includes(ut)){var ct=we({str:e,from:O.valueStart,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0}),ft="";e[ct[0]-1]&&e[ct[0]-1].trim()&&e[ct[1]]&&e[ct[1]].trim()&&(ne||ie)&&(ne&&d(e,ct[0],ie)||ie&&y(e,ct[1],ne))&&(ft=" "),u.push.apply(u,s(ct).concat([ft]))}else B=!1,!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b([".".concat(ut)],r.whitelist).length||u.push(O.valueStart,n,L[ce.indexOf(".".concat(ut))].slice(1));O.valueStart=null}if(!se&&null!==S.valueStart&&n>S.valueStart&&(!h(l)||ie&&y(e,n,ie))){var ht=e.slice(S.valueStart,n);if(1===t)z.push("#".concat(ht)),S.quoteless&&("\"'".includes(e[n])||u.push(n,n,'"'));else if(null!=S.valueStart&&Ae.includes(ht)){var gt=we({str:e,from:S.valueStart,to:n,ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0});e[gt[0]-1]&&e[gt[0]-1].trim()&&e[gt[1]]&&e[gt[1]].trim()&&(ne||ie)&&(ne&&d(e,gt[0],ie)||ie&&y(e,gt[1],ne))&&(gt[0]+=1),u.push.apply(u,s(gt))}else B=!1,!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b(["#".concat(ht)],r.whitelist).length||u.push(S.valueStart,n,L[ce.indexOf("#".concat(ht))].slice(1));S.valueStart=null}if(!se&&null!=O.valuesStart&&(!O.quoteless&&("'"===l||'"'===l)||O.quoteless&&!h(e[n]))&&n>=O.valuesStart){if(n===O.valuesStart)1===t&&u.push.apply(u,s(we({str:e,from:O.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===t&&B){var pt=we({str:e,from:O.valuesStart-7,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),dt="";e[pt[0]-1]&&e[pt[0]-1].trim()&&e[pt[1]]&&e[pt[1]].trim()&&!"/>".includes(e[pt[1]])&&(dt=" "),u.push.apply(u,s(pt).concat([dt]))}null!==me&&u.push(me,n)}O=p()}if(!se&&null!==S.valuesStart&&(!S.quoteless&&("'"===l||'"'===l)||S.quoteless&&!h(e[n]))&&n>=S.valuesStart){if(n===S.valuesStart)1===t&&u.push.apply(u,s(we({str:e,from:S.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===t&&B){var yt=we({str:e,from:S.valuesStart-4,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),mt="";e[yt[0]-1]&&e[yt[0]-1].trim()&&e[yt[1]]&&e[yt[1]].trim()&&!"/>".includes(e[yt[1]])&&(mt=" "),u.push.apply(u,s(yt).concat([mt]))}null!==me&&u.push(me,n)}S=p()}if(!se&&S.valuesStart&&n>=S.valuesStart&&null===S.valueStart&&(ne&&y(e,n,ne)?function(){if(se=!0,B=!1,me&&n>me+1){var t=we({str:e,from:me,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});u.push.apply(u,s(t)),me=null}else me&&(me=null);var i=y(e,n,ne),o=r.backend.find((function(e){return e.heads===i}));le=o.tails}():h(l)&&(S.valueStart=n,1===t&&(S.quoteless&&u.push(n,n,'"'),M&&null!==S.valuesStart&&!e.slice(S.valuesStart,n).trim()&&S.valuesStart<n?(u.push(S.valuesStart,n),Q+=n-S.valuesStart,M=!1):null!==me&&me<n-1&&(u.push(me+1,n),Q+=n-me+1)))),!se&&1===t){if(null!==v&&v<n&&">"===e[n]&&!Me&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.trim()&&e.slice(v,n).toLowerCase().includes(t)}))&&(We=!1),Me=!0),null!==v&&">"===e[n])if(R||"-"!==e[n-1]||"-"!==e[n-2]){if(R){var vt=we({str:e,from:v,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});r.removeHTMLComments&&We&&u.push.apply(u,s(vt)),X+=vt[1]-vt[0],v=null,R=void 0}}else{var Tt=we({str:e,from:v,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});r.removeHTMLComments&&We&&u.push.apply(u,s(Tt)),X+=Tt[1]-Tt[0],v=null,R=void 0}r.removeHTMLComments&&null===v&&"<"===e[n]&&"!"===e[n+1]&&((!ne||Array.isArray(ne)&&ne.length&&!ne.includes("<!"))&&(!ie||Array.isArray(ie)&&ie.length&&!ie.includes("<!"))&&(m(e,n+1,"doctype",{i:!0,trimBeforeMatching:!0})||"-"===e[n+2]&&"-"===e[n+3]&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&m(e,n+3,r.doNotRemoveHTMLCommentsWhoseOpeningTagContains,{trimBeforeMatching:!0})||(v=n,Me=!1,We=!0),R=!("-"===e[n+2]&&"-"===e[n+3])),v!==n&&(T=n))}if("}"===l&&V&&(V-=1),!se&&"{"===l&&A&&(I?V+=1:(I=!0,null!==me&&(e.slice(me,n).includes("\n")||e.slice(me,n).includes("\r"))&&u.push(me,n))),se||(e[n].trim()?null!==me&&(me=null):null===me&&(me=n)),!se&&2===t&&Array.isArray(J)&&J.length&&n===J[0][0]){var bt=J.shift();bt[1]-1>n&&(n=bt[1]-1)}else if(null!==T&&">"===e[n]){T=null;var _t=void 0;if(r.removeHTMLComments&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.includes("if")}))||r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.includes("mso")}))||r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.includes("ie")})))&&m(e,n,"\x3c!--",{trimBeforeMatching:!0,cb:function(e,t,r){return _t=r,!0}})){m(e,_t-1,"--\x3e",{trimBeforeMatching:!0,cb:function(e,t,r){return _t=r,!0}}),n=_t-1;continue}}}else v=n,se=!0,le="*/",n+=1}if(1===t){he=Mt($.concat(z)),q.forEach((function(e){x(e).forEach((function(e){Object.prototype.hasOwnProperty.call(U,e)?U[e]+=1:U[e]=1}))})),ge=o({},U),fe=Mt(q.reduce((function(e,t){return e.concat(x(t))}),[])),W=fe.length;for(var wt,Ot=Array.from(q),St=[],At=0,It=Ot.length;At<It;At++){G+=1;var Ct,Lt=void 0;if(null!=Ot[At]&&(Lt=x(Ot[At])),!Lt.every((function(e){return he.includes(e)})))(Ct=St).push.apply(Ct,s(x(Ot[At]))),Ot.splice(At,1),At-=1,It-=1}St=Mt(_(St,r.whitelist)),wt=Ot.length>0?Ot.reduce((function(e,t){return e.concat(x(t))}),[]):[],Ce=_(xe(Mt(Array.from(fe)),$.concat(z)),r.whitelist),Ie=Mt(_(xe($.concat(z),wt),r.whitelist)),Ce=Mt(Ce.concat(_e(St,Ie))),ve=Ie.filter((function(e){return e.startsWith(".")})).map((function(e){return e.slice(1)})),Ae=Ie.filter((function(e){return e.startsWith("#")})).map((function(e){return e.slice(1)})),ue=Object.keys(ge).filter((function(e){return ge[e]<1})),ve=Mt(ve.concat(_e(_(he,r.whitelist),ue).filter((function(e){return"."===e[0]})).map((function(e){return e.slice(1)}))));var jt=b(he,r.whitelist);Ie=Mt(Ie.concat(ve.map((function(e){return".".concat(e)})),Ae.map((function(e){return"#".concat(e)})))),ce=xe(xe(Array.from(fe),Ie),Ce),Array.isArray(jt)&&jt.length&&jt.forEach((function(e){ce.includes(e)||ce.push(e)})),r.uglify&&(L=function(e){var t="abcdefghijklmnopqrstuvwxyz",r="abcdefghijklmnopqrstuvwxyz0123456789",n={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},i={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},o={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},a=[];if(!Oe(e)||!e.length)return e;for(var s=0,l=e.length;s<l;s++)if(e.indexOf(e[s])<s)a.push(a[e.indexOf(e[s])]);else{var u=".#".includes(e[s][0])?e[s][0]:"",c=Array.from(e[s]).reduce((function(e,t){return e+Se(t)}),0);if(".#".includes(e[s][0])&&e[s].length<4||!".#".includes(e[s][0])&&e[s].length<3){var f=e[s];if(!a.includes(f)){a.push(f),f.startsWith(".")&&2===f.length&&!n[f.slice(1)]?n[f.slice(1)]=!0:f.startsWith("#")&&2===f.length&&!i[f.slice(1)]?i[f.slice(1)]=!0:f.startsWith(".")||f.startsWith("#")||1!==f.length||o[f]||(o[f]=!0);continue}}var h="".concat(u).concat(t[c%t.length]).concat(r[c%r.length]);if(a.includes(h)){for(var g=h,p=0,d=Array.from(e[s]).reduce((function(e,t){return e<200?e+Se(t):(e+Se(t))%r.length}),0),y=Array.from(e[s]).map((function(e){return Se(e)})).reduce((function(e,t){var r=e+t;do{r=String(r).split("").reduce((function(e,t){return e+Number.parseInt(t,10)}),0)}while(r>=10);return r}),0);a.includes(g);)g+=r[d*y*(p+=1)%r.length];h=g}a.push(h),h.startsWith(".")&&2===h.length&&!n[h.slice(1)]?n[h.slice(1)]=!0:h.startsWith("#")&&2===h.length&&!i[h.slice(1)]?i[h.slice(1)]=!0:h.startsWith(".")||h.startsWith("#")||1!==h.length||o[h]||(o[h]=!0)}for(var m=0,v=a.length;m<v;m++)a[m].startsWith(".")?n[a[m].slice(1,2)]?n[a[m].slice(1,2)]===a[m]&&(a[m]=a[m].slice(0,2)):(n[a[m].slice(1,2)]=a[m],a[m]=a[m].slice(0,2)):a[m].startsWith("#")?i[a[m].slice(1,2)]?i[a[m].slice(1,2)]===a[m]&&(a[m]=a[m].slice(0,2)):(i[a[m].slice(1,2)]=a[m],a[m]=a[m].slice(0,2)):a[m].startsWith(".")||a[m].startsWith("#")||(o[a[m].slice(0,1)]?o[a[m].slice(0,1)]===a[m]&&(a[m]=a[m].slice(0,1)):(o[a[m].slice(0,1)]=a[m],a[m]=a[m].slice(0,1)));return a}(ce)),j=ce.length,C=r.uglify?ce.map((function(e,t){return[e,L[t]]})).filter((function(e){return!r.whitelist.some((function(t){return b.isMatch(e[0],t)}))})):null,J=u.current()?Array.from(u.current()):null}},Fe=1;Fe<=2;Fe++)ke(Fe);u.push(f.current()),e.length&&u.current()&&(e=je(e,u.current()),u.wipe());var Ee=r.reportProgressFuncTo-.06*(r.reportProgressFuncTo-r.reportProgressFuncFrom);for(r.reportProgressFunc&&ae>=2e3&&(pe=Math.floor(Ee+(r.reportProgressFuncTo-Ee)/5))!==Re&&(Re=pe,r.reportProgressFunc(pe));kt.test(e)||Ft.test(e);)e=(e=e.replace(kt,"")).replace(Ft,""),G+=e.length;r.reportProgressFunc&&ae>=2e3&&(pe=Math.floor(Ee+(r.reportProgressFuncTo-Ee)/5*2))!==Re&&(Re=pe,r.reportProgressFunc(pe)),e=e.replace(Rt,"\n"),G+=e.length,r.reportProgressFunc&&ae>=2e3&&(pe=Math.floor(Ee+(r.reportProgressFuncTo-Ee)/5*3))!==Re&&(Re=pe,r.reportProgressFunc(pe));var Pe=e.length;return e=e.replace(/<!(--)?\[if[^\]]*]>[<>!-\s]*<!\[endif\]\1>/gi,""),G+=e.length,Pe!==e.length&&(X+=e.length-Pe),r.reportProgressFunc&&ae>=2e3&&(pe=Math.floor(Ee+(r.reportProgressFuncTo-Ee)/5*4))!==Re&&(Re=pe,r.reportProgressFunc(pe)),(Pe=(e=Ve(e,{removeLineBreaks:!1,removeIndentations:!1,removeHTMLComments:!1,removeCSSComments:!1,lineLengthLimit:500}).result).length)!==e.length&&(Q+=e.length-Pe),G+=e.length,r.reportProgressFunc&&ae>=2e3&&(pe=Math.floor(Ee+(r.reportProgressFuncTo-Ee)))!==Re&&(Re=pe,r.reportProgressFunc(pe)),e.length&&(e[0].trim()&&e[e.length-1].trim()||e.length===e.trim()||(Q+=e.length-e.trim()),e=e.trimStart()),e=e.replace(/ ((class|id)=["']) /g," $1"),{log:{timeTakenInMiliseconds:Date.now()-l,traversedTotalCharacters:G,traversedTimesInputLength:ae?Math.round(G/ae*100)/100:0,originalLength:ae,cleanedLength:e.length,bytesSaved:Math.max(ae-e.length,0),percentageReducedOfOriginal:ae?Math.round(100*Math.max(ae-e.length,0)/ae):0,nonIndentationsWhitespaceLength:Math.max(Q-Te,0),nonIndentationsTakeUpPercentageOfOriginal:ae&&Math.max(Q-Te,0)?Math.round(100*Math.max(Q,0)/ae):0,commentsLength:X,commentsTakeUpPercentageOfOriginal:ae&&X?Math.round(100*X/ae):0,uglified:C},result:e,countAfterCleaning:j,countBeforeCleaning:W,allInHead:fe.sort(),allInBody:he.sort(),deletedFromHead:Ce.sort(),deletedFromBody:Ie.sort()}},e.defaults=xt,e.version="3.10.7",Object.defineProperty(e,"__esModule",{value:!0})}));
