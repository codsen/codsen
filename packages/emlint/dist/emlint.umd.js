/**
 * emlint
 * Non-parsing, email template-oriented linter
 * Version: 1.1.2
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://gitlab.com/codsen/codsen/tree/master/packages/emlint
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).emlint={})}(this,function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=["async","autofocus","autoplay","checked","compact","contenteditable","controls","default","defer","disabled","formNoValidate","frameborder","hidden","ismap","itemscope","loop","multiple","muted","nohref","nomodule","noresize","noshade","novalidate","nowrap","open","readonly","required","reversed","scoped","scrolling","seamless","selected","typemustmatch"],o="[object Object]";var a,r,c=Function.prototype,i=Object.prototype,s=c.toString,l=i.hasOwnProperty,u=s.call(Object),g=i.toString,p=(a=Object.getPrototypeOf,r=Object,function(t){return a(r(t))});var h=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||g.call(t)!=o||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=p(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==u},d=function(t,e){if(e){if("object"!=typeof e)throw new TypeError(String(e)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in e){if("boolean"!=typeof e.includeZero)throw new TypeError(String(e.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(e.includeZero&&0===t)return!0}}return Number.isSafeInteger(t)&&t>=1},m="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(t,e){return t(e={exports:{}},e.exports),e.exports}var b=f(function(t,e){(e=t.exports=function(t){return t+e.suffix(+t)}).suffix=function(t){return t%=100,1===Math.floor(t/10)?"th":t%10==1?"st":t%10==2?"nd":t%10==3?"rd":"th"}}),w=(b.suffix,f(function(t,e){var n,o,a,r,c,i,s,l,u,g,p,h,d,f,b,w,y,v,A,S;t.exports=(n="function"==typeof Promise,o="object"==typeof self?self:m,a="undefined"!=typeof Symbol,r="undefined"!=typeof Map,c="undefined"!=typeof Set,i="undefined"!=typeof WeakMap,s="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,u=a&&void 0!==Symbol.iterator,g=a&&void 0!==Symbol.toStringTag,p=c&&"function"==typeof Set.prototype.entries,h=r&&"function"==typeof Map.prototype.entries,d=p&&Object.getPrototypeOf((new Set).entries()),f=h&&Object.getPrototypeOf((new Map).entries()),b=u&&"function"==typeof Array.prototype[Symbol.iterator],w=b&&Object.getPrototypeOf([][Symbol.iterator]()),y=u&&"function"==typeof String.prototype[Symbol.iterator],v=y&&Object.getPrototypeOf(""[Symbol.iterator]()),A=8,S=-1,function(t){var e=typeof t;if("object"!==e)return e;if(null===t)return"null";if(t===o)return"global";if(Array.isArray(t)&&(!1===g||!(Symbol.toStringTag in t)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&t===window.location)return"Location";if("object"==typeof window.document&&t===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&t===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&t===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&t instanceof window.HTMLElement){if("BLOCKQUOTE"===t.tagName)return"HTMLQuoteElement";if("TD"===t.tagName)return"HTMLTableDataCellElement";if("TH"===t.tagName)return"HTMLTableHeaderCellElement"}}var a=g&&t[Symbol.toStringTag];if("string"==typeof a)return a;var u=Object.getPrototypeOf(t);return u===RegExp.prototype?"RegExp":u===Date.prototype?"Date":n&&u===Promise.prototype?"Promise":c&&u===Set.prototype?"Set":r&&u===Map.prototype?"Map":s&&u===WeakSet.prototype?"WeakSet":i&&u===WeakMap.prototype?"WeakMap":l&&u===DataView.prototype?"DataView":r&&u===f?"Map Iterator":c&&u===d?"Set Iterator":b&&u===w?"Array Iterator":y&&u===v?"String Iterator":null===u?"Object":Object.prototype.toString.call(t).slice(A,S)})}));function y(t,e,n){if(e!=e)return function(t,e,n,o){for(var a=t.length,r=n+(o?1:-1);o?r--:++r<a;)if(e(t[r],r,t))return r;return-1}(t,A,n);for(var o=n-1,a=t.length;++o<a;)if(t[o]===e)return o;return-1}function v(t,e,n,o){for(var a=n-1,r=t.length;++a<r;)if(o(t[a],e))return a;return-1}function A(t){return t!=t}var S=Array.prototype.splice;function x(t,e,n,o){var a,r=o?v:y,c=-1,i=e.length,s=t;for(t===e&&(e=function(t,e){var n=-1,o=t.length;e||(e=Array(o));for(;++n<o;)e[n]=t[n];return e}(e)),n&&(s=function(t,e){for(var n=-1,o=t?t.length:0,a=Array(o);++n<o;)a[n]=e(t[n],n,t);return a}(t,(a=n,function(t){return a(t)})));++c<i;)for(var l=0,u=e[c],g=n?n(u):u;(l=r(s,g,l,o))>-1;)s!==t&&S.call(s,l,1),S.call(t,l,1);return t}var E=function(t,e){return t&&t.length&&e&&e.length?x(t,e):t},T=f(function(t,e){var n=200,o="__lodash_hash_undefined__",a=9007199254740991,r="[object Arguments]",c="[object Boolean]",i="[object Date]",s="[object Function]",l="[object GeneratorFunction]",u="[object Map]",g="[object Number]",p="[object Object]",h="[object RegExp]",d="[object Set]",f="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",A="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",q="[object Uint8ClampedArray]",_="[object Uint16Array]",O="[object Uint32Array]",N=/\w*$/,C=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,L={};L[r]=L["[object Array]"]=L[w]=L[y]=L[c]=L[i]=L[v]=L[A]=L[S]=L[x]=L[E]=L[u]=L[g]=L[p]=L[h]=L[d]=L[f]=L[b]=L[T]=L[q]=L[_]=L[O]=!0,L["[object Error]"]=L[s]=L["[object WeakMap]"]=!1;var R="object"==typeof m&&m&&m.Object===Object&&m,j="object"==typeof self&&self&&self.Object===Object&&self,I=R||j||Function("return this")(),F=e&&!e.nodeType&&e,D=F&&t&&!t.nodeType&&t,Q=D&&D.exports===F;function V(t,e){return t.set(e[0],e[1]),t}function $(t,e){return t.add(e),t}function P(t,e,n,o){var a=-1,r=t?t.length:0;for(o&&r&&(n=t[++a]);++a<r;)n=e(n,t[a],a,t);return n}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function B(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function H(t,e){return function(n){return t(e(n))}}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var M,W=Array.prototype,G=Function.prototype,K=Object.prototype,z=I["__core-js_shared__"],Z=(M=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",Y=G.toString,X=K.hasOwnProperty,tt=K.toString,et=RegExp("^"+Y.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=Q?I.Buffer:void 0,ot=I.Symbol,at=I.Uint8Array,rt=H(Object.getPrototypeOf,Object),ct=Object.create,it=K.propertyIsEnumerable,st=W.splice,lt=Object.getOwnPropertySymbols,ut=nt?nt.isBuffer:void 0,gt=H(Object.keys,Object),pt=Dt(I,"DataView"),ht=Dt(I,"Map"),dt=Dt(I,"Promise"),mt=Dt(I,"Set"),ft=Dt(I,"WeakMap"),bt=Dt(Object,"create"),wt=Ut(pt),yt=Ut(ht),vt=Ut(dt),At=Ut(mt),St=Ut(ft),xt=ot?ot.prototype:void 0,Et=xt?xt.valueOf:void 0;function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function qt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function _t(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Ot(t){this.__data__=new qt(t)}function Nt(t,e){var n=Ht(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Jt(t)}(t)&&X.call(t,"callee")&&(!it.call(t,"callee")||tt.call(t)==r)}(t)?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],o=n.length,a=!!o;for(var c in t)!e&&!X.call(t,c)||a&&("length"==c||$t(c,o))||n.push(c);return n}function Ct(t,e,n){var o=t[e];X.call(t,e)&&Bt(o,n)&&(void 0!==n||e in t)||(t[e]=n)}function kt(t,e){for(var n=t.length;n--;)if(Bt(t[n][0],e))return n;return-1}function Lt(t,e,n,o,a,m,C){var k;if(o&&(k=m?o(t,a,m,C):o(t)),void 0!==k)return k;if(!Gt(t))return t;var R=Ht(t);if(R){if(k=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&X.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,o=t.length;e||(e=Array(o));for(;++n<o;)e[n]=t[n];return e}(t,k)}else{var j=Vt(t),I=j==s||j==l;if(Mt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(j==p||j==r||I&&!m){if(U(t))return m?t:{};if(k=function(t){return"function"!=typeof t.constructor||Pt(t)?{}:(e=rt(t),Gt(e)?ct(e):{});var e}(I?{}:t),!e)return function(t,e){return It(t,Qt(t),e)}(t,function(t,e){return t&&It(e,Kt(e),t)}(k,t))}else{if(!L[j])return m?t:{};k=function(t,e,n,o){var a=t.constructor;switch(e){case w:return jt(t);case c:case i:return new a(+t);case y:return function(t,e){var n=e?jt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,o);case v:case A:case S:case x:case E:case T:case q:case _:case O:return function(t,e){var n=e?jt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,o);case u:return function(t,e,n){return P(e?n(B(t),!0):B(t),V,new t.constructor)}(t,o,n);case g:case f:return new a(t);case h:return(l=new(s=t).constructor(s.source,N.exec(s))).lastIndex=s.lastIndex,l;case d:return function(t,e,n){return P(e?n(J(t),!0):J(t),$,new t.constructor)}(t,o,n);case b:return r=t,Et?Object(Et.call(r)):{}}var r;var s,l}(t,j,Lt,e)}}C||(C=new Ot);var F=C.get(t);if(F)return F;if(C.set(t,k),!R)var D=n?function(t){return function(t,e,n){var o=e(t);return Ht(t)?o:function(t,e){for(var n=-1,o=e.length,a=t.length;++n<o;)t[a+n]=e[n];return t}(o,n(t))}(t,Kt,Qt)}(t):Kt(t);return function(t,e){for(var n=-1,o=t?t.length:0;++n<o&&!1!==e(t[n],n,t););}(D||t,function(a,r){D&&(a=t[r=a]),Ct(k,r,Lt(a,e,n,o,r,t,C))}),k}function Rt(t){return!(!Gt(t)||(e=t,Z&&Z in e))&&(Wt(t)||U(t)?et:C).test(Ut(t));var e}function jt(t){var e=new t.constructor(t.byteLength);return new at(e).set(new at(t)),e}function It(t,e,n,o){n||(n={});for(var a=-1,r=e.length;++a<r;){var c=e[a],i=o?o(n[c],t[c],c,n,t):void 0;Ct(n,c,void 0===i?t[c]:i)}return n}function Ft(t,e){var n,o,a=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function Dt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(n)?n:void 0}Tt.prototype.clear=function(){this.__data__=bt?bt(null):{}},Tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Tt.prototype.get=function(t){var e=this.__data__;if(bt){var n=e[t];return n===o?void 0:n}return X.call(e,t)?e[t]:void 0},Tt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:X.call(e,t)},Tt.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?o:e,this},qt.prototype.clear=function(){this.__data__=[]},qt.prototype.delete=function(t){var e=this.__data__,n=kt(e,t);return!(n<0||(n==e.length-1?e.pop():st.call(e,n,1),0))},qt.prototype.get=function(t){var e=this.__data__,n=kt(e,t);return n<0?void 0:e[n][1]},qt.prototype.has=function(t){return kt(this.__data__,t)>-1},qt.prototype.set=function(t,e){var n=this.__data__,o=kt(n,t);return o<0?n.push([t,e]):n[o][1]=e,this},_t.prototype.clear=function(){this.__data__={hash:new Tt,map:new(ht||qt),string:new Tt}},_t.prototype.delete=function(t){return Ft(this,t).delete(t)},_t.prototype.get=function(t){return Ft(this,t).get(t)},_t.prototype.has=function(t){return Ft(this,t).has(t)},_t.prototype.set=function(t,e){return Ft(this,t).set(t,e),this},Ot.prototype.clear=function(){this.__data__=new qt},Ot.prototype.delete=function(t){return this.__data__.delete(t)},Ot.prototype.get=function(t){return this.__data__.get(t)},Ot.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.set=function(t,e){var o=this.__data__;if(o instanceof qt){var a=o.__data__;if(!ht||a.length<n-1)return a.push([t,e]),this;o=this.__data__=new _t(a)}return o.set(t,e),this};var Qt=lt?H(lt,Object):function(){return[]},Vt=function(t){return tt.call(t)};function $t(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function Pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function Ut(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bt(t,e){return t===e||t!=t&&e!=e}(pt&&Vt(new pt(new ArrayBuffer(1)))!=y||ht&&Vt(new ht)!=u||dt&&"[object Promise]"!=Vt(dt.resolve())||mt&&Vt(new mt)!=d||ft&&"[object WeakMap]"!=Vt(new ft))&&(Vt=function(t){var e=tt.call(t),n=e==p?t.constructor:void 0,o=n?Ut(n):void 0;if(o)switch(o){case wt:return y;case yt:return u;case vt:return"[object Promise]";case At:return d;case St:return"[object WeakMap]"}return e});var Ht=Array.isArray;function Jt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}(t.length)&&!Wt(t)}var Mt=ut||function(){return!1};function Wt(t){var e=Gt(t)?tt.call(t):"";return e==s||e==l}function Gt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Kt(t){return Jt(t)?Nt(t):function(t){if(!Pt(t))return gt(t);var e=[];for(var n in Object(t))X.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Lt(t,!0,!0)}});const q=Array.isArray;function _(t){return"string"==typeof t&&t.length>0&&"."===t[0]?t.slice(1):t}function O(t,e){return function t(e,n,o){const a=T(e);let r,c,i,s,l;if((o=Object.assign({depth:-1,path:""},o)).depth+=1,q(a))for(r=0,c=a.length;r<c;r++){const e=`${o.path}.${r}`;void 0!==a[r]?(o.parent=T(a),o.parentType="array",i=t(n(a[r],void 0,Object.assign({},o,{path:_(e)})),n,Object.assign({},o,{path:_(e)})),Number.isNaN(i)&&r<a.length?(a.splice(r,1),r-=1):a[r]=i):a.splice(r,1)}else if(h(a))for(r=0,c=(s=Object.keys(a)).length;r<c;r++){l=s[r];const e=`${o.path}.${l}`;0===o.depth&&null!=l&&(o.topmostKey=l),o.parent=T(a),o.parentType="object",i=t(n(l,a[l],Object.assign({},o,{path:_(e)})),n,Object.assign({},o,{path:_(e)})),Number.isNaN(i)?delete a[l]:a[l]=i}return a}(t,e,{})}var N="__lodash_hash_undefined__",C=9007199254740991,k="[object Function]",L="[object GeneratorFunction]",R=/^\[object .+?Constructor\]$/,j="object"==typeof m&&m&&m.Object===Object&&m,I="object"==typeof self&&self&&self.Object===Object&&self,F=j||I||Function("return this")();function D(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,o){var a=t.length,r=n+(o?1:-1);for(;o?r--:++r<a;)if(e(t[r],r,t))return r;return-1}(t,$,n);var o=n-1,a=t.length;for(;++o<a;)if(t[o]===e)return o;return-1}(t,e,0)>-1}function Q(t,e,n){for(var o=-1,a=t?t.length:0;++o<a;)if(n(e,t[o]))return!0;return!1}function V(t,e){for(var n=-1,o=t?t.length:0,a=Array(o);++n<o;)a[n]=e(t[n],n,t);return a}function $(t){return t!=t}function P(t){return function(e){return t(e)}}function U(t,e){return t.has(e)}var B,H=Array.prototype,J=Function.prototype,M=Object.prototype,W=F["__core-js_shared__"],G=(B=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",K=J.toString,z=M.hasOwnProperty,Z=M.toString,Y=RegExp("^"+K.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=H.splice,tt=Math.max,et=Math.min,nt=pt(F,"Map"),ot=pt(Object,"create");function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function it(t){var e=-1,n=t?t.length:0;for(this.__data__=new ct;++e<n;)this.add(t[e])}function st(t,e){for(var n,o,a=t.length;a--;)if((n=t[a][0])===(o=e)||n!=n&&o!=o)return a;return-1}function lt(t){return!(!dt(t)||(e=t,G&&G in e))&&(ht(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?Y:R).test(function(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function ut(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=C}(t.length)&&!ht(t)}(t)}(t)?t:[]}function gt(t,e){var n,o,a=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function pt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return lt(n)?n:void 0}function ht(t){var e=dt(t)?Z.call(t):"";return e==k||e==L}function dt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}at.prototype.clear=function(){this.__data__=ot?ot(null):{}},at.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},at.prototype.get=function(t){var e=this.__data__;if(ot){var n=e[t];return n===N?void 0:n}return z.call(e,t)?e[t]:void 0},at.prototype.has=function(t){var e=this.__data__;return ot?void 0!==e[t]:z.call(e,t)},at.prototype.set=function(t,e){return this.__data__[t]=ot&&void 0===e?N:e,this},rt.prototype.clear=function(){this.__data__=[]},rt.prototype.delete=function(t){var e=this.__data__,n=st(e,t);return!(n<0||(n==e.length-1?e.pop():X.call(e,n,1),0))},rt.prototype.get=function(t){var e=this.__data__,n=st(e,t);return n<0?void 0:e[n][1]},rt.prototype.has=function(t){return st(this.__data__,t)>-1},rt.prototype.set=function(t,e){var n=this.__data__,o=st(n,t);return o<0?n.push([t,e]):n[o][1]=e,this},ct.prototype.clear=function(){this.__data__={hash:new at,map:new(nt||rt),string:new at}},ct.prototype.delete=function(t){return gt(this,t).delete(t)},ct.prototype.get=function(t){return gt(this,t).get(t)},ct.prototype.has=function(t){return gt(this,t).has(t)},ct.prototype.set=function(t,e){return gt(this,t).set(t,e),this},it.prototype.add=it.prototype.push=function(t){return this.__data__.set(t,N),this},it.prototype.has=function(t){return this.__data__.has(t)};var mt=function(t,e){return e=tt(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,a=tt(n.length-e,0),r=Array(a);++o<a;)r[o]=n[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=n[o];return c[e]=r,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,c)}}(function(t){var e=V(t,ut);return e.length&&e[0]===t[0]?function(t,e,n){for(var o=n?Q:D,a=t[0].length,r=t.length,c=r,i=Array(r),s=1/0,l=[];c--;){var u=t[c];c&&e&&(u=V(u,P(e))),s=et(u.length,s),i[c]=!n&&(e||a>=120&&u.length>=120)?new it(c&&u):void 0}u=t[0];var g=-1,p=i[0];t:for(;++g<a&&l.length<s;){var h=u[g],d=e?e(h):h;if(h=n||0!==h?h:0,!(p?U(p,d):o(l,d,n))){for(c=r;--c;){var m=i[c];if(!(m?U(m,d):o(t[c],d,n)))continue t}p&&p.push(d),l.push(h)}}return l}(e):[]});function ft(t){return"string"==typeof t?t.length>0?[t]:[]:t}var bt=f(function(t){t.exports=function(){var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(a(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function o(e){return t.call(e)}var a=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(t){var e=parseInt(t);return e.toString()===t?e:t}function c(t){t=t||{};var c=function(t){return Object.keys(c).reduce(function(e,n){return"create"===n?e:("function"==typeof c[n]&&(e[n]=c[n].bind(c,t)),e)},{})};function i(n,o){return t.includeInheritedProps||"number"==typeof o&&Array.isArray(n)||e(n,o)}function s(t,e){if(i(t,e))return t[e]}function l(t,e,n,o){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return l(t,e.split(".").map(r),n,o);var a=e[0],c=s(t,a);return 1===e.length?(void 0!==c&&o||(t[a]=n),c):(void 0===c&&("number"==typeof e[1]?t[a]=[]:t[a]={}),l(t[a],e.slice(1),n,o))}return c.has=function(n,o){if("number"==typeof o?o=[o]:"string"==typeof o&&(o=o.split(".")),!o||0===o.length)return!!n;for(var c=0;c<o.length;c++){var i=r(o[c]);if(!("number"==typeof i&&a(n)&&i<n.length||(t.includeInheritedProps?i in Object(n):e(n,i))))return!1;n=n[i]}return!0},c.ensureExists=function(t,e,n){return l(t,e,n,!0)},c.set=function(t,e,n,o){return l(t,e,n,o)},c.insert=function(t,e,n,o){var r=c.get(t,e);o=~~o,a(r)||(r=[],c.set(t,e,r)),r.splice(o,0,n)},c.empty=function(t,e){var r,s;if(!n(e)&&null!=t&&(r=c.get(t,e))){if("string"==typeof r)return c.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===o(t)}(r))return c.set(t,e,!1);if("number"==typeof r)return c.set(t,e,0);if(a(r))r.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===o(t)}(r))return c.set(t,e,null);for(s in r)i(r,s)&&delete r[s]}}},c.push=function(t,e){var n=c.get(t,e);a(n)||(n=[],c.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},c.coalesce=function(t,e,n){for(var o,a=0,r=e.length;a<r;a++)if(void 0!==(o=c.get(t,e[a])))return o;return n},c.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return c.get(t,e.split("."),n);var o=r(e[0]),a=s(t,o);return void 0===a?n:1===e.length?a:c.get(t[o],e.slice(1),n)},c.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(n(e))return t;if("string"==typeof e)return c.del(t,e.split("."));var o=r(e[0]);return i(t,o)?1!==e.length?c.del(t[o],e.slice(1)):(a(t)?t.splice(o,1):delete t[o],t):t},c}var i=c();return i.create=c,i.withInheritedProps=c({includeInheritedProps:!0}),i}()}),wt=function(t){var e=t%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"};function yt(t){if("number"!=typeof t)throw new TypeError("Expected Number, got "+typeof t+" "+t);return t+wt(t)}yt.indicator=wt;var vt=yt,At=/[|\\{}()[\]^$+*?.]/g,St=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(At,"\\$&")};const xt=new Map;function Et(t,e){const n=Object.assign({caseSensitive:!1},e),o=t+JSON.stringify(n);if(xt.has(o))return xt.get(o);const a="!"===t[0];a&&(t=t.slice(1)),t=St(t).replace(/\\\*/g,".*");const r=new RegExp(`^${t}$`,n.caseSensitive?"":"i");return r.negated=a,xt.set(o,r),r}var Tt=(t,e,n)=>{if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError(`Expected two arrays, got ${typeof t} ${typeof e}`);if(0===e.length)return t;const o="!"===e[0][0];e=e.map(t=>Et(t,n));const a=[];for(const n of t){let t=o;for(const o of e)o.test(n)&&(t=!o.negated);t&&a.push(n)}return a};function qt(t,e,n){return function t(e,n,o,a=!0){const r=Object.prototype.hasOwnProperty;function c(t){return null!=t}function i(t){return"Object"===w(t)}function s(t,e){return e=ft(e),Array.from(t).filter(t=>!e.some(e=>Tt.isMatch(t,e,{caseSensitive:!0})))}const l=["any","anything","every","everything","all","whatever","whatevs"],u=Array.isArray;if(!c(e))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");const g={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"};let p;if(p=c(o)&&i(o)?Object.assign({},g,o):Object.assign({},g),c(p.ignoreKeys)&&p.ignoreKeys?p.ignoreKeys=ft(p.ignoreKeys):p.ignoreKeys=[],c(p.ignorePaths)&&p.ignorePaths?p.ignorePaths=ft(p.ignorePaths):p.ignorePaths=[],c(p.acceptArraysIgnore)&&p.acceptArraysIgnore?p.acceptArraysIgnore=ft(p.acceptArraysIgnore):p.acceptArraysIgnore=[],p.msg="string"==typeof p.msg?p.msg.trim():p.msg,":"===p.msg[p.msg.length-1]&&(p.msg=p.msg.slice(0,p.msg.length-1).trim()),p.schema&&(Object.keys(p.schema).forEach(t=>{if(i(p.schema[t])){const e={};O(p.schema[t],(n,o,a)=>{const r=void 0!==o?o:n;return u(r)||i(r)||(e[`${t}.${a.path}`]=r),r}),delete p.schema[t],p.schema=Object.assign(p.schema,e)}}),Object.keys(p.schema).forEach(t=>{u(p.schema[t])||(p.schema[t]=[p.schema[t]]),p.schema[t]=p.schema[t].map(String).map(t=>t.toLowerCase()).map(t=>t.trim())})),c(n)||(n={}),a&&t(p,g,{enforceStrictKeyset:!1},!1),p.enforceStrictKeyset)if(c(p.schema)&&Object.keys(p.schema).length>0){if(0!==s(E(Object.keys(e),Object.keys(n).concat(Object.keys(p.schema))),p.ignoreKeys).length){const t=E(Object.keys(e),Object.keys(n).concat(Object.keys(p.schema)));throw new TypeError(`${p.msg}: ${p.optsVarName}.enforceStrictKeyset is on and the following key${t.length>1?"s":""} ${t.length>1?"are":"is"} not covered by schema and/or reference objects: ${t.join(", ")}`)}}else{if(!(c(n)&&Object.keys(n).length>0))throw new TypeError(`${p.msg}: Both ${p.optsVarName}.schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!`);if(0!==s(E(Object.keys(e),Object.keys(n)),p.ignoreKeys).length){const t=E(Object.keys(e),Object.keys(n));throw new TypeError(`${p.msg}: The input object has key${t.length>1?"s":""} which ${t.length>1?"are":"is"} not covered by the reference object: ${t.join(", ")}`)}if(0!==s(E(Object.keys(n),Object.keys(e)),p.ignoreKeys).length){const t=E(Object.keys(n),Object.keys(e));throw new TypeError(`${p.msg}: The reference object has key${t.length>1?"s":""} which ${t.length>1?"are":"is"} not present in the input object: ${t.join(", ")}`)}}const h=[];O(e,(t,o,a)=>{let c=o,s=t;if("array"===a.parentType&&(s=void 0,c=t),u(h)&&h.length&&h.some(t=>a.path.startsWith(t)))return c;if(s&&p.ignoreKeys.some(t=>Tt.isMatch(s,t)))return c;if(p.ignorePaths.some(t=>Tt.isMatch(a.path,t)))return c;const g=!(!i(c)&&!u(c)&&u(a.parent));let d=!1;i(p.schema)&&r.call(p.schema,bt.get(a.path))&&(d=!0);let m=!1;if(i(n)&&bt.has(n,bt.get(a.path))&&(m=!0),p.enforceStrictKeyset&&g&&!d&&!m)throw new TypeError(`${p.msg}: ${p.optsVarName}.${a.path} is neither covered by reference object (second input argument), nor ${p.optsVarName}.schema! To stop this error, turn off ${p.optsVarName}.enforceStrictKeyset or provide some type reference (2nd argument or ${p.optsVarName}.schema).\n\nDebug info:\n\nobj = ${JSON.stringify(e,null,4)}\n\nref = ${JSON.stringify(n,null,4)}\n\ninnerObj = ${JSON.stringify(a,null,4)}\n\nopts = ${JSON.stringify(p,null,4)}\n\ncurrent = ${JSON.stringify(c,null,4)}\n\n`);if(d){const t=ft(p.schema[a.path]).map(String).map(t=>t.toLowerCase());if(bt.set(p.schema,a.path,t),mt(t,l).length)h.push(a.path);else if(!0!==c&&!1!==c&&!t.includes(w(c).toLowerCase())||(!0===c||!1===c)&&!t.includes(String(c))&&!t.includes("boolean")){if(!u(c)||!p.acceptArrays)throw new TypeError(`${p.msg}: ${p.optsVarName}.${a.path} was customised to ${"string"!==w(c)?'"':""}${JSON.stringify(c,null,0)}${"string"!==w(c)?'"':""} (type: ${w(c).toLowerCase()}) which is not among the allowed types in schema (which is equal to ${JSON.stringify(t,null,0)})`);for(let e=0,n=c.length;e<n;e++)if(!t.includes(w(c[e]).toLowerCase()))throw new TypeError(`${p.msg}: ${p.optsVarName}.${a.path}.${e}, the ${vt(e+1)} element (equal to ${JSON.stringify(c[e],null,0)}) is of a type ${w(c[e]).toLowerCase()}, but only the following are allowed by the ${p.optsVarName}.schema: ${t.join(", ")}`)}}else if(m){const e=bt.get(n,a.path);if(p.acceptArrays&&u(c)&&!p.acceptArraysIgnore.includes(t)){if(!c.every(e=>w(e).toLowerCase()===w(n[t]).toLowerCase()))throw new TypeError(`${p.msg}: ${p.optsVarName}.${a.path} was customised to be array, but not all of its elements are ${w(n[t]).toLowerCase()}-type`)}else if(w(c)!==w(e))throw new TypeError(`${p.msg}: ${p.optsVarName}.${a.path} was customised to ${"string"===w(c).toLowerCase()?"":'"'}${JSON.stringify(c,null,0)}${"string"===w(c).toLowerCase()?"":'"'} which is not ${w(e).toLowerCase()} but ${w(c).toLowerCase()}`)}return c})}(t,e,n)}Tt.isMatch=((t,e,n)=>{const o=Et(e,n),a=o.test(t);return o.negated?!a:a});const _t=Array.isArray;function Ot(t,e){if(!_t(t))throw new TypeError(`ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: ${typeof t}, equal to: ${JSON.stringify(t,null,4)}`);if(0===t.length)return t;const n={strictlyTwoElementsInRangeArrays:!1,progressFn:null},o=Object.assign({},n,e);let a,r;if(qt(o,n,{msg:"ranges-sort: [THROW_ID_02*]",schema:{progressFn:["function","false","null"]}}),o.strictlyTwoElementsInRangeArrays&&!t.every((t,e)=>2===t.length||(a=e,r=t.length,!1)))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${b(a)} range (${JSON.stringify(t[a],null,4)}) has not two but ${r} elements!`);if(!t.every((t,e)=>!(!d(t[0],{includeZero:!0})||!d(t[1],{includeZero:!0}))||(a=e,!1)))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${b(a)} range (${JSON.stringify(t[a],null,4)}) does not consist of only natural numbers!`);const c=t.length*t.length;let i=0;return Array.from(t).sort((t,e)=>(o.progressFn&&(i++,o.progressFn(Math.floor(100*i/c))),t[0]===e[0]?t[1]<e[1]?-1:t[1]>e[1]?1:0:t[0]<e[0]?-1:1))}function Nt(t,e){function n(t){return"string"==typeof t}if(!Array.isArray(t))return t;const o={mergeType:1,progressFn:null};let a;if(e){if(!h(e))throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n${JSON.stringify(e,null,4)} (type ${typeof e})`);if((a=Object.assign({},o,e)).progressFn&&"function"!=typeof a.progressFn)throw new Error(`ranges-merge: [THROW_ID_01] the second input argument must be a function! It was given of a type: "${typeof a.progressFn}", equal to ${JSON.stringify(a.progressFn,null,4)}`);if(a.mergeType&&1!==a.mergeType&&2!==a.mergeType)if(n(a.mergeType)&&"1"===a.mergeType.trim())a.mergeType=1;else{if(!n(a.mergeType)||"2"!==a.mergeType.trim())throw new Error(`ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof a.mergeType}", equal to ${JSON.stringify(a.progressFn,null,4)}`);a.mergeType=2}}else a=T(o);const r=T(t).filter(t=>void 0!==t[2]||t[0]!==t[1]);let c,i,s;const l=(c=a.progressFn?Ot(r,{progressFn:t=>{(s=Math.floor(t/5))!==i&&(i=s,a.progressFn(s))}}):Ot(r)).length-1;for(let t=l;t>0;t--)a.progressFn&&(s=Math.floor(78*(1-t/l))+21)!==i&&s>i&&(i=s,a.progressFn(s)),(c[t][0]<=c[t-1][0]||c[t][0]<=c[t-1][1])&&(c[t-1][0]=Math.min(c[t][0],c[t-1][0]),c[t-1][1]=Math.max(c[t][1],c[t-1][1]),void 0!==c[t][2]&&(c[t-1][0]>=c[t][0]||c[t-1][1]<=c[t][1])&&null!==c[t-1][2]&&(null===c[t][2]&&null!==c[t-1][2]?c[t-1][2]=null:void 0!==c[t-1][2]?2===a.mergeType&&c[t-1][0]===c[t][0]?c[t-1][2]=c[t][2]:c[t-1][2]+=c[t][2]:c[t-1][2]=c[t][2]),c.splice(t,1),t=c.length);return c}var Ct=["AElig","AMP","Aacute","Abreve","Acirc","Acy","Afr","Agrave","Alpha","Amacr","And","Aogon","Aopf","ApplyFunction","Aring","Ascr","Assign","Atilde","Auml","Backslash","Barv","Barwed","Bcy","Because","Bernoullis","Beta","Bfr","Bopf","Breve","Bscr","Bumpeq","CHcy","COPY","Cacute","Cap","CapitalDifferentialD","Cayleys","Ccaron","Ccedil","Ccirc","Cconint","Cdot","Cedilla","CenterDot","Cfr","Chi","CircleDot","CircleMinus","CirclePlus","CircleTimes","ClockwiseContourIntegral","CloseCurlyDoubleQuote","CloseCurlyQuote","Colon","Colone","Congruent","Conint","ContourIntegral","Copf","Coproduct","CounterClockwiseContourIntegral","Cross","Cscr","Cup","CupCap","DD","DDotrahd","DJcy","DScy","DZcy","Dagger","Darr","Dashv","Dcaron","Dcy","Del","Delta","Dfr","DiacriticalAcute","DiacriticalDot","DiacriticalDoubleAcute","DiacriticalGrave","DiacriticalTilde","Diamond","DifferentialD","Dopf","Dot","DotDot","DotEqual","DoubleContourIntegral","DoubleDot","DoubleDownArrow","DoubleLeftArrow","DoubleLeftRightArrow","DoubleLeftTee","DoubleLongLeftArrow","DoubleLongLeftRightArrow","DoubleLongRightArrow","DoubleRightArrow","DoubleRightTee","DoubleUpArrow","DoubleUpDownArrow","DoubleVerticalBar","DownArrow","DownArrowBar","DownArrowUpArrow","DownBreve","DownLeftRightVector","DownLeftTeeVector","DownLeftVector","DownLeftVectorBar","DownRightTeeVector","DownRightVector","DownRightVectorBar","DownTee","DownTeeArrow","Downarrow","Dscr","Dstrok","ENG","ETH","Eacute","Ecaron","Ecirc","Ecy","Edot","Efr","Egrave","Element","Emacr","EmptySmallSquare","EmptyVerySmallSquare","Eogon","Eopf","Epsilon","Equal","EqualTilde","Equilibrium","Escr","Esim","Eta","Euml","Exists","ExponentialE","Fcy","Ffr","FilledSmallSquare","FilledVerySmallSquare","Fopf","ForAll","Fouriertrf","Fscr","GJcy","GT","Gamma","Gammad","Gbreve","Gcedil","Gcirc","Gcy","Gdot","Gfr","Gg","Gopf","GreaterEqual","GreaterEqualLess","GreaterFullEqual","GreaterGreater","GreaterLess","GreaterSlantEqual","GreaterTilde","Gscr","Gt","HARDcy","Hacek","Hat","Hcirc","Hfr","HilbertSpace","Hopf","HorizontalLine","Hscr","Hstrok","HumpDownHump","HumpEqual","IEcy","IJlig","IOcy","Iacute","Icirc","Icy","Idot","Ifr","Igrave","Im","Imacr","ImaginaryI","Implies","Int","Integral","Intersection","InvisibleComma","InvisibleTimes","Iogon","Iopf","Iota","Iscr","Itilde","Iukcy","Iuml","Jcirc","Jcy","Jfr","Jopf","Jscr","Jsercy","Jukcy","KHcy","KJcy","Kappa","Kcedil","Kcy","Kfr","Kopf","Kscr","LJcy","LT","Lacute","Lambda","Lang","Laplacetrf","Larr","Lcaron","Lcedil","Lcy","LeftAngleBracket","LeftArrow","LeftArrowBar","LeftArrowRightArrow","LeftCeiling","LeftDoubleBracket","LeftDownTeeVector","LeftDownVector","LeftDownVectorBar","LeftFloor","LeftRightArrow","LeftRightVector","LeftTee","LeftTeeArrow","LeftTeeVector","LeftTriangle","LeftTriangleBar","LeftTriangleEqual","LeftUpDownVector","LeftUpTeeVector","LeftUpVector","LeftUpVectorBar","LeftVector","LeftVectorBar","Leftarrow","Leftrightarrow","LessEqualGreater","LessFullEqual","LessGreater","LessLess","LessSlantEqual","LessTilde","Lfr","Ll","Lleftarrow","Lmidot","LongLeftArrow","LongLeftRightArrow","LongRightArrow","Longleftarrow","Longleftrightarrow","Longrightarrow","Lopf","LowerLeftArrow","LowerRightArrow","Lscr","Lsh","Lstrok","Lt","Map","Mcy","MediumSpace","Mellintrf","Mfr","MinusPlus","Mopf","Mscr","Mu","NJcy","Nacute","Ncaron","Ncedil","Ncy","NegativeMediumSpace","NegativeThickSpace","NegativeThinSpace","NegativeVeryThinSpace","NestedGreaterGreater","NestedLessLess","NewLine","Nfr","NoBreak","NonBreakingSpace","Nopf","Not","NotCongruent","NotCupCap","NotDoubleVerticalBar","NotElement","NotEqual","NotEqualTilde","NotExists","NotGreater","NotGreaterEqual","NotGreaterFullEqual","NotGreaterGreater","NotGreaterLess","NotGreaterSlantEqual","NotGreaterTilde","NotHumpDownHump","NotHumpEqual","NotLeftTriangle","NotLeftTriangleBar","NotLeftTriangleEqual","NotLess","NotLessEqual","NotLessGreater","NotLessLess","NotLessSlantEqual","NotLessTilde","NotNestedGreaterGreater","NotNestedLessLess","NotPrecedes","NotPrecedesEqual","NotPrecedesSlantEqual","NotReverseElement","NotRightTriangle","NotRightTriangleBar","NotRightTriangleEqual","NotSquareSubset","NotSquareSubsetEqual","NotSquareSuperset","NotSquareSupersetEqual","NotSubset","NotSubsetEqual","NotSucceeds","NotSucceedsEqual","NotSucceedsSlantEqual","NotSucceedsTilde","NotSuperset","NotSupersetEqual","NotTilde","NotTildeEqual","NotTildeFullEqual","NotTildeTilde","NotVerticalBar","Nscr","Ntilde","Nu","OElig","Oacute","Ocirc","Ocy","Odblac","Ofr","Ograve","Omacr","Omega","Omicron","Oopf","OpenCurlyDoubleQuote","OpenCurlyQuote","Or","Oscr","Oslash","Otilde","Otimes","Ouml","OverBar","OverBrace","OverBracket","OverParenthesis","PartialD","Pcy","Pfr","Phi","Pi","PlusMinus","Poincareplane","Popf","Pr","Precedes","PrecedesEqual","PrecedesSlantEqual","PrecedesTilde","Prime","Product","Proportion","Proportional","Pscr","Psi","QUOT","Qfr","Qopf","Qscr","RBarr","REG","Racute","Rang","Rarr","Rarrtl","Rcaron","Rcedil","Rcy","Re","ReverseElement","ReverseEquilibrium","ReverseUpEquilibrium","Rfr","Rho","RightAngleBracket","RightArrow","RightArrowBar","RightArrowLeftArrow","RightCeiling","RightDoubleBracket","RightDownTeeVector","RightDownVector","RightDownVectorBar","RightFloor","RightTee","RightTeeArrow","RightTeeVector","RightTriangle","RightTriangleBar","RightTriangleEqual","RightUpDownVector","RightUpTeeVector","RightUpVector","RightUpVectorBar","RightVector","RightVectorBar","Rightarrow","Ropf","RoundImplies","Rrightarrow","Rscr","Rsh","RuleDelayed","SHCHcy","SHcy","SOFTcy","Sacute","Sc","Scaron","Scedil","Scirc","Scy","Sfr","ShortDownArrow","ShortLeftArrow","ShortRightArrow","ShortUpArrow","Sigma","SmallCircle","Sopf","Sqrt","Square","SquareIntersection","SquareSubset","SquareSubsetEqual","SquareSuperset","SquareSupersetEqual","SquareUnion","Sscr","Star","Sub","Subset","SubsetEqual","Succeeds","SucceedsEqual","SucceedsSlantEqual","SucceedsTilde","SuchThat","Sum","Sup","Superset","SupersetEqual","Supset","THORN","TRADE","TSHcy","TScy","Tab","Tau","Tcaron","Tcedil","Tcy","Tfr","Therefore","Theta","ThickSpace","ThinSpace","Tilde","TildeEqual","TildeFullEqual","TildeTilde","Topf","TripleDot","Tscr","Tstrok","Uacute","Uarr","Uarrocir","Ubrcy","Ubreve","Ucirc","Ucy","Udblac","Ufr","Ugrave","Umacr","UnderBar","UnderBrace","UnderBracket","UnderParenthesis","Union","UnionPlus","Uogon","Uopf","UpArrow","UpArrowBar","UpArrowDownArrow","UpDownArrow","UpEquilibrium","UpTee","UpTeeArrow","Uparrow","Updownarrow","UpperLeftArrow","UpperRightArrow","Upsi","Upsilon","Uring","Uscr","Utilde","Uuml","VDash","Vbar","Vcy","Vdash","Vdashl","Vee","Verbar","Vert","VerticalBar","VerticalLine","VerticalSeparator","VerticalTilde","VeryThinSpace","Vfr","Vopf","Vscr","Vvdash","Wcirc","Wedge","Wfr","Wopf","Wscr","Xfr","Xi","Xopf","Xscr","YAcy","YIcy","YUcy","Yacute","Ycirc","Ycy","Yfr","Yopf","Yscr","Yuml","ZHcy","Zacute","Zcaron","Zcy","Zdot","ZeroWidthSpace","Zeta","Zfr","Zopf","Zscr","aacute","abreve","ac","acE","acd","acirc","acute","acy","aelig","af","afr","agrave","alefsym","aleph","alpha","amacr","amalg","amp","and","andand","andd","andslope","andv","ang","ange","angle","angmsd","angmsdaa","angmsdab","angmsdac","angmsdad","angmsdae","angmsdaf","angmsdag","angmsdah","angrt","angrtvb","angrtvbd","angsph","angst","angzarr","aogon","aopf","ap","apE","apacir","ape","apid","apos","approx","approxeq","aring","ascr","ast","asymp","asympeq","atilde","auml","awconint","awint","bNot","backcong","backepsilon","backprime","backsim","backsimeq","barvee","barwed","barwedge","bbrk","bbrktbrk","bcong","bcy","bdquo","becaus","because","bemptyv","bepsi","bernou","beta","beth","between","bfr","bigcap","bigcirc","bigcup","bigodot","bigoplus","bigotimes","bigsqcup","bigstar","bigtriangledown","bigtriangleup","biguplus","bigvee","bigwedge","bkarow","blacklozenge","blacksquare","blacktriangle","blacktriangledown","blacktriangleleft","blacktriangleright","blank","blk12","blk14","blk34","block","bne","bnequiv","bnot","bopf","bot","bottom","bowtie","boxDL","boxDR","boxDl","boxDr","boxH","boxHD","boxHU","boxHd","boxHu","boxUL","boxUR","boxUl","boxUr","boxV","boxVH","boxVL","boxVR","boxVh","boxVl","boxVr","boxbox","boxdL","boxdR","boxdl","boxdr","boxh","boxhD","boxhU","boxhd","boxhu","boxminus","boxplus","boxtimes","boxuL","boxuR","boxul","boxur","boxv","boxvH","boxvL","boxvR","boxvh","boxvl","boxvr","bprime","breve","brvbar","bscr","bsemi","bsim","bsime","bsol","bsolb","bsolhsub","bull","bullet","bump","bumpE","bumpe","bumpeq","cacute","cap","capand","capbrcup","capcap","capcup","capdot","caps","caret","caron","ccaps","ccaron","ccedil","ccirc","ccups","ccupssm","cdot","cedil","cemptyv","cent","centerdot","cfr","chcy","check","checkmark","chi","cir","cirE","circ","circeq","circlearrowleft","circlearrowright","circledR","circledS","circledast","circledcirc","circleddash","cire","cirfnint","cirmid","cirscir","clubs","clubsuit","colon","colone","coloneq","comma","commat","comp","compfn","complement","complexes","cong","congdot","conint","copf","coprod","copy","copysr","crarr","cross","cscr","csub","csube","csup","csupe","ctdot","cudarrl","cudarrr","cuepr","cuesc","cularr","cularrp","cup","cupbrcap","cupcap","cupcup","cupdot","cupor","cups","curarr","curarrm","curlyeqprec","curlyeqsucc","curlyvee","curlywedge","curren","curvearrowleft","curvearrowright","cuvee","cuwed","cwconint","cwint","cylcty","dArr","dHar","dagger","daleth","darr","dash","dashv","dbkarow","dblac","dcaron","dcy","dd","ddagger","ddarr","ddotseq","deg","delta","demptyv","dfisht","dfr","dharl","dharr","diam","diamond","diamondsuit","diams","die","digamma","disin","div","divide","divideontimes","divonx","djcy","dlcorn","dlcrop","dollar","dopf","dot","doteq","doteqdot","dotminus","dotplus","dotsquare","doublebarwedge","downarrow","downdownarrows","downharpoonleft","downharpoonright","drbkarow","drcorn","drcrop","dscr","dscy","dsol","dstrok","dtdot","dtri","dtrif","duarr","duhar","dwangle","dzcy","dzigrarr","eDDot","eDot","eacute","easter","ecaron","ecir","ecirc","ecolon","ecy","edot","ee","efDot","efr","eg","egrave","egs","egsdot","el","elinters","ell","els","elsdot","emacr","empty","emptyset","emptyv","emsp13","emsp14","emsp","eng","ensp","eogon","eopf","epar","eparsl","eplus","epsi","epsilon","epsiv","eqcirc","eqcolon","eqsim","eqslantgtr","eqslantless","equals","equest","equiv","equivDD","eqvparsl","erDot","erarr","escr","esdot","esim","eta","eth","euml","euro","excl","exist","expectation","exponentiale","fallingdotseq","fcy","female","ffilig","fflig","ffllig","ffr","filig","fjlig","flat","fllig","fltns","fnof","fopf","forall","fork","forkv","fpartint","frac12","frac13","frac14","frac15","frac16","frac18","frac23","frac25","frac34","frac35","frac38","frac45","frac56","frac58","frac78","frasl","frown","fscr","gE","gEl","gacute","gamma","gammad","gap","gbreve","gcirc","gcy","gdot","ge","gel","geq","geqq","geqslant","ges","gescc","gesdot","gesdoto","gesdotol","gesl","gesles","gfr","gg","ggg","gimel","gjcy","gl","glE","gla","glj","gnE","gnap","gnapprox","gne","gneq","gneqq","gnsim","gopf","grave","gscr","gsim","gsime","gsiml","gt","gtcc","gtcir","gtdot","gtlPar","gtquest","gtrapprox","gtrarr","gtrdot","gtreqless","gtreqqless","gtrless","gtrsim","gvertneqq","gvnE","hArr","hairsp","half","hamilt","hardcy","harr","harrcir","harrw","hbar","hcirc","hearts","heartsuit","hellip","hercon","hfr","hksearow","hkswarow","hoarr","homtht","hookleftarrow","hookrightarrow","hopf","horbar","hscr","hslash","hstrok","hybull","hyphen","iacute","ic","icirc","icy","iecy","iexcl","iff","ifr","igrave","ii","iiiint","iiint","iinfin","iiota","ijlig","imacr","image","imagline","imagpart","imath","imof","imped","in","incare","infin","infintie","inodot","int","intcal","integers","intercal","intlarhk","intprod","iocy","iogon","iopf","iota","iprod","iquest","iscr","isin","isinE","isindot","isins","isinsv","isinv","it","itilde","iukcy","iuml","jcirc","jcy","jfr","jmath","jopf","jscr","jsercy","jukcy","kappa","kappav","kcedil","kcy","kfr","kgreen","khcy","kjcy","kopf","kscr","lAarr","lArr","lAtail","lBarr","lE","lEg","lHar","lacute","laemptyv","lagran","lambda","lang","langd","langle","lap","laquo","larr","larrb","larrbfs","larrfs","larrhk","larrlp","larrpl","larrsim","larrtl","lat","latail","late","lates","lbarr","lbbrk","lbrace","lbrack","lbrke","lbrksld","lbrkslu","lcaron","lcedil","lceil","lcub","lcy","ldca","ldquo","ldquor","ldrdhar","ldrushar","ldsh","le","leftarrow","leftarrowtail","leftharpoondown","leftharpoonup","leftleftarrows","leftrightarrow","leftrightarrows","leftrightharpoons","leftrightsquigarrow","leftthreetimes","leg","leq","leqq","leqslant","les","lescc","lesdot","lesdoto","lesdotor","lesg","lesges","lessapprox","lessdot","lesseqgtr","lesseqqgtr","lessgtr","lesssim","lfisht","lfloor","lfr","lg","lgE","lhard","lharu","lharul","lhblk","ljcy","ll","llarr","llcorner","llhard","lltri","lmidot","lmoust","lmoustache","lnE","lnap","lnapprox","lne","lneq","lneqq","lnsim","loang","loarr","lobrk","longleftarrow","longleftrightarrow","longmapsto","longrightarrow","looparrowleft","looparrowright","lopar","lopf","loplus","lotimes","lowast","lowbar","loz","lozenge","lozf","lpar","lparlt","lrarr","lrcorner","lrhar","lrhard","lrm","lrtri","lsaquo","lscr","lsh","lsim","lsime","lsimg","lsqb","lsquo","lsquor","lstrok","lt","ltcc","ltcir","ltdot","lthree","ltimes","ltlarr","ltquest","ltrPar","ltri","ltrie","ltrif","lurdshar","luruhar","lvertneqq","lvnE","mDDot","macr","male","malt","maltese","map","mapsto","mapstodown","mapstoleft","mapstoup","marker","mcomma","mcy","mdash","measuredangle","mfr","mho","micro","mid","midast","midcir","middot","minus","minusb","minusd","minusdu","mlcp","mldr","mnplus","models","mopf","mp","mscr","mstpos","mu","multimap","mumap","nGg","nGt","nGtv","nLeftarrow","nLeftrightarrow","nLl","nLt","nLtv","nRightarrow","nVDash","nVdash","nabla","nacute","nang","nap","napE","napid","napos","napprox","natur","natural","naturals","nbsp","nbump","nbumpe","ncap","ncaron","ncedil","ncong","ncongdot","ncup","ncy","ndash","ne","neArr","nearhk","nearr","nearrow","nedot","nequiv","nesear","nesim","nexist","nexists","nfr","ngE","nge","ngeq","ngeqq","ngeqslant","nges","ngsim","ngt","ngtr","nhArr","nharr","nhpar","ni","nis","nisd","niv","njcy","nlArr","nlE","nlarr","nldr","nle","nleftarrow","nleftrightarrow","nleq","nleqq","nleqslant","nles","nless","nlsim","nlt","nltri","nltrie","nmid","nopf","not","notin","notinE","notindot","notinva","notinvb","notinvc","notni","notniva","notnivb","notnivc","npar","nparallel","nparsl","npart","npolint","npr","nprcue","npre","nprec","npreceq","nrArr","nrarr","nrarrc","nrarrw","nrightarrow","nrtri","nrtrie","nsc","nsccue","nsce","nscr","nshortmid","nshortparallel","nsim","nsime","nsimeq","nsmid","nspar","nsqsube","nsqsupe","nsub","nsubE","nsube","nsubset","nsubseteq","nsubseteqq","nsucc","nsucceq","nsup","nsupE","nsupe","nsupset","nsupseteq","nsupseteqq","ntgl","ntilde","ntlg","ntriangleleft","ntrianglelefteq","ntriangleright","ntrianglerighteq","nu","num","numero","numsp","nvDash","nvHarr","nvap","nvdash","nvge","nvgt","nvinfin","nvlArr","nvle","nvlt","nvltrie","nvrArr","nvrtrie","nvsim","nwArr","nwarhk","nwarr","nwarrow","nwnear","oS","oacute","oast","ocir","ocirc","ocy","odash","odblac","odiv","odot","odsold","oelig","ofcir","ofr","ogon","ograve","ogt","ohbar","ohm","oint","olarr","olcir","olcross","oline","olt","omacr","omega","omicron","omid","ominus","oopf","opar","operp","oplus","or","orarr","ord","order","orderof","ordf","ordm","origof","oror","orslope","orv","oscr","oslash","osol","otilde","otimes","otimesas","ouml","ovbar","par","para","parallel","parsim","parsl","part","pcy","percnt","period","permil","perp","pertenk","pfr","phi","phiv","phmmat","phone","pi","pitchfork","piv","planck","planckh","plankv","plus","plusacir","plusb","pluscir","plusdo","plusdu","pluse","plusmn","plussim","plustwo","pm","pointint","popf","pound","pr","prE","prap","prcue","pre","prec","precapprox","preccurlyeq","preceq","precnapprox","precneqq","precnsim","precsim","prime","primes","prnE","prnap","prnsim","prod","profalar","profline","profsurf","prop","propto","prsim","prurel","pscr","psi","puncsp","qfr","qint","qopf","qprime","qscr","quaternions","quatint","quest","questeq","quot","rAarr","rArr","rAtail","rBarr","rHar","race","racute","radic","raemptyv","rang","rangd","range","rangle","raquo","rarr","rarrap","rarrb","rarrbfs","rarrc","rarrfs","rarrhk","rarrlp","rarrpl","rarrsim","rarrtl","rarrw","ratail","ratio","rationals","rbarr","rbbrk","rbrace","rbrack","rbrke","rbrksld","rbrkslu","rcaron","rcedil","rceil","rcub","rcy","rdca","rdldhar","rdquo","rdquor","rdsh","real","realine","realpart","reals","rect","reg","rfisht","rfloor","rfr","rhard","rharu","rharul","rho","rhov","rightarrow","rightarrowtail","rightharpoondown","rightharpoonup","rightleftarrows","rightleftharpoons","rightrightarrows","rightsquigarrow","rightthreetimes","ring","risingdotseq","rlarr","rlhar","rlm","rmoust","rmoustache","rnmid","roang","roarr","robrk","ropar","ropf","roplus","rotimes","rpar","rpargt","rppolint","rrarr","rsaquo","rscr","rsh","rsqb","rsquo","rsquor","rthree","rtimes","rtri","rtrie","rtrif","rtriltri","ruluhar","rx","sacute","sbquo","sc","scE","scap","scaron","sccue","sce","scedil","scirc","scnE","scnap","scnsim","scpolint","scsim","scy","sdot","sdotb","sdote","seArr","searhk","searr","searrow","sect","semi","seswar","setminus","setmn","sext","sfr","sfrown","sharp","shchcy","shcy","shortmid","shortparallel","shy","sigma","sigmaf","sigmav","sim","simdot","sime","simeq","simg","simgE","siml","simlE","simne","simplus","simrarr","slarr","smallsetminus","smashp","smeparsl","smid","smile","smt","smte","smtes","softcy","sol","solb","solbar","sopf","spades","spadesuit","spar","sqcap","sqcaps","sqcup","sqcups","sqsub","sqsube","sqsubset","sqsubseteq","sqsup","sqsupe","sqsupset","sqsupseteq","squ","square","squarf","squf","srarr","sscr","ssetmn","ssmile","sstarf","star","starf","straightepsilon","straightphi","strns","sub","subE","subdot","sube","subedot","submult","subnE","subne","subplus","subrarr","subset","subseteq","subseteqq","subsetneq","subsetneqq","subsim","subsub","subsup","succ","succapprox","succcurlyeq","succeq","succnapprox","succneqq","succnsim","succsim","sum","sung","sup1","sup2","sup3","sup","supE","supdot","supdsub","supe","supedot","suphsol","suphsub","suplarr","supmult","supnE","supne","supplus","supset","supseteq","supseteqq","supsetneq","supsetneqq","supsim","supsub","supsup","swArr","swarhk","swarr","swarrow","swnwar","szlig","target","tau","tbrk","tcaron","tcedil","tcy","tdot","telrec","tfr","there4","therefore","theta","thetasym","thetav","thickapprox","thicksim","thinsp","thkap","thksim","thorn","tilde","times","timesb","timesbar","timesd","tint","toea","top","topbot","topcir","topf","topfork","tosa","tprime","trade","triangle","triangledown","triangleleft","trianglelefteq","triangleq","triangleright","trianglerighteq","tridot","trie","triminus","triplus","trisb","tritime","trpezium","tscr","tscy","tshcy","tstrok","twixt","twoheadleftarrow","twoheadrightarrow","uArr","uHar","uacute","uarr","ubrcy","ubreve","ucirc","ucy","udarr","udblac","udhar","ufisht","ufr","ugrave","uharl","uharr","uhblk","ulcorn","ulcorner","ulcrop","ultri","umacr","uml","uogon","uopf","uparrow","updownarrow","upharpoonleft","upharpoonright","uplus","upsi","upsih","upsilon","upuparrows","urcorn","urcorner","urcrop","uring","urtri","uscr","utdot","utilde","utri","utrif","uuarr","uuml","uwangle","vArr","vBar","vBarv","vDash","vangrt","varepsilon","varkappa","varnothing","varphi","varpi","varpropto","varr","varrho","varsigma","varsubsetneq","varsubsetneqq","varsupsetneq","varsupsetneqq","vartheta","vartriangleleft","vartriangleright","vcy","vdash","vee","veebar","veeeq","vellip","verbar","vert","vfr","vltri","vnsub","vnsup","vopf","vprop","vrtri","vscr","vsubnE","vsubne","vsupnE","vsupne","vzigzag","wcirc","wedbar","wedge","wedgeq","weierp","wfr","wopf","wp","wr","wreath","wscr","xcap","xcirc","xcup","xdtri","xfr","xhArr","xharr","xi","xlArr","xlarr","xmap","xnis","xodot","xopf","xoplus","xotime","xrArr","xrarr","xscr","xsqcup","xuplus","xutri","xvee","xwedge","yacute","yacy","ycirc","ycy","yen","yfr","yicy","yopf","yscr","yucy","yuml","zacute","zcaron","zcy","zdot","zeetrf","zeta","zfr","zhcy","zigrarr","zopf","zscr","zwj","zwnj"];var kt=["abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","param","picture","pre","progress","rb","rp","rt","rtc","ruby","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","ul","var","video","wbr","xml"];function Lt(t,e){if("string"!=typeof t||!t.length)return null;if(e&&"number"==typeof e||(e=0),!t[e+1])return null;if(t[e+1]&&t[e+1].trim().length)return e+1;if(t[e+2]&&t[e+2].trim().length)return e+2;for(let n=e+1,o=t.length;n<o;n++)if(t[n].trim().length)return n;return null}function Rt(t,e){if("string"!=typeof t||!t.length)return null;if(e&&"number"==typeof e||(e=0),e<1)return null;if(t[e-1]&&t[e-1].trim().length)return e-1;if(t[e-2]&&t[e-2].trim().length)return e-2;for(let n=e;n--;)if(t[n]&&t[n].trim().length)return n;return null}var jt=["null","start-of-heading","start-of-text","end-of-text","end-of-transmission","enquiry","acknowledge","bell","backspace","character-tabulation","line-feed","line-tabulation","form-feed","carriage-return","shift-out","shift-in","data-link-escape","device-control-one","device-control-two","device-control-three","device-control-four","negative-acknowledge","synchronous-idle","end-of-transmission-block","cancel","end-of-medium","substitute","escape","information-separator-four","information-separator-three","information-separator-two","information-separator-one","space","exclamation-mark"],It=["delete","padding","high-octet-preset","break-permitted-here","no-break-here","index","next-line","start-of-selected-area","end-of-selected-area","character-tabulation-set","character-tabulation-with-justification","line-tabulation-set","partial-line-forward","partial-line-backward","reverse-line-feed","single-shift-two","single-shift-three","device-control-string","private-use-1","private-use-2","set-transmit-state","cancel-character","message-waiting","start-of-protected-area","end-of-protected-area","start-of-string","single-graphic-character-introducer","single-character-intro-introducer","control-sequence-introducer","string-terminator","operating-system-command","private-message","application-program-command"];function Ft(t){return!"\"'><=".includes(t)}function Dt(t){return function(t){var n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"function"==typeof n&&(n=[n]),"function"==typeof o&&(o=[o]),"function"==typeof a&&(a=[a]);for(var r=!1,c=function(e,c){if(console.log("129 str[".concat(e,"] = ").concat(t[e])),o.some(function(n){return n(t[e],e)})){if(!a)return console.log("135 util/onlyTheseLeadToThat: ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(31,"m","return ".concat(e),"[",39,"m"))),{v:e};r=e}return null!==a&&r&&a.some(function(n){return n(t[e],e)})?(console.log("150 util/onlyTheseLeadToThat: ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(31,"m","return ".concat(r),"[",39,"m"))),{v:r}):n.some(function(n){return n(t[e],e)})||o.some(function(n){return n(t[e],e)})?void 0:(console.log("161 util/onlyTheseLeadToThat: ".concat("[".concat(31,"m","","[",39,"m")," return ","[".concat(31,"m","false","[",39,"m"))),{v:!1})},i=0,s=t.length;i<s;i++){var l=c(i);if("object"===e(l))return l.v}}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ft,function(t){return"="===t})}function Qt(t){return"\"'`".includes(t)}function Vt(t){if("string"!=typeof t||t.length>1)throw new Error("emlint/util/charNotTag(): input is not a single string character!");return!"><=".includes(t)}function $t(t){return"string"==typeof t}function Pt(t){return $t(t)&&1===t.length&&(t.charCodeAt(0)>64&&t.charCodeAt(0)<91||t.charCodeAt(0)>96&&t.charCodeAt(0)<123)}function Ut(t){return function(t){return $t(t)&&1===t.length&&t.charCodeAt(0)>96&&t.charCodeAt(0)<123}(t)||":"===t}function Bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e,n,o){return 0===n&&"string"==typeof e?"[".concat(32,"m",e.toUpperCase(),"[",39,"m"):n%2!=0?"".concat(t," [",33,"m").concat(e,"[",39,"m"):"".concat(t," = ").concat(JSON.stringify(e,null,4)).concat(o[n+1]?";":"")},"")}function Ht(t,n,o){if(console.log("\n\n\n\n\n"),console.log("285 withinTagInnerspace() called, idx = ".concat(n)),"number"!=typeof n){if(null!=n)throw new Error("emlint/util.js/withinTagInnerspace(): second argument is of a type ".concat(e(n)));n=0}for(var a={at:null,last:!1,precedes:!1,within:!1},r=!0,c=!1,i=!1,s=!1,l=!1,u=!1,g=!1,p=!1,h=!1,d=!1,m=!1,f=!1,b=!1,w=!1,y=!1,v=!1,A=!1,S=!1,x=n,E=t.length;x<E;x++){var T=t[x].charCodeAt(0);if(console.log("".concat("[".concat(null!=o?35:36,"m","=","[",39,"m[").concat(null!=o?33:34,"m","=","[",39,"m").repeat(15)," [",31,"m","str[ ".concat(x," ] = ").concat(t[x].trim().length?t[x]:JSON.stringify(t[x],null,0)),"[",39,"m ","[".concat(90,"m#",T,"[",39,"m")," ").concat("[".concat(null!=o?35:36,"m","=","[",39,"m[").concat(null!=o?33:34,"m","=","[",39,"m").repeat(15)).concat(null!=o?" RECURSION":"")),t[x].trim().length||a.last&&(a.precedes=!0),t[x],t[x],t[x],Qt(t[x])?(null===a.at?(a.within=!0,a.at=x):t[x]!==t[a.at]&&x!==o||(a.within=!1),a.last=!0):a.last?(a.precedes=!0,a.last=!1):a.precedes=!1,a.at&&!a.within&&a.precedes&&t[x]!==t[a.at]&&(a.at=null),!a.within&&r&&"/"===t[x]&&">".includes(t[Lt(t,x)]))return console.log("566 ".concat("[".concat(32,"m"," R1","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;if(a.within||!r||">"!==t[x]||u)if(u&&!g&&t[x].trim().length&&!Vt(t[x]))"<"===t[x]?(g=!0,console.log("630 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r3_2",g)))):(u=!1,console.log("639 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r3_1",u))));else if(g&&!p&&t[x].trim().length)Ut(t[x])||"/"===t[x]?(p=!0,console.log("653 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r3_3",p)))):(u=!1,g=!1,console.log("663 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r3_1",u,"r3_2",g))));else if(p&&!h&&t[x].trim().length&&!Ut(t[x])){if("<>".includes(t[x])||"/"===t[x]&&"<>".includes(Lt(t,x)))return console.log("688 ".concat("[".concat(32,"m"," R3","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;"='\"".includes(t[x])&&(u=!1,g=!1,p=!1,console.log("701 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r3_1",u,"r3_2",g,"r3_3",p))))}else if(!p||h||t[x].trim().length){if(h&&!d&&t[x].trim().length)Ft(t[x])?(d=!0,console.log("732 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r3_5",d)))):(u=!1,g=!1,p=!1,h=!1,console.log("744 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r3_1",u,"r3_2",g,"r3_3",p,"r3_4",h))));else if(d&&(!t[x].trim().length||"="===t[x]||Qt(t[x])))return console.log("764 ".concat("[".concat(32,"m"," R3","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0}else h=!0,console.log("718 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r3_4",h)));else{if(u=!0,console.log("586 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r3_1",u))),!t[x+1]||!Lt(t,x)||!t.slice(x).includes("'")&&!t.slice(x).includes('"'))return console.log("605 EOF detected ".concat("[".concat(32,"m"," R3.2","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;if("<"===t[Lt(t,x)])return console.log("615 ".concat("[".concat(32,"m"," R3.3","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0}if(a.within||!r||!Ft(t[x])||c||"="===t[Rt(t,x)]&&!Dt(t,x)){if(!i&&c&&t[x].trim().length&&!Ft(t[x]))if("="===t[x])i=!0,console.log("813 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_2",i)));else if(">"===t[x]||"/"===t[x]&&">"===t[Lt(t,x)]){var q=x;if("/"===t[x]&&(q=t[Lt(t,x)]),!Lt(t,q))return console.log("845 ".concat("[".concat(32,"m"," R2.1","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;u=!0,c=!1,console.log("835 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_1",c,"r3_1",u)))}else c=!1,console.log("856 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r2_1",c)));else if(!s&&i&&t[x].trim().length)"'\"".includes(t[x])?(s=!0,console.log("870 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_3",s)))):(c=!1,i=!1,console.log("880 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r2_1",c,"r2_2",i))));else if(s&&Qt(t[x]))t[x]===t[a.at]?(l=!0,console.log("896 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_4",l)))):null!=o&&o===x?(console.log("906 recursion, this is the index the future indicated"),$t(t[a.at])&&"\"'".includes(t[a.at])&&"\"'".includes(t[x])?(l=!0,console.log("928 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_4",l)))):$t(t[a.at])&&"".includes(t[a.at])&&"".includes(t[x])?(l=!0,console.log("942 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_4",l)))):$t(t[a.at])&&"".includes(t[a.at])&&"".includes(t[x])&&(l=!0,console.log("956 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_4",l))))):null==o&&Ht(t,null,x)&&(console.log("                        "),console.log("                        "),console.log("                        "),console.log("                        "),console.log("  OUTSIDE OF RECURSION, WITHIN MAIN LOOP AGAIN"),console.log("                        "),console.log("                        "),console.log("                        "),console.log("                        "),console.log("977 not a recursion, but result from one came positive"),a.within&&(a.within=!1),l=!0,console.log("987 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_4",l))));else if(l&&!a.within&&t[x].trim().length&&"/"!==t[x]){if(">"===t[x])return console.log("1001 ".concat("[".concat(32,"m"," R2/1","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;if(Ft(t[x]))return console.log("1010 ".concat("[".concat(32,"m"," R2/2","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0}}else c=!0,console.log("794 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r2_1",c)));if(a.within||!r||m||!Ft(t[x])||"="===t[Rt(t,x)]&&!Dt(t,x)){if(m&&t[x].trim().length&&(!Ft(t[x])||"/"===t[x])){if("/"===t[x]&&">"===t[Lt(t,x)])return console.log("1050 ".concat("[".concat(32,"m"," R4","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;m=!1,console.log("1060 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r4_1",m)))}}else m=!0,console.log("1033 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r4_1",m)));if(r&&!a.within&&!f&&t[x].trim().length&&Ft(t[x])?(f=!0,console.log("1082 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r5_1",f)))):f&&!b&&t[x].trim().length&&!Ft(t[x])?"="===t[x]?(b=!0,console.log("1100 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r5_2",b)))):(f=!1,console.log("1109 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r5_1",f)))):b&&!w&&t[x].trim().length?">"===t[x]?(w=!0,console.log("1123 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r5_3",w)))):(f=!1,b=!1,console.log("1133 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r5_1",f,"r5_2",b)))):w&&t[x].trim().length&&!Vt(t[x])&&("<"===t[x]?(g=!0,console.log("1150 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r3_2",g)))):(f=!1,b=!1,w=!1,console.log("1161 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r5_1",f,"r5_2",b,"r5_3",w))))),a.within||y||!Ft(t[x])&&t[x].trim().length||Ft(t[x-1])||"="===t[x-1]||(y=!0,console.log("1200 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r6_1",y)))),a.within||!y||v||!t[x].trim().length||Ft(t[x])){if(!A&&v&&t[x].trim().length)Qt(t[x])?(A=!0,console.log("1242 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r6_3",A)))):(y=!1,v=!1,console.log("1252 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r6_1",y,"r6_2",v))));else if(A&&Qt(t[x])){if(t[x]===t[a.at])return console.log("1268 ".concat("[".concat(32,"m"," R6/1","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;if(t[x+1]&&"/>".includes(t[Lt(t,x)]))return console.log("1281 ".concat("[".concat(32,"m"," R6/1","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0}}else"="===t[x]?(v=!0,console.log("1219 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r6_2",v)))):(y=!1,console.log("1228 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r6_1",y))));if(r&&t[x].trim().length&&Ft(t[x])&&!S&&(S=!0,console.log("1305 ".concat("[".concat(32,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("set","r7_1",S)))),S&&!t[x].trim().length&&t[x+1]&&Ft(t[x+1])&&(console.log("1328 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r7_1",S))),S=!1),!a.within&&t[x].trim().length&&!Ft(t[x])&&S){if("="===t[x])return console.log("1356 ".concat("[".concat(32,"m"," R7/1","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("return","true"))),console.log("\n\n\n\n\n\n"),!0;S=!1,console.log("1367 ".concat("[".concat(31,"m","","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",Bt("reset","r7_1",S)))}r&&t[x].trim().length&&(r=!1)}return console.log("1496 withinTagInnerspace(): FIN. RETURN FALSE."),console.log("\n\n\n\n\n\n"),!1}function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("1512 util/tagOnTheRight() called, ".concat("[".concat(33,"m","idx","[",39,"m")," = ","[".concat(31,"m",e,"[",39,"m"))),console.log("1514 tagOnTheRight() called, idx = ".concat(e));var n=e?t.slice(e):t,o=!1;/^<\s*\w+\s*\/?\s*>/g.test(n)?(console.log("1533 util/tagOnTheRight(): ".concat("[".concat(31,"m","R1","[",39,"m")," passed")),o=!0):/^<\s*\w+\s+\w+\s*=\s*['"]/g.test(n)?(console.log("1538 util/tagOnTheRight(): ".concat("[".concat(31,"m","R2","[",39,"m")," passed")),o=!0):/^<\s*\/?\s*\w+\s*\/?\s*>/g.test(n)?(console.log("1543 util/tagOnTheRight(): ".concat("[".concat(31,"m","R3","[",39,"m")," passed")),o=!0):/^<\s*\w+(?:\s*\w+)*\s*\w+=['"]/g.test(n)&&(console.log("1548 util/tagOnTheRight(): ".concat("[".concat(31,"m","R4","[",39,"m")," passed")),o=!0);var a=$t(t)&&e<t.length&&o;return console.log("1554 util/tagOnTheRight(): return ".concat("[".concat(36,"m",a,"[",39,"m"))),a}var Mt=Array.isArray,Wt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("".concat("[".concat(32,"m","\n","[",39,"m")," util/attributeOnTheRight() ","[".concat(32,"m","\n","[",39,"m"))),console.log("closingQuoteAt = ".concat(JSON.stringify(o,null,4)));var a=e[n];if("'"!==a&&'"'!==a)throw new Error("1 emlint/util/attributeOnTheRight(): first character is not a single/double quote!\nstartingQuoteVal = ".concat(JSON.stringify(a,null,0),"\nstr = ").concat(JSON.stringify(e,null,4),"\nidx = ").concat(JSON.stringify(n,null,0)));for(var r=!1,c=null,i=null,s=null,l=null,u=n,g=e.length;u<g;u++){var p=e[u].charCodeAt(0);if(console.log("[".concat(null===o?36:32,"m","===============================","[",39,"m [").concat(null===o?34:31,"m","str[ ".concat(u," ] = ").concat(e[u].trim().length?e[u]:JSON.stringify(e[u],null,0)),"[",39,"m ","[".concat(90,"m#",p,"[",39,"m")," [").concat(null===o?36:32,"m","===============================","[",39,"m")),(u===o&&u>n||null===o&&u>n&&e[u]===a)&&(o=u,console.log("1647 (util/attributeOnTheRight) ".concat(Bt("set","closingQuoteAt",o))),r||(r=!0,console.log("1656 (util/attributeOnTheRight) ".concat(Bt("set","closingQuoteMatched",r))))),">"===e[u]&&(c=u,console.log("1668 (util/attributeOnTheRight) ".concat(Bt("set","lastClosingBracket",c)))),"<"===e[u]&&(i=u,console.log("1678 (util/attributeOnTheRight) ".concat(Bt("set","lastOpeningBracket",i)))),"="===e[u]&&(l=u,console.log("1688 (util/attributeOnTheRight) ".concat(Bt("set","lastEqual",l)))),"'"!==e[u]&&'"'!==e[u]||(s=u,console.log("1694 (util/attributeOnTheRight) ".concat(Bt("set","lastSomeQuote",s)))),"="===e[u]&&("'"===e[u+1]||'"'===e[u+1]))if(console.log("1710 (util/attributeOnTheRight) within pattern check: equal-quote"),r){if(!c||c<o)return console.log("1718 (util/attributeOnTheRight) ".concat(Bt("return","closingQuoteAt",o))),o}else{if(o)return console.log("1733 (util/attributeOnTheRight) STOP",'recursive check ends, it\'s actually messed up. We are already within a recursion. Return "false".'),!1;if(console.log("1740 (util/attributeOnTheRight) ".concat(Bt("  correction!\n","true"))),0!==s&&e[u+1]!==s&&t(e,n,s))return console.log("1755 (util/attributeOnTheRight) CORRECTION #1 PASSED - so it was mismatching quote"),console.log("1758 (util/attributeOnTheRight) ".concat(Bt("return","lastSomeQuote",s))),s;if(t(e,u+1))return console.log("1774 (util/attributeOnTheRight) CORRECTION #2 PASSED - healthy attributes follow"),console.log("1777 (util/attributeOnTheRight) ".concat(Bt("return","false"))),!1}if(r&&c&&c>r)return console.log("1791 (util/attributeOnTheRight) ".concat(Bt("return","closingQuoteAt",o))),o;if(r&&null===c&&null===i&&(null===s||s&&o>=s)&&null===l)return console.log("1815 (util/attributeOnTheRight) ".concat(Bt("return","closingQuoteAt",o))),o;e[u+1]||console.log('1838 (util) "EOL reached"'),console.log(r?"closingQuoteMatched":"")}if(s&&null===o&&(console.log("1856 (util) last chance, run correction 3"),console.log("".concat("[".concat(33,"m","lastSomeQuote","[",39,"m")," = ",JSON.stringify(s,null,4))),t(e,n,s)))return console.log("1868 (util) CORRECTION #3 PASSED - mismatched quotes confirmed"),console.log("1870 (util) ".concat(Bt("return",!0))),s;return console.log("1875 (util) ".concat(Bt("bottom - return","false"))),!1},Gt=Ht,Kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("1895 util/findClosingQuote() called, ".concat("[".concat(33,"m","idx","[",39,"m")," = ","[".concat(31,"m",e,"[",39,"m")));for(var n=null,o=null,a="\"'".includes(t[e])?t[e]:null,r=null,c=e,i=t.length;c<i;c++){var s=t[c].charCodeAt(0);if(console.log("[".concat(36,"m","===============================","[",39,"m [",34,"m","str[ ".concat(c," ] = ").concat(t[c].trim().length?t[c]:JSON.stringify(t[c],null,0)),"[",39,"m ","[".concat(90,"m#",s,"[",39,"m")," [",36,"m","===============================","[",39,"m")),34===s||39===s){if(t[c]===a&&c>e)return console.log("1926 (util/findClosingQuote) quick ending, ".concat(c," is the matching quote")),c;if(n=c,o=c,console.log("1934 (util/findClosingQuote) ".concat(Bt("set","lastNonWhitespaceCharWasQuoteAt",n))),c>e&&("'"===t[c]||'"'===t[c])&&Ht(t,c+1))return console.log("1948 (util/findClosingQuote) ".concat(Bt("return",c))),c;if(console.log("1951 (util/findClosingQuote) didn't pass"),Jt(t,c+1))return console.log("1955 [".concat(35,"m","","[",39,"m (util/findClosingQuote) tag on the right - return i=",c)),c;console.log("1960 [".concat(35,"m","","[",39,"m (util/findClosingQuote) NOT tag on the right"))}else if(t[c].trim().length)if(console.log("1966 (util/findClosingQuote)"),">"===t[c]){if(r=c,null!==n){console.log("1973 (util/findClosingQuote) ".concat(Bt("!","suitable candidate found")));var l=Ht(t,c);if(console.log("1982 (util/findClosingQuote) withinTagInnerspace() result: ".concat(l)),l)return n===e?(console.log("2005 (util/findClosingQuote) ".concat(Bt("return","lastNonWhitespaceCharWasQuoteAt + 1",n+1))),n+1):(console.log("2014 (util/findClosingQuote) ".concat(Bt("return","lastNonWhitespaceCharWasQuoteAt",n))),n)}}else if("="===t[c]){var u=Lt(t,c);if(console.log("2035 (util/findClosingQuote) ".concat(Bt("set","whatFollowsEq",u))),u&&Qt(t[u])){if(console.log("2045 (util/findClosingQuote)"),console.log("".concat("[".concat(33,"m","lastNonWhitespaceCharWasQuoteAt","[",39,"m")," = ",JSON.stringify(n,null,4))),o&&Ht(t,o+1))return console.log("2057 (util/findClosingQuote) ".concat(Bt("return","lastQuoteAt + 1",o+1))),o+1;if(!o){console.log("2065 we don't have lastQuoteAt");var g=t[c-1].trim().length?c-1:Rt(t,c),p=void 0;console.log("2082 ".concat("[".concat(33,"m","startingPoint","[",39,"m")," = ",JSON.stringify(g,null,4)));for(var h=g;h--;)if(console.log("2090 [".concat(36,"m","str[".concat(h,"] = ").concat(t[h]),"[",39,"m")),!t[h].trim().length){console.log("2093 [".concat(36,"m","break","[",39,"m")),p=Rt(t,h)+1;break}return console.log("2099 ".concat("[".concat(33,"m","RETURN","[",39,"m"),": ",JSON.stringify(p,null,4))),p}console.log("2108 recursive cycle didn't pass")}else if(t[c+1].trim().length){console.log(""),console.log("2113 it's not the expected quote but ".concat(t[u]," at index ").concat(u));for(var d=void 0,m=c;m--;)if(console.log("2126 [".concat(36,"m","str[".concat(m,"] = ").concat(t[m]),"[",39,"m")),!t[m].trim().length){d=Rt(t,m),console.log("2131 (util/findClosingQuote) ".concat(Bt("set","temp",d),", then BREAK"));break}return Qt(d)?(console.log("2142 (util/findClosingQuote) ".concat(Bt("return","temp",d))),d):(console.log("2147 (util/findClosingQuote) ".concat(Bt("return","temp + 1",d+1))),d+1)}}else if("/"!==t[c]){if("<"===t[c]&&Jt(t,c)&&(console.log("2158  tag on the right"),null!==r))return console.log("2161 (util/findClosingQuote) ".concat(Bt("return","lastClosingBracketAt",r))),r;null!==n&&(n=null,console.log("2175 (util/findClosingQuote) ".concat(Bt("set","lastNonWhitespaceCharWasQuoteAt",n))))}console.log("2187 (util/findClosingQuote) ".concat(Bt("END","lastNonWhitespaceCharWasQuoteAt",n)))}return null},zt=Jt,Zt=Qt,Yt=function(t,e){return"&"!==t[e]||t[e+1]&&"a"===t[e+1]||t[e+2]&&"m"===t[e+2]||t[e+3]&&"p"===t[e+3]||t[e+3]&&";"===t[e+3]?"<"===t[e]?{name:"bad-character-unencoded-opening-bracket",position:[[e,e+1,"&lt;"]]}:">"===t[e]?{name:"bad-character-unencoded-closing-bracket",position:[[e,e+1,"&gt;"]]}:'"'===t[e]?{name:"bad-character-unencoded-double-quotes",position:[[e,e+1,"&quot;"]]}:"`"===t[e]?{name:"bad-character-grave-accent",position:[[e,e+1,"&#x60;"]]}:""===t[e]?{name:"bad-character-unencoded-pound",position:[[e,e+1,"&pound;"]]}:""===t[e]?{name:"bad-character-unencoded-euro",position:[[e,e+1,"&euro;"]]}:""===t[e]?{name:"bad-character-unencoded-cent",position:[[e,e+1,"&cent;"]]}:null:{name:"bad-character-unencoded-ampersand",position:[[e,e+1,"&amp;"]]}},Xt=$t,te=Bt,ee={};Object.keys({"bad-named-html-entity-amp-repetitions":{description:"HTML named entity was encoded multiple times, causing repeated amp;",excerpt:"repeated amp; because of over-encoding",scope:"html"},"bad-named-html-entity-malformed-nbsp":{description:"HTML named entity &nbsp; (a non-breaking space) is malformed",excerpt:"malformed &nbsp;",scope:"html"},"bad-cdata-tag-character-case":{description:"CDATA opening tag name characters are in wrong letter case",excerpt:"wrong letter case",scope:"html"},"bad-named-html-entity-missing-semicolon":{description:"HTML named entity is missing a semicolon",excerpt:"missing semicolon on a named HTML entity",scope:"html"},"file-empty":{description:"the contents are empty",excerpt:"the contents are empty",scope:"all"},"file-missing-ending":{description:"the ending part of the contents is missing",excerpt:"ending part is missing",scope:"all"},"file-mixed-line-endings-file-is-CR-mainly":{description:"mixed line endings detected, majority EOL's are CR",excerpt:"mixed line endings detected, majority EOL's are CR",scope:"all"},"file-mixed-line-endings-file-is-CRLF-mainly":{description:"mixed line endings detected, majority EOL's are CRLF",excerpt:"mixed line endings detected, majority EOL's are CRLF",scope:"all"},"file-mixed-line-endings-file-is-LF-mainly":{description:"mixed line endings detected, majority EOL's are LF",excerpt:"mixed line endings detected, majority EOL's are LF",scope:"all"},"file-wrong-type-line-ending-CR":{description:"Carriage Return (ASCII #13) line ending detected",excerpt:"Carriage Return line ending",scope:"all"},"file-wrong-type-line-ending-CRLF":{description:"CRLF (Carriage Return + Line Feed) line ending detected",excerpt:"CRLF line ending",scope:"all"},"file-wrong-type-line-ending-LF":{description:"Line Feed (ASCII #10) line ending detected",excerpt:"Line Feed line ending",scope:"all"},"tag-attribute-closing-quotation-mark-missing":{description:"The closing quotation mark is missing",excerpt:"the closing quotation mark is missing",scope:"html"},"tag-attribute-left-double-quotation-mark":{description:"There's a left double quotation mark, https://www.fileformat.info/info/unicode/char/201C/index.htm",excerpt:"a left double quotation mark instead of a normal quotation mark",scope:"html"},"tag-attribute-left-single-quotation-mark":{description:"There's a left single quotation mark, https://www.fileformat.info/info/unicode/char/2018/index.htm",excerpt:"a left single quotation mark instead of a normal quotation mark",scope:"html"},"tag-attribute-mismatching-quotes-is-double":{description:"attribute's opening quote is single, but closing-one is double",excerpt:"there should be a single quote here instead",scope:"html"},"tag-attribute-mismatching-quotes-is-single":{description:"attribute's opening quote is double, but closing-one is single",excerpt:"there should be a double quote here instead",scope:"html"},"tag-attribute-missing-equal":{description:"The equal is missing between attribute's name and quotes",excerpt:"missing equal character",scope:"html"},"tag-attribute-opening-quotation-mark-missing":{description:"The opening quotation mark is missing",excerpt:"the opening quotation mark is missing",scope:"html"},"tag-attribute-quote-and-onwards-missing":{description:"One of the attributes ends with an equal sign, there are no quotes on it",excerpt:"attributes ends with an equal sign, there are no quotes on it",scope:"html"},"tag-attribute-repeated-equal":{description:"The equal after attribute's name is repeated",excerpt:"repeated equal character",scope:"html"},"tag-attribute-right-double-quotation-mark":{description:"There's a right double quotation mark, https://www.fileformat.info/info/unicode/char/201d/index.htm",excerpt:"a right double quotation mark instead of a normal quotation mark",scope:"html"},"tag-attribute-right-single-quotation-mark":{description:"There's a right single quotation mark, https://www.fileformat.info/info/unicode/char/2019/index.htm",excerpt:"a right single quotation mark instead of a normal quotation mark",scope:"html"},"tag-attribute-space-between-equals-and-opening-quotes":{description:"There's a space between attribute's equal sign and opening quotes",excerpt:"space between attribute's equal sign and opening quotes",scope:"html"},"tag-attribute-space-between-name-and-equals":{description:"There's a space between attribute's name and equal sign",excerpt:"space between attribute's name and equal sign",scope:"html"},"tag-excessive-whitespace-inside-tag":{description:"There's an excessive whitespace inside the tag",excerpt:"space between attribute's name and equal sign",scope:"html"},"tag-generic-error":{description:"Something is wrong here",excerpt:"something is wrong here",scope:"html"},"tag-missing-closing-bracket":{description:"Tag's closing bracket is missing",excerpt:"missing closing bracket",scope:"html"},"tag-missing-space-before-attribute":{description:"The space before attribute's name is missing",excerpt:"missing space",scope:"html"},"tag-name-lowercase":{description:"Normally all tags are in lowercase",excerpt:"tag name contains uppercase characters",scope:"html"},"tag-space-after-opening-bracket":{description:"Many browsers, including Chrome will not consider this a tag",excerpt:"space between opening bracket and tag name",scope:"html"},"tag-stray-character":{description:"This chunk seems to be astray and can be deleted",excerpt:"delete this",scope:"html"},"tag-stray-quotes":{description:"These quotes can be deleted",excerpt:"delete this",scope:"html"},"tag-whitespace-closing-slash-and-bracket":{description:"There's a whitespace between closing slash and closing bracket",excerpt:"whitespace between slash and closing bracket",scope:"html"}}).concat(Object.keys({"bad-character-acknowledge":{description:"https://www.fileformat.info/info/unicode/char/0006/index.htm",excerpt:"bad character - acknowledge",scope:"all"},"bad-character-application-program-command":{description:"http://www.fileformat.info/info/unicode/char/009f/index.htm",excerpt:"bad character - application program command",scope:"all"},"bad-character-backspace":{description:"https://www.fileformat.info/info/unicode/char/0008/index.htm",excerpt:"bad character - backspace",scope:"all"},"bad-character-bell":{description:"https://www.fileformat.info/info/unicode/char/0007/index.htm",excerpt:"bad character - bell",scope:"all"},"bad-character-en-quad":{description:"https://www.fileformat.info/info/unicode/char/2000/index.htm",excerpt:"bad character - en quad",scope:"all"},"bad-character-em-quad":{description:"https://www.fileformat.info/info/unicode/char/2001/index.htm",excerpt:"bad character - em quad",scope:"all"},"bad-character-en-space":{description:"https://www.fileformat.info/info/unicode/char/2000/index.htm",excerpt:"bad character - en space",scope:"all"},"bad-character-em-space":{description:"https://www.fileformat.info/info/unicode/char/2001/index.htm",excerpt:"bad character - em space",scope:"all"},"bad-character-three-per-em-space":{description:"https://www.fileformat.info/info/unicode/char/2004/index.htm",excerpt:"bad character - three-per-em space",scope:"all"},"bad-character-four-per-em-space":{description:"https://www.fileformat.info/info/unicode/char/2005/index.htm",excerpt:"bad character - four-per-em space",scope:"all"},"bad-character-six-per-em-space":{description:"https://www.fileformat.info/info/unicode/char/2005/index.htm",excerpt:"bad character - six-per-em space",scope:"all"},"bad-character-figure-space":{description:"https://www.fileformat.info/info/unicode/char/2007/index.htm",excerpt:"bad character - figure space",scope:"all"},"bad-character-punctuation-space":{description:"https://www.fileformat.info/info/unicode/char/2008/index.htm",excerpt:"bad character - punctuation space",scope:"all"},"bad-character-thin-space":{description:"https://www.fileformat.info/info/unicode/char/2009/index.htm",excerpt:"bad character - thin space",scope:"all"},"bad-character-hair-space":{description:"https://www.fileformat.info/info/unicode/char/200a/index.htm",excerpt:"bad character - hair space",scope:"all"},"bad-character-narrow-no-break-space":{description:"https://www.fileformat.info/info/unicode/char/202f/index.htm",excerpt:"bad character - narrow no-break space",scope:"all"},"bad-character-line-separator":{description:"https://www.fileformat.info/info/unicode/char/2028/index.htm",excerpt:"bad character - line separator",scope:"all"},"bad-character-paragraph-separator":{description:"https://www.fileformat.info/info/unicode/char/2029/index.htm",excerpt:"bad character - paragraph separator",scope:"all"},"bad-character-medium-mathematical-space":{description:"https://www.fileformat.info/info/unicode/char/205f/index.htm",excerpt:"bad character - medium mathematical space",scope:"all"},"bad-character-ideographic-space":{description:"https://www.fileformat.info/info/unicode/char/3000/index.htm",excerpt:"bad character - ideographic space",scope:"all"},"bad-character-ogham-space-mark":{description:"https://www.fileformat.info/info/unicode/char/1680/index.htm",excerpt:"bad character - ogham space mark",scope:"all"},"bad-character-break-permitted-here":{description:"http://www.fileformat.info/info/unicode/char/0082/index.htm",excerpt:"bad character - break permitted here",scope:"all"},"bad-character-cancel":{description:"https://www.fileformat.info/info/unicode/char/0018/index.htm",excerpt:"bad character - cancel",scope:"all"},"bad-character-generic":{description:"This character is invalid",excerpt:"bad character",scope:"all"},"bad-character-cancel-character":{description:"http://www.fileformat.info/info/unicode/char/0094/index.htm",excerpt:"bad character - cancel character",scope:"all"},"bad-character-character-tabulation":{description:"https://www.fileformat.info/info/unicode/char/0009/index.htm",excerpt:"bad character - character tabulation",scope:"all"},"bad-character-character-tabulation-set":{description:"http://www.fileformat.info/info/unicode/char/0088/index.htm",excerpt:"bad character - character tabulation set",scope:"all"},"bad-character-character-tabulation-with-justification":{description:"http://www.fileformat.info/info/unicode/char/0089/index.htm",excerpt:"bad character - character tabulation with justification",scope:"all"},"bad-character-control-sequence-introducer":{description:"http://www.fileformat.info/info/unicode/char/009b/index.htm",excerpt:"bad character - control sequence introducer",scope:"all"},"bad-character-data-link-escape":{description:"https://www.fileformat.info/info/unicode/char/0010/index.htm",excerpt:"bad character - data link escape",scope:"all"},"bad-character-delete":{description:"http://www.fileformat.info/info/unicode/char/007f/index.htm",excerpt:"bad character - delete",scope:"all"},"bad-character-device-control-four":{description:"https://www.fileformat.info/info/unicode/char/0014/index.htm",excerpt:"bad character - device control four",scope:"all"},"bad-character-device-control-one":{description:"https://www.fileformat.info/info/unicode/char/0011/index.htm",excerpt:"bad character - device control one",scope:"all"},"bad-character-device-control-string":{description:"http://www.fileformat.info/info/unicode/char/0090/index.htm",excerpt:"bad character - device control string",scope:"all"},"bad-character-device-control-three":{description:"https://www.fileformat.info/info/unicode/char/0013/index.htm",excerpt:"bad character - device control three",scope:"all"},"bad-character-device-control-two":{description:"https://www.fileformat.info/info/unicode/char/0012/index.htm",excerpt:"bad character - device control two",scope:"all"},"bad-character-end-of-medium":{description:"https://www.fileformat.info/info/unicode/char/0019/index.htm",excerpt:"bad character - end of medium",scope:"all"},"bad-character-end-of-protected-area":{description:"http://www.fileformat.info/info/unicode/char/0097/index.htm",excerpt:"bad character - end of protected area",scope:"all"},"bad-character-end-of-selected-area":{description:"http://www.fileformat.info/info/unicode/char/0087/index.htm",excerpt:"bad character - end of selected area",scope:"all"},"bad-character-end-of-text":{description:"https://www.fileformat.info/info/unicode/char/0003/index.htm",excerpt:"bad character - end of text (ETX)",scope:"all"},"bad-character-end-of-transmission":{description:"https://www.fileformat.info/info/unicode/char/0004/index.htm",excerpt:"bad character - end of transmission",scope:"all"},"bad-character-end-of-transmission-block":{description:"https://www.fileformat.info/info/unicode/char/0017/index.htm",excerpt:"bad character - end of transmission block",scope:"all"},"bad-character-enquiry":{description:"https://www.fileformat.info/info/unicode/char/0005/index.htm",excerpt:"bad character - enquiry",scope:"all"},"bad-character-escape":{description:"https://www.fileformat.info/info/unicode/char/001b/index.htm",excerpt:"bad character - escape",scope:"all"},"bad-character-form-feed":{description:"https://www.fileformat.info/info/unicode/char/000c/index.htm",excerpt:"bad character - form feed",scope:"all"},"bad-character-grave-accent":{description:"https://www.fileformat.info/info/unicode/char/0060/index.htm",excerpt:"bad character - grave accent",scope:"html"},"bad-character-high-octet-preset":{description:"http://www.fileformat.info/info/unicode/char/0081/index.htm",excerpt:"bad character - high octet preset",scope:"all"},"bad-character-index":{description:"http://www.fileformat.info/info/unicode/char/0084/index.htm",excerpt:"bad character - index",scope:"all"},"bad-character-information-separator-four":{description:"https://www.fileformat.info/info/unicode/char/001c/index.htm",excerpt:"bad character - information separator four",scope:"all"},"bad-character-information-separator-one":{description:"https://www.fileformat.info/info/unicode/char/001f/index.htm",excerpt:"bad character - information separator one",scope:"all"},"bad-character-information-separator-three":{description:"https://www.fileformat.info/info/unicode/char/001d/index.htm",excerpt:"bad character - information separator three",scope:"all"},"bad-character-information-separator-two":{description:"https://www.fileformat.info/info/unicode/char/001e/index.htm",excerpt:"bad character - information separator two",scope:"all"},"bad-character-line-tabulation":{description:"https://www.fileformat.info/info/unicode/char/000b/index.htm",excerpt:"bad character - line tabulation",scope:"all"},"bad-character-line-tabulation-set":{description:"http://www.fileformat.info/info/unicode/char/008a/index.htm",excerpt:"bad character - line tabulation set",scope:"all"},"bad-character-message-waiting":{description:"http://www.fileformat.info/info/unicode/char/0095/index.htm",excerpt:"bad character - message waiting",scope:"all"},"bad-character-negative-acknowledge":{description:"https://www.fileformat.info/info/unicode/char/0015/index.htm",excerpt:"bad character - negative acknowledge",scope:"all"},"bad-character-next-line":{description:"http://www.fileformat.info/info/unicode/char/0085/index.htm",excerpt:"bad character - next line",scope:"all"},"bad-character-no-break-here":{description:"http://www.fileformat.info/info/unicode/char/0083/index.htm",excerpt:"bad character - no break here",scope:"all"},"bad-character-null":{description:"https://www.fileformat.info/info/unicode/char/0000/index.htm",excerpt:"bad character - null",scope:"all"},"bad-character-operating-system-command":{description:"http://www.fileformat.info/info/unicode/char/009d/index.htm",excerpt:"bad character - operating system command",scope:"all"},"bad-character-padding":{description:"http://www.fileformat.info/info/unicode/char/0080/index.htm",excerpt:"bad character - padding",scope:"all"},"bad-character-partial-line-backward":{description:"http://www.fileformat.info/info/unicode/char/008c/index.htm",excerpt:"bad character - partial line backward",scope:"all"},"bad-character-partial-line-forward":{description:"http://www.fileformat.info/info/unicode/char/008b/index.htm",excerpt:"bad character - partial line forward",scope:"all"},"bad-character-private-message":{description:"http://www.fileformat.info/info/unicode/char/009e/index.htm",excerpt:"bad character - private message",scope:"all"},"bad-character-private-use-1":{description:"http://www.fileformat.info/info/unicode/char/0091/index.htm",excerpt:"bad character - private use 1",scope:"all"},"bad-character-private-use-2":{description:"http://www.fileformat.info/info/unicode/char/0092/index.htm",excerpt:"bad character - private use 2",scope:"all"},"bad-character-reverse-line-feed":{description:"http://www.fileformat.info/info/unicode/char/008d/index.htm",excerpt:"bad character - reverse line feed",scope:"all"},"bad-character-set-transmit-state":{description:"http://www.fileformat.info/info/unicode/char/0093/index.htm",excerpt:"bad character - set transmit state",scope:"all"},"bad-character-shift-in":{description:"https://www.fileformat.info/info/unicode/char/000f/index.htm",excerpt:"bad character - shift in",scope:"all"},"bad-character-shift-out":{description:"https://www.fileformat.info/info/unicode/char/000e/index.htm",excerpt:"bad character - shift out",scope:"all"},"bad-character-single-character-intro-introducer":{description:"http://www.fileformat.info/info/unicode/char/009a/index.htm",excerpt:"bad character - single character intro introducer",scope:"all"},"bad-character-single-graphic-character-introducer":{description:"http://www.fileformat.info/info/unicode/char/0099/index.htm",excerpt:"bad character - single graphic character introducer",scope:"all"},"bad-character-single-shift-three":{description:"http://www.fileformat.info/info/unicode/char/008f/index.htm",excerpt:"bad character - single shift three",scope:"all"},"bad-character-single-shift-two":{description:"http://www.fileformat.info/info/unicode/char/008e/index.htm",excerpt:"bad character - single shift two",scope:"all"},"bad-character-start-of-heading":{description:"https://www.fileformat.info/info/unicode/char/0001/index.htm",excerpt:"bad character - start of heading",scope:"all"},"bad-character-start-of-protected-area":{description:"http://www.fileformat.info/info/unicode/char/0096/index.htm",excerpt:"bad character - start of protected area",scope:"all"},"bad-character-start-of-selected-area":{description:"http://www.fileformat.info/info/unicode/char/0086/index.htm",excerpt:"bad character - start of selected area",scope:"all"},"bad-character-start-of-string":{description:"http://www.fileformat.info/info/unicode/char/0098/index.htm",excerpt:"bad character - start of string",scope:"all"},"bad-character-start-of-text":{description:"https://www.fileformat.info/info/unicode/char/0002/index.htm",excerpt:"bad character - start of text",scope:"all"},"bad-character-string-terminator":{description:"http://www.fileformat.info/info/unicode/char/009c/index.htm",excerpt:"bad character - string terminator",scope:"all"},"bad-character-substitute":{description:"https://www.fileformat.info/info/unicode/char/001a/index.htm",excerpt:"bad character - substitute",scope:"all"},"bad-character-synchronous-idle":{description:"https://www.fileformat.info/info/unicode/char/0016/index.htm",excerpt:"bad character - synchronous idle",scope:"all"},"bad-character-unencoded-ampersand":{description:"There is unencoded ampersand",excerpt:"unencoded ampersand",scope:"html"},"bad-character-unencoded-closing-bracket":{description:"There is unencoded closing bracket",excerpt:"unencoded closing bracket",scope:"html"},"bad-character-unencoded-double-quotes":{description:"There is unencoded double quotes",excerpt:"unencoded double quotes",scope:"html"},"bad-character-unencoded-non-breaking-space":{description:"http://www.fileformat.info/info/unicode/char/00a0/index.htm",excerpt:"bad character - unencoded non-breaking space",scope:"all"},"bad-character-unencoded-opening-bracket":{description:"There is unencoded opening bracket",excerpt:"unencoded opening bracket",scope:"html"},"bad-character-zero-width-space":{description:"https://www.fileformat.info/info/unicode/char/200b/index.htm",excerpt:"bad character - zero width space",scope:"all"}})).sort().forEach(function(t){ee[t]=!1}),t.lint=function(t,o){if(!Xt(t))throw new Error("emlint: [THROW_ID_01] the first input argument must be a string. It was given as:\n".concat(JSON.stringify(t,null,4)," (type ").concat(e(t),")"));var a,r,c={rules:"recommended",style:{line_endings_CR_LF_CRLF:null}};if(o){if(!h(o))throw new Error("emlint: [THROW_ID_02] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(o,null,4)," (type ").concat(e(o),")"));if(qt(a=Object.assign({},c,o),c,{msg:"emlint: [THROW_ID_03*]",schema:{rules:["string","object","false","null","undefined"],style:["object","null","undefined"],"style.line_endings_CR_LF_CRLF":["string","null","undefined"]}}),a.style&&Xt(a.style.line_endings_CR_LF_CRLF))if("cr"===a.style.line_endings_CR_LF_CRLF.toLowerCase())"CR"!==a.style.line_endings_CR_LF_CRLF&&a.style.line_endings_CR_LF_CRLF;else if("lf"===a.style.line_endings_CR_LF_CRLF.toLowerCase())"LF"!==a.style.line_endings_CR_LF_CRLF&&a.style.line_endings_CR_LF_CRLF;else{if("crlf"!==a.style.line_endings_CR_LF_CRLF.toLowerCase())throw new Error('emlint: [THROW_ID_04] opts.style.line_endings_CR_LF_CRLF should be either falsey or string "CR" or "LF" or "CRLF". It was given as:\n'.concat(JSON.stringify(a.style.line_endings_CR_LF_CRLF,null,4)," (type is string)"));"CRLF"!==a.style.line_endings_CR_LF_CRLF&&a.style.line_endings_CR_LF_CRLF}}else a=T(c);console.log("138 USING ".concat("[".concat(33,"m","opts","[",39,"m")," = ",JSON.stringify(a,null,4))),a.style&&Xt(a.style.line_endings_CR_LF_CRLF)&&(r="cr"===a.style.line_endings_CR_LF_CRLF.toLowerCase()?"\r":"crlf"===a.style.line_endings_CR_LF_CRLF.toLowerCase()?"\r\n":"\n");var i,s,l=null,u=null,g={tagStartAt:null,tagEndAt:null,tagNameStartAt:null,tagNameEndAt:null,tagName:null,recognised:null,closing:null,pureHTML:!0,attributes:[]};function p(){i=T(g)}p();var d,m,f={attrStartAt:null,attrEndAt:null,attrNameStartAt:null,attrNameEndAt:null,attrName:null,attrValue:null,attrValueStartAt:null,attrValueEndAt:null,attrEqualAt:null,attrOpeningQuote:{pos:null,val:null},attrClosingQuote:{pos:null,val:null},recognised:null,pureHTML:!0};function b(){s=T(f)}b(),d=T({headStartAt:null,headEndAt:null,headVal:null,tailStartAt:null,tailEndAt:null,tailVal:null,startAt:null,endAt:null,recognised:null});var w={startAt:null,includesLinebreaks:!1,lastLinebreakAt:null};function y(){m=T(w)}y();var v={issues:[]},A=[],S=[],x={cr:[],lf:[],crlf:[]},E=null,q=null;0===t.length&&(v.issues.push({name:"file-empty",position:[[0,0]]}),console.log("320 ".concat(te("push","file-empty"))));for(var _=function(e,o){var c,g=t[e].charCodeAt(0);if(console.log("[".concat(36,"m","===============================","[",39,"m [",35,"m","str[ ".concat(e," ] = ").concat(t[e].trim().length?t[e]:JSON.stringify(t[e],null,0)),"[",39,"m ","[".concat(90,"m#",g,"[",39,"m")," [",36,"m","===============================","[",39,"m ","[".concat(31,"m",l&&l!==e?" doNothingUntil ".concat(l," (reason: ").concat(u,")"):"","[",39,"m"))),l&&!0!==l&&e>=l&&(l=null,console.log("366 ".concat(te("RESET","doNothingUntil",l))),u=null),t[e+4]&&"c"===t[e].toLowerCase()&&"d"===t[e+1].toLowerCase()&&"a"===t[e+2].toLowerCase()&&"t"===t[e+3].toLowerCase()&&"a"===t[e+4].toLowerCase()&&"["===t[Lt(t,e+4)]){console.log("383 [".concat(90,"m","within CDATA clauses","[",39,"m"));var h=null,f=null,w=null,_=Lt(t,e+4),N=Rt(t,e);if(null!==N&&"["===t[N]){h=N;var C=Rt(t,N);if(null!==C&&"!"===t[C]){f=C;var k=Rt(t,C);null!==k&&"<"===t[k]&&(console.log("407"),w=k,"CDATA"!==t.slice(e,e+5)&&(v.issues.push({name:"bad-cdata-tag-character-case",position:[[e,e+5,"CDATA"]]}),console.log("419 ".concat(te("push","bad-cdata-tag-character-case","".concat("[[".concat(e,", ").concat(e+5,', "CDATA"]]')))))),h<e-1&&(v.issues.push({name:"bad-cdata-whitespace",position:[[h+1,e]]}),console.log("434 ".concat(te("push","bad-cdata-whitespace","".concat("[[".concat(h+1,", ").concat(e,"]]")))))),f<h-1&&(v.issues.push({name:"bad-cdata-whitespace",position:[[f+1,h]]}),console.log("449 ".concat(te("push","bad-cdata-whitespace","".concat("[[".concat(f+1,", ").concat(h,"]]")))))),w<f-1&&(v.issues.push({name:"bad-cdata-whitespace",position:[[w+1,f]]}),console.log("464 ".concat(te("push","bad-cdata-whitespace","".concat("[[".concat(w+1,", ").concat(f,"]]")))))),_!==e+5&&(v.issues.push({name:"bad-cdata-whitespace",position:[[e+5,_]]}),console.log("479 ".concat(te("push","bad-cdata-whitespace","".concat("[[".concat(e+5,", ").concat(_,"]]")))))),l=!0,u="cdata",console.log("491 ".concat(te("set","doNothingUntil",l,"doNothingUntilReason",u))),S.length&&(console.log("503 let's process all ".concat(S.length," raw character issues at staging")),S.forEach(function(t){t.position[0][0]<w?(v.issues.push(t),console.log("510 ".concat(te("push","issueObj",t)))):console.log("513 discarding ".concat(JSON.stringify(t,null,4)))}),S=[],console.log("519 ".concat(te("reset","doNothingUntil",l)))))}}}if(l&&"cdata"===u&&"]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]&&(l=e+3,console.log("542 ".concat(te("set","doNothingUntil",l)))),(null===l||null!==l&&"script tag"!==u||"script tag"===u&&("\\"!==t[e-1]||"\\"===t[e-2]))&&(null===E&&"\"'`".includes(t[e])?(E=e,console.log("560 ".concat(te("set","withinQuotes",E)))):null===E||t[E]!==t[e]||q&&q!==e||(console.log("566 withinQuotes was ".concat(E,", resetting to null")),E=null,q=null,console.log("569 ".concat(te("set","withinQuotes",E))))),q&&q===e&&(E=null,q=null,console.log("577 ".concat(te("reset","withinQuotes",E,"withinQuotesEndAt",q)))),null===d.headStartAt||"{}%-$_()".includes(t[e])||(d.headEndAt=e,d.headVal=t.slice(d.headStartAt,e),console.log("612 ".concat(te("SET","logEspTag.headEndAt",d.headEndAt,"logEspTag.headVal",d.headVal)))),null===d.startAt&&"{}%-$_()".includes(t[e])&&t[e+1]&&"{}%-$_()".includes(t[e+1])&&(d.headStartAt=e,d.startAt=e,console.log("633 ".concat(te("SET","logEspTag.headStartAt",d.headStartAt,"logEspTag.startAt",d.startAt)))),!l&&null!==i.tagNameEndAt){if(console.log("655 ".concat("[".concat(90,"m","above catching the ending of an attribute's name","[",39,"m"))),null===s.attrNameStartAt||null!==s.attrNameEndAt||null!==s.attrName||Pt(t[e])||":"===t[e]&&Pt(t[e+1])||(s.attrNameEndAt=e,s.attrName=t.slice(s.attrNameStartAt,s.attrNameEndAt),console.log("671 ".concat(te("SET","logAttr.attrNameEndAt",s.attrNameEndAt,"logAttr.attrName",s.attrName))),"="!==t[e]&&("="===t[Lt(t,e)]?console.log("686 equal to the right though"):console.log("689 not equal, so terminate attr"))),console.log("695 ".concat("[".concat(90,"m","above catching what follows the attribute's name","[",39,"m"))),null!==s.attrNameEndAt&&null===s.attrEqualAt&&e>=s.attrNameEndAt&&t[e].trim().length){var L;if("'"!==t[e]&&'"'!==t[e]||(L=Wt(t,e)),console.log("709 ".concat("[".concat(90,"m","inside catch what follows the attribute's name","[",39,"m"))),"="===t[e]){if(s.attrEqualAt=e,console.log("714 ".concat(te("SET","logAttr.attrEqualAt",s.attrEqualAt))),t[e+1]){var R=Lt(t,e);if("="===t[R]){console.log("733 REPEATED EQUAL DETECTED");var j=e+1,I=R+1;for(l=I,u="repeated equals",console.log("744 ".concat(te("set","doNothingUntil",l))),console.log("748 SET ".concat("[".concat(36,"m",'nextEqualStartAt = "'.concat(j,'"; nextEqualEndAt = "').concat(I,';"'),"[",39,"m")));j&&I;){console.log("       ".concat("[".concat(35,"m","*","[",39,"m"))),v.issues.push({name:"tag-attribute-repeated-equal",position:[[j,I]]}),console.log("757 ".concat(te("push","tag-attribute-repeated-equal","".concat("[[".concat(j,", ").concat(I,"]]")))));var F=Lt(t,I-1);console.log("765 ".concat(te("set","temp",F))),"="===t[F]?(console.log("768 ".concat("[".concat(36,"m",'yes, there\'s "=" on the right',"[",39,"m"))),j=I,I=F+1,console.log("773 SET ".concat("[".concat(36,"m",'nextEqualStartAt = "'.concat(j,'"; nextEqualEndAt = "').concat(I,';"'),"[",39,"m"))),l=I,u="already processed equals",console.log("781 ".concat(te("set","doNothingUntil",l)))):(j=null,console.log("786 ".concat(te("set","nextEqualStartAt",j))))}console.log("       ".concat("[".concat(35,"m","*","[",39,"m")))}}}else L?(console.log("".concat("[".concat(32,"m","\n","[",39,"m")," util/attributeOnTheRight() ENDED ","[".concat(32,"m","\n","[",39,"m"))),console.log("798 quoted attribute's value on the right, equal is indeed missing"),v.issues.push({name:"tag-attribute-missing-equal",position:[[e,e,"="]]}),console.log("806 ".concat(te("push","tag-attribute-missing-equal","".concat("[[".concat(e,", ").concat(e,', "="]]'))))),s.attrEqualAt=e,console.log("815 ".concat(te("SET","logAttr.attrEqualAt",s.attrEqualAt))),s.attrValueStartAt=e+1,console.log("820 ".concat(te("SET","logAttr.attrValueStartAt",s.attrValueStartAt))),s.attrValueEndAt=L,console.log("829 ".concat(te("SET","logAttr.attrValueEndAt",s.attrValueEndAt))),s.attrOpeningQuote.pos=e,s.attrOpeningQuote.val=t[e],s.attrClosingQuote.pos=L,s.attrClosingQuote.val=t[L],console.log("841 ".concat(te("SET","logAttr.attrOpeningQuote",s.attrOpeningQuote,"logAttr.attrClosingQuote",s.attrClosingQuote))),s.attrValue=t.slice(e+1,L),console.log("852 ".concat(te("SET","logAttr.attrValue",s.attrValue)))):(console.log("".concat("[".concat(32,"m","\n","[",39,"m")," util/attributeOnTheRight() ENDED ","[".concat(32,"m","\n","[",39,"m"))),i.attributes.push(T(s)),console.log("864 ".concat(te("PUSH, then RESET","logAttr"))),b());null!==m.startAt&&("="===t[e]?(v.issues.push({name:"tag-attribute-space-between-name-and-equals",position:[[m.startAt,e]]}),console.log("879 ".concat(te("push","tag-attribute-space-between-name-and-equals","".concat("[[".concat(m.startAt,", ").concat(e,"]]"))))),y()):Pt(t[e])&&(i.attributes.push(T(s)),console.log("892 ".concat(te("PUSH, then RESET","logAttr"))),b(),null!==m.startAt&&(" "===t[m.startAt]?(m.startAt+1<e&&(v.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[m.startAt+1,e]]}),console.log("907 ".concat(te("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(m.startAt+1,", ").concat(e,"]]")))))),console.log("914 dead end of excessive whitespace check")):(v.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[m.startAt,e," "]]}),console.log("922 ".concat(te("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(m.startAt,", ").concat(e,', " "]]')))))))))}if(console.log("937 ".concat("[".concat(90,"m","above catching the begining of an attribute's name","[",39,"m"))),null===s.attrStartAt&&Pt(t[e])&&(console.log("942 ".concat("[".concat(90,"m","inside catching the begining of an attribute's name","[",39,"m"))),s.attrStartAt=e,s.attrNameStartAt=e,console.log("947 ".concat(te("SET","logAttr.attrStartAt",s.attrStartAt,"logAttr.attrNameStartAt",s.attrNameStartAt))),null!==m.startAt&&m.startAt<e-1&&(" "===t[m.startAt]?(v.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[m.startAt+1,e]]}),console.log("969 ".concat(te("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(m.startAt+1,", ").concat(e,"]]")))))):(v.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[m.startAt,e," "]]}),console.log("982 ".concat(te("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(m.startAt,", ").concat(e,', " "]]'))))))),t[e-1]&&Zt(t[e-1])))for(var D=e-1;D--;)if(!Zt(t[D])){t[D].trim().length||(v.issues.push({name:"tag-stray-character",position:[[D+1,e]]}),console.log("1003 ".concat(te("push","tag-stray-character","".concat(JSON.stringify([[D+1,e]],null,0))))));break}if(console.log("1018 ".concat("[".concat(90,"m","above catching what follows attribute's equal","[",39,"m"))),null!==s.attrEqualAt&&null===s.attrOpeningQuote.pos)if(console.log("1026 ".concat("[".concat(90,"m","inside catching what follows attribute's equal","[",39,"m"))),s.attrEqualAt<e&&t[e].trim().length){if(console.log("1029 catching what follows equal"),34===g||39===g){m.startAt&&m.startAt<e&&(v.issues.push({name:"tag-attribute-space-between-equals-and-opening-quotes",position:[[m.startAt,e]]}),console.log("1040 ".concat(te("push","tag-attribute-space-between-equals-and-opening-quotes","".concat(JSON.stringify([[m.startAt,e]],null,0)))))),y(),s.attrOpeningQuote.pos=e,s.attrOpeningQuote.val=t[e];var Q=Kt(t,e);if(console.log("1054 ".concat(te("set","closingQuotePeek",Q))),Q){if(t[Q]!==t[e])if("'"===t[Q]||'"'===t[Q]){var V='"'===t[Q],$="tag-attribute-mismatching-quotes-is-".concat(V?"double":"single");v.issues.push({name:$,position:[[Q,Q+1,"".concat(V?"'":'"')]]}),console.log("1085 ".concat(te("push",$,"".concat("[[".concat(Q,", ").concat(Q+1,", ").concat(V?"'":'"',"]]")))))}else{var P=t[Q-1].trim().length?Q:Rt(t,Q)+1;console.log("1118 ".concat(te("set","fromPositionToInsertAt",P)));var U=Q;console.log("1126 ".concat(te("set","toPositionToInsertAt",U))),"/"===t[Rt(t,Q)]&&(console.log("1134 SLASH ON THE LEFT"),(U=Rt(t,Q))+1<Q&&(v.issues.push({name:"tag-whitespace-closing-slash-and-bracket",position:[[U+1,Q]]}),console.log("1143 ".concat(te("push","tag-whitespace-closing-slash-and-bracket","".concat("[[".concat(U+1,", ").concat(Q,"]]")))))),P=Rt(t,U)+1,console.log("1156 ".concat(te("set","toPositionToInsertAt",U,"fromPositionToInsertAt",P)))),v.issues.push({name:"tag-attribute-closing-quotation-mark-missing",position:[[P,U,"".concat(t[e]).concat("")]]}),console.log("1177 ".concat(te("push","tag-attribute-closing-quotation-mark-missing","".concat("[[".concat(Q,", ").concat(Q,", ","".concat(t[e]).concat(""),"]]")))))}s.attrClosingQuote.pos=Q,s.attrClosingQuote.val=t[e],s.attrValue=t.slice(e+1,Q),s.attrValueStartAt=e+1,s.attrValueEndAt=Q,s.attrEndAt=Q,console.log("1195 ".concat(te("set","logAttr.attrClosingQuote",s.attrClosingQuote,"logAttr.attrValue",s.attrValue,"logAttr.attrValueStartAt",s.attrValueStartAt,"logAttr.attrValueEndAt",s.attrValueEndAt,"logAttr.attrEndAt",s.attrEndAt)));for(var B=e+1;B<Q;B++){var H=Yt(t,B);H&&(A.push(H),console.log("1221 ".concat(te("push tagIssueStaging","newIssue",H))))}return S.length&&console.log("1230 ".concat("[".concat(31,"m","","[",39,"m")," raw stage present!")),s.attrNameStartAt&&t[s.attrNameStartAt-1].trim().length&&!v.issues.some(function(t){return O=e,("tag-stray-quotes"===t.name||"tag-stray-character"===t.name)&&t.position[0][1]===s.attrNameStartAt})&&(v.issues.push({name:"tag-missing-space-before-attribute",position:[[s.attrNameStartAt,s.attrNameStartAt," "]]}),console.log("1258 ".concat(te("push","tag-missing-space-before-attribute","".concat("[[".concat(s.attrNameStartAt,", ").concat(s.attrNameStartAt,', " "]]')))))),i.attributes.push(T(s)),console.log("1270 ".concat(te("PUSH, then RESET","logAttr"))),l=t[Q].trim().length?Q-(Zt(t[Q])?0:1)+1:Rt(t,Q)+1,u="closing quote looked up",null!==E&&(q=s.attrClosingQuote.pos),console.log("1296 ".concat(te("set","doNothingUntil",l,"withinQuotesEndAt",q))),b(),e===o-1&&null!==i.tagStartAt&&(null!==s.attrEqualAt&&null!==s.attrOpeningQuote.pos||i.attributes.some(function(t){return null!==t.attrEqualAt&&null!==t.attrOpeningQuote.pos}))&&(v.issues.push({name:"tag-missing-closing-bracket",position:[[e+1,e+1,">"]]}),console.log("1326 ".concat(te("push","tag-missing-closing-bracket","".concat("[[".concat(e+1,", ").concat(e+1,', ">"]]')))))),console.log("1334 ".concat(te("continue"))),O=e,"continue"}}else if(8220===g||8221===g){s.attrOpeningQuote.pos=e,s.attrOpeningQuote.val='"',console.log("1345 ".concat(te("set","logAttr.attrOpeningQuote",s.attrOpeningQuote)));var J=8220===g?"tag-attribute-left-double-quotation-mark":"tag-attribute-right-double-quotation-mark";v.issues.push({name:J,position:[[e,e+1,'"']]}),console.log("1362 ".concat(te("push",J,"".concat("[[".concat(e,", ").concat(e+1,", '\"']]"))))),s.attrValueStartAt=e+1,console.log("1367 ".concat(te("set","logAttr.attrValueStartAt",s.attrValueStartAt))),E=e,console.log("1376 ".concat(te("set","withinQuotes",E)))}else{if(8216!==g&&8217!==g){if(Gt(t,e)){console.log("1988 [".concat(33,"m","","[",39,"m - withinTagInnerspace() ","[".concat(32,"m","true","[",39,"m")));var M=s.attrStartAt,W=Lt(t,e);if(console.log("2002 ".concat(te("set","start",M,"temp",W))),"/"===t[e]&&W&&">"===t[W]||">"===t[e])for(var G=s.attrStartAt;G--;)if(t[G].trim().length){M=G+1;break}return v.issues.push({name:"tag-attribute-quote-and-onwards-missing",position:[[M,e]]}),console.log("2021 ".concat(te("push","tag-attribute-quote-and-onwards-missing","".concat("[[".concat(M,", ").concat(e,"]]"))))),console.log("2028 ".concat(te("reset","logWhitespace"))),y(),console.log("2030 ".concat(te("reset","logAttr"))),b(),console.log("2035 ".concat(te("offset the index","i--; then continue"))),O=--e,"continue"}console.log("1419 [".concat(33,"m","","[",39,"m - withinTagInnerspace() ","[".concat(32,"m","false","[",39,"m")));var K=Kt(t,e);console.log("1425 "),console.log("1427 ".concat(te("set","closingQuotePeek",K)));var z=Zt(t[K])?t[K]:'"';v.issues.push({name:"tag-attribute-opening-quotation-mark-missing",position:[[Rt(t,e)+1,e,z]]}),console.log("1440 ".concat(te("push","tag-attribute-opening-quotation-mark-missing","".concat("[[".concat(Rt(t,e)+1,", ").concat(e,", ").concat(z,"]]"))))),s.attrOpeningQuote={pos:e,val:z},s.attrValueStartAt=e,console.log("1454 mark opening quote: ".concat(te("set","logAttr.attrOpeningQuote",s.attrOpeningQuote,"logAttr.attrValueStartAt",s.attrValueStartAt))),E=e,console.log("1464 ".concat(te("set","withinQuotes",E))),console.log("1469 traverse forward\n\n\n");for(var Z,Y=null,X=null,tt=e;tt<o;tt++){if(console.log("1496 [".concat(36,"m","str[".concat(tt,'] = "').concat(t[tt],'"'),"[",39,"m")),">"===t[tt]&&("/"!==t[Rt(t,tt)]&&Gt(t,tt)||"/"===t[Rt(t,tt)])){var et=Rt(t,tt);Y=tt,console.log("1506 ".concat(te("set","leftAt",et,"closingBracketIsAt",Y))),X=tt,"/"===t[et]&&(X=et,console.log("1518 ".concat(te("set","innerTagEndsAt",X))))}if(null!==X&&"=<".includes(t[tt])){console.log("1530 [".concat(36,"m",'break ("'.concat(t[tt],'" is a bad character)'),"[",39,"m"));break}}console.log("1538 ".concat(te("set","closingBracketIsAt",Y,"innerTagEndsAt",X))),Z=e<X?t.slice(e,X):"",console.log("1554 ".concat(te("set","innerTagContents",Z)));var nt,ot=X;if(Z.includes("=")){console.log("1569 inner tag contents include an equal character");var at=Z.split("=")[0];if(console.log("1582 ".concat(te("set","temp1",at))),at.split("").some(function(t){return!t.trim().length})){console.log("1587 traverse backwards to find beginning of the attr on the right\n\n\n");for(var rt=e+at.length;rt--;){if(console.log("1592 [".concat(35,"m","str[".concat(rt,"] = ").concat(t[rt]),"[",39,"m")),!t[rt].trim().length){nt=rt+1,console.log("1600 ".concat(te("set","attributeOnTheRightBeginsAt",nt,"then BREAK")));break}if(rt===e)break}console.log("\n\n\n"),console.log("1617 ".concat(te("log","attributeOnTheRightBeginsAt",nt)));var ct=Rt(t,nt);Zt(ct)||(ot=ct+1)}}else console.log("1633 inner tag contents don't include an equal character");var it=null,st=null,lt=null,ut=!1;console.log("\n\n\n\n\n\n"),console.log("1649 ".concat("[".concat(31,"m","TRAVERSE BACKWARDS","[",39,"m"),"; startingPoint=",ot));for(var gt=ot;gt--;gt>e){if(console.log("1654 ".concat("[".concat(36,"m","str[".concat(gt,"] = ").concat(t[gt]),"[",39,"m"))),"="===t[gt]){console.log("1658 ".concat(te("break")));break}if(null===it&&t[gt].trim().length&&(it=gt+1,console.log("1666 ".concat(te("set","caughtAttrEnd",it))),ut&&(lt=it,console.log("1673 ".concat(te("set","finalClosingQuotesShouldBeAt",lt))),ut=!1,console.log("1682 ".concat(te("set","boolAttrFound",ut))))),!t[gt].trim().length&&it){if(st=gt+1,console.log("1690 ".concat("[".concat(35,"m","ATTR","[",39,"m"),": ",t.slice(st,it)," (").concat(st,"-").concat(it,")")),"="===t[Lt(t,it)]){var pt=Rt(t,st);Zt(t[pt])||(nt=Lt(t,pt+1),console.log("1764 ".concat(te("set","attributeOnTheRightBeginsAt",nt))));break}if(!n.includes(t.slice(st,it))){console.log("1787 ".concat(te("break")));break}ut=!0,console.log("1783 ".concat(te("set","boolAttrFound",ut))),it=null,st=null,console.log("1796 ".concat(te("reset","caughtAttrEnd",it,"caughtAttrStart",st)))}}if(console.log("1807 ".concat("[".concat(31,"m","TRAVERSE ENDED","[",39,"m"))),console.log("1816 ".concat(te("log","finalClosingQuotesShouldBeAt",lt,"attributeOnTheRightBeginsAt",nt))),!lt&&nt&&(lt=Rt(t,nt)+1,console.log("1830 ".concat(te("log","attributeOnTheRightBeginsAt",nt))),console.log("1837 ".concat(te("set","finalClosingQuotesShouldBeAt",lt)))),console.log("1846  ".concat(te("log","caughtAttrEnd",it,"left(str, caughtAttrEnd)",Rt(t,it)))),it&&s.attrOpeningQuote&&!lt&&t[Rt(t,it)]!==s.attrOpeningQuote.val&&(lt=it,console.log("1863 ".concat(te("set","finalClosingQuotesShouldBeAt",lt)))),console.log("1872 ".concat("[".concat(32,"m",""," [",39,"m")," ","[".concat(33,"m","finalClosingQuotesShouldBeAt","[",39,"m")," = ",JSON.stringify(lt,null,4))),lt?(v.issues.push({name:"tag-attribute-closing-quotation-mark-missing",position:[[lt,lt,s.attrOpeningQuote.val]]}),console.log("1894 ".concat(te("push","tag-attribute-closing-quotation-mark-missing","".concat("[[".concat(lt,", ").concat(lt,", ").concat(s.attrOpeningQuote.val,"]]"))))),s.attrClosingQuote.pos=lt,s.attrValueEndAt=lt,s.attrEndAt=lt+1):(s.attrClosingQuote.pos=Rt(t,it),s.attrValueEndAt=s.attrClosingQuote.pos,s.attrEndAt=it),s.attrClosingQuote.val=s.attrOpeningQuote.val,s.attrValue=t.slice(s.attrOpeningQuote.pos,s.attrClosingQuote.pos),console.log("1922 ".concat(te("set","logAttr.attrClosingQuote.pos",s.attrClosingQuote.pos,"logAttr.attrClosingQuote.val",s.attrClosingQuote.val,"logAttr.attrValueEndAt",s.attrValueEndAt,"logAttr.attrEndAt",s.attrEndAt,"logAttr.attrValue",s.attrValue))),s.attrValueStartAt<s.attrValueEndAt)for(var ht=s.attrValueStartAt;ht<s.attrValueEndAt;ht++){console.log("1945 [".concat(36,"m","str[".concat(ht,"] = ").concat(t[ht]),"[",39,"m"));var dt=Yt(t,ht);dt&&(v.issues.push(dt),console.log("1951 ".concat(te("push","unencoded character",dt))))}return l||(l=s.attrClosingQuote.pos,u="missing opening quotes",m.startAt=null,console.log("1964 ".concat(te("set","doNothingUntil",l,"logWhitespace.startAt",m.startAt)))),console.log("1975 ".concat(te("about to push","logAttr",s))),i.attributes.push(T(s)),console.log("1978 ".concat(te("PUSH, then RESET","logAttr","then CONTINUE"))),b(),O=e,"continue"}s.attrOpeningQuote.pos=e,s.attrOpeningQuote.val="'",console.log("1385 ".concat(te("set","logAttr.attrOpeningQuote",s.attrOpeningQuote)));var mt=8216===g?"tag-attribute-left-single-quotation-mark":"tag-attribute-right-single-quotation-mark";v.issues.push({name:mt,position:[[e,e+1,"'"]]}),console.log("1402 ".concat(te("push",mt,"".concat("[[".concat(e,", ").concat(e+1,", '\"']]"))))),s.attrValueStartAt=e+1,console.log("1407 ".concat(te("set","logAttr.attrValueStartAt",s.attrValueStartAt))),E=e,console.log("1416 ".concat(te("set","withinQuotes",E)))}console.log("2042 ".concat(te("SET","logAttr.attrOpeningQuote.pos",s.attrOpeningQuote.pos,"logAttr.attrOpeningQuote.val",s.attrOpeningQuote.val))),null!==m.startAt&&("'"===t[e]||'"'===t[e]?(v.issues.push({name:"tag-attribute-space-between-equals-and-opening-quotes",position:[[m.startAt,e]]}),console.log("2060 ".concat(te("push","tag-attribute-space-between-equals-and-opening-quotes","".concat("[[".concat(m.startAt,", ").concat(e,"]]")))))):Gt(t,e+1)&&(v.issues.push({name:"tag-attribute-quote-and-onwards-missing",position:[[s.attrStartAt,e]]}),console.log("2075 ".concat(te("push","tag-attribute-quote-and-onwards-missing","".concat("[[".concat(s.attrStartAt,", ").concat(e,"]]"))))),console.log("2081 ".concat(te("reset","logAttr"))),b()))}else t[e+1]&&Lt(t,e)||(console.log("2086"),v.issues.push({name:"file-missing-ending",position:[[e+1,e+1]]}),console.log("2092 ".concat(te("push","tag-attribute-quote-and-onwards-missing","".concat("[[".concat(e+1,", ").concat(e+1,"]]"))))));if(console.log("2102 ".concat("[".concat(90,"m","above catching closing quote (single or double)","[",39,"m"))),null!==s.attrEqualAt&&null!==s.attrOpeningQuote.pos&&(null===s.attrClosingQuote.pos||e===s.attrClosingQuote.pos)&&e>s.attrOpeningQuote.pos&&Zt(t[e]))if(console.log("2114 ".concat("[".concat(90,"m","inside catching closing quote (single or double)","[",39,"m"))),34===g||39===g){var ft="tag-attribute-mismatching-quotes-is-".concat(34===g?"double":"single");t[e]===s.attrOpeningQuote.val||v.issues.length&&v.issues.some(function(t){return O=e,t.name===ft&&1===t.position.length&&t.position[0][0]===e&&t.position[0][1]===e+1})?console.log("2150 ".concat("[".concat(31,"m","didn't push an issue","[",39,"m"))):(v.issues.push({name:ft,position:[[e,e+1,"".concat(34===g?"'":'"')]]}),console.log("2142 ".concat(te("push",ft,"".concat("[[".concat(e,", ").concat(e+1,", ").concat(34===g?"'":'"',"]]")))))),s.attrClosingQuote.pos=e,s.attrClosingQuote.val=t[e],console.log("2161 ".concat(te("SET","logAttr.attrClosingQuote.pos",s.attrClosingQuote.pos,"logAttr.attrClosingQuote.val",s.attrClosingQuote.val))),null===s.attrValue&&(s.attrOpeningQuote.pos&&s.attrClosingQuote.pos&&s.attrOpeningQuote.pos+1<s.attrClosingQuote.pos?s.attrValue=t.slice(s.attrValueStartAt,e):s.attrValue="",console.log("2186 ".concat(te("SET","logAttr.attrValue",s.attrValue)))),s.attrEndAt=e,s.attrValueEndAt=e,console.log("2194 ".concat(te("SET","logAttr.attrEndAt",s.attrEndAt,"logAttr.attrValueEndAt",s.attrValueEndAt))),E&&(E=null,console.log("2206 ".concat(te("SET","withinQuotes",E)))),i.attributes.push(T(s)),console.log("2211 ".concat(te("PUSH, then RESET","logAttr"))),b()}else if(!Xt(s.attrOpeningQuote.val)||8220!==g&&8221!==g){if(Xt(s.attrOpeningQuote.val)&&(8216===g||8217===g)&&(null!==Lt(t,e)&&(">"===t[Lt(t,e)]||"/"===t[Lt(t,e)])||Gt(t,e+1))){var bt=8216===g?"tag-attribute-left-single-quotation-mark":"tag-attribute-right-single-quotation-mark";v.issues.push({name:bt,position:[[e,e+1,"'"]]}),console.log("2269 ".concat(te("push",bt,"".concat("[[".concat(e,", ").concat(e+1,', "\'"]]'))))),s.attrEndAt=e,s.attrClosingQuote.pos=e,s.attrClosingQuote.val="'",console.log("2277 ".concat(te("SET","logAttr.attrEndAt",s.attrEndAt,"logAttr.attrClosingQuote",s.attrClosingQuote))),E=null,q=null,console.log("2290 ".concat(te("reset","withinQuotes & withinQuotesEndAt"))),i.attributes.push(T(s)),console.log("2295 ".concat(te("PUSH, then RESET","logAttr"))),b()}}else{var wt=8220===g?"tag-attribute-left-double-quotation-mark":"tag-attribute-right-double-quotation-mark";v.issues.push({name:wt,position:[[e,e+1,'"']]}),console.log("2229 ".concat(te("push",wt,"".concat("[[".concat(e,", ").concat(e+1,", '\"']]"))))),s.attrEndAt=e,s.attrClosingQuote.pos=e,s.attrClosingQuote.val='"',console.log("2237 ".concat(te("SET","logAttr.attrEndAt",s.attrEndAt,"logAttr.attrClosingQuote",s.attrClosingQuote))),i.attributes.push(T(s)),console.log("2248 ".concat(te("PUSH, then RESET","logAttr"))),b()}console.log("2303 ".concat("[".concat(90,"m","error clauses","[",39,"m"))),s.attrOpeningQuote.val&&s.attrOpeningQuote.pos<e&&null===s.attrClosingQuote.pos&&("/"===t[e]&&Lt(t,e)&&">"===t[Lt(t,e)]||">"===t[e])&&(console.log("2314 inside error catch clauses"),v.issues.push({name:"tag-attribute-closing-quotation-mark-missing",position:[[e,e,s.attrOpeningQuote.val]]}),console.log("2321 ".concat(te("push","tag-attribute-closing-quotation-mark-missing","".concat("[[".concat(e,", ").concat(e,", ").concat(s.attrOpeningQuote.val,"]]"))))),s.attrClosingQuote.pos=e,s.attrClosingQuote.val=s.attrOpeningQuote.val,console.log("2331 ".concat(te("set","logAttr.attrClosingQuote",s.attrClosingQuote))),i.attributes.push(T(s)),console.log("2339 ".concat(te("PUSH, then RESET","logAttr"))),b())}if(!l)if(g<32){var yt="bad-character-".concat(jt[g]);if(9===g)v.issues.push({name:yt,position:[[e,e+1,"  "]]}),console.log('2368 PUSH "'.concat(yt,'", [[').concat(e,", ").concat(e+1,', "  "]]'));else if(13===g)Xt(t[e+1])&&10===t[e+1].charCodeAt(0)?a.style&&a.style.line_endings_CR_LF_CRLF&&"CRLF"!==a.style.line_endings_CR_LF_CRLF?(v.issues.push({name:"file-wrong-type-line-ending-CRLF",position:[[e,e+2,r]]}),console.log("2387 ".concat(te("push","file-wrong-type-line-ending-CRLF","".concat("[[".concat(e,", ").concat(e+2,", ").concat(JSON.stringify(r,null,0),"]]")))))):(x.crlf.push([e,e+2]),console.log("2401 ".concat(te("logLineEndings.crlf push","[".concat(e,", ").concat(e+2,"]"))))):a.style&&a.style.line_endings_CR_LF_CRLF&&"CR"!==a.style.line_endings_CR_LF_CRLF?(v.issues.push({name:"file-wrong-type-line-ending-CR",position:[[e,e+1,r]]}),console.log("2417 ".concat(te("push","file-wrong-type-line-ending-CR","".concat("[[".concat(e,", ").concat(e+1,", ").concat(JSON.stringify(r,null,0),"]]")))))):(x.cr.push([e,e+1]),console.log("2431 ".concat(te("logLineEndings.cr push","[".concat(e,", ").concat(e+1,"]")))));else if(10===g)Xt(t[e-1])&&13===t[e-1].charCodeAt(0)||(a.style&&a.style.line_endings_CR_LF_CRLF&&"LF"!==a.style.line_endings_CR_LF_CRLF?(v.issues.push({name:"file-wrong-type-line-ending-LF",position:[[e,e+1,r]]}),console.log("2451 ".concat(te("push","file-wrong-type-line-ending-LF","".concat("[[".concat(e,", ").concat(e+1,", ").concat(JSON.stringify(r,null,0),"]]")))))):(x.lf.push([e,e+1]),console.log("2465 ".concat(te("logLineEndings.lf push","[".concat(e,", ").concat(e+1,"]"))))));else{var vt,At=Rt(t,e),St=Lt(t,e);if(At<e-1&&(St>e+1||null===St&&t[e+1]&&"\n"!==t[e+1]&&"\r"!==t[e+1]&&!t[e+1].trim().length)){var xt=t.slice(At+1,St);vt=xt.includes("\n")||xt.includes("\r")?a.style&&a.style.line_endings_CR_LF_CRLF?a.style.line_endings_CR_LF_CRLF:"\n":" "}console.log("2504 ".concat(te("log","addThis",vt))),vt?(v.issues.push({name:yt,position:[[At+1,St,vt]]}),console.log("2518 ".concat(te("push",yt,"".concat("[[".concat(At+1,", ").concat(St,", ").concat(vt,"]]")))))):(v.issues.push({name:yt,position:[[e,e+1]]}),console.log("2530 ".concat(te("push",yt,"".concat("[[".concat(e,", ").concat(e+1,"]]"))))))}}else if(g>126&&g<160){var Et="bad-character-".concat(It[g-127]);v.issues.push({name:Et,position:[[e,e+1]]}),console.log("2541 ".concat(te("push",Et,"".concat("[[".concat(e,", ").concat(e+1,"]]")))))}else if(160===g){var Tt="bad-character-unencoded-non-breaking-space";v.issues.push({name:Tt,position:[[e,e+1,"&nbsp;"]]}),console.log("2552 ".concat(te("push",Tt,"".concat("[[".concat(e,", ").concat(e+1,', "&nbsp;"]]')))))}else if(5760===g){var qt="bad-character-ogham-space-mark";v.issues.push({name:qt,position:[[e,e+1," "]]}),console.log("2563 ".concat(te("push",qt,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8192===g){var _t="bad-character-en-quad";v.issues.push({name:_t,position:[[e,e+1," "]]}),console.log("2574 ".concat(te("push",_t,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8193===g)v.issues.push({name:"bad-character-em-quad",position:[[e,e+1," "]]}),console.log("2585 ".concat(te("push","bad-character-em-quad","".concat("[[".concat(e,", ").concat(e+1,', " "]]')))));else if(8194===g){var Ot="bad-character-en-space";v.issues.push({name:Ot,position:[[e,e+1," "]]}),console.log("2596 ".concat(te("push",Ot,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8195===g){var Nt="bad-character-em-space";v.issues.push({name:Nt,position:[[e,e+1," "]]}),console.log("2607 ".concat(te("push",Nt,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8196===g){var Ct="bad-character-three-per-em-space";v.issues.push({name:Ct,position:[[e,e+1," "]]}),console.log("2618 ".concat(te("push",Ct,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8197===g){var Ft="bad-character-four-per-em-space";v.issues.push({name:Ft,position:[[e,e+1," "]]}),console.log("2629 ".concat(te("push",Ft,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8198===g){var Dt="bad-character-six-per-em-space";v.issues.push({name:Dt,position:[[e,e+1," "]]}),console.log("2640 ".concat(te("push",Dt,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8199===g){var Qt="bad-character-figure-space";v.issues.push({name:Qt,position:[[e,e+1," "]]}),console.log("2651 ".concat(te("push",Qt,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8200===g){var Vt="bad-character-punctuation-space";v.issues.push({name:Vt,position:[[e,e+1," "]]}),console.log("2662 ".concat(te("push",Vt,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8201===g){var Ut="bad-character-thin-space";v.issues.push({name:Ut,position:[[e,e+1," "]]}),console.log("2673 ".concat(te("push",Ut,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8202===g){var Bt="bad-character-hair-space";v.issues.push({name:Bt,position:[[e,e+1," "]]}),console.log("2684 ".concat(te("push",Bt,"".concat("[[".concat(e,", ").concat(e+1,', " "]]')))))}else if(8203===g){var Ht="bad-character-zero-width-space";v.issues.push({name:Ht,position:[[e,e+1]]}),console.log("2695 ".concat(te("push",Ht,"".concat("[[".concat(e,", ").concat(e+1,"]]")))))}else if(8232===g){var Jt="bad-character-line-separator";v.issues.push({name:Jt,position:[[e,e+1,"\n"]]}),console.log("2705 ".concat(te("push",Jt,"".concat("[[".concat(e,", ").concat(e+1,', "\\n"]]')))))}else if(8233===g){var Mt="bad-character-paragraph-separator";v.issues.push({name:Mt,position:[[e,e+1,"\n"]]}),console.log("2716 ".concat(te("push",Mt,"".concat("[[".concat(e,", ").concat(e+1,', "\\n"]]')))))}else if(8239===g){var ee="bad-character-narrow-no-break-space";v.issues.push({name:ee,position:[[e,e+1," "]]}),console.log("2727 ".concat(te("push",ee,"".concat("[[".concat(e,", ").concat(e+1,', "\\n"]]')))))}else if(8287===g){var ne="bad-character-medium-mathematical-space";v.issues.push({name:ne,position:[[e,e+1," "]]}),console.log("2738 ".concat(te("push",ne,"".concat("[[".concat(e,", ").concat(e+1,', "\\n"]]')))))}else if(12288===g){var oe="bad-character-ideographic-space";v.issues.push({name:oe,position:[[e,e+1," "]]}),console.log("2749 ".concat(te("push",oe,"".concat("[[".concat(e,", ").concat(e+1,', "\\n"]]')))))}else if(Yt(t,e)){var ae=Yt(t,e);console.log("2754 ".concat("[".concat(31,"m","","[",39,"m")," new issue: ",JSON.stringify(ae,null,0))),S.push(ae),console.log("2762 push above issue to ".concat("[".concat(36,"m","rawIssueStaging","[",39,"m")))}else g>=888&&g<=8591&&(console.log("2765"),888===g||889===g||g>=896&&g<=899||907===g||909===g||930===g||1328===g||1367===g||1368===g||1419===g||1419===g||1420===g||1424===g||g>=1480&&g<=1487||g>=1515&&g<=1519||g>=1525&&g<=1535||1565===g||1806===g||1867===g||1868===g||g>=1970&&g<=1983||g>=2043&&g<=2047||2094===g||2095===g||2111===g||2140===g||2141===g||2143===g||g>=2155&&g<=2207||2229===g||g>=2238&&g<=2258||2436===g||2445===g||2446===g||2449===g||2450===g||2473===g||2481===g||2483===g||2484===g||2485===g||2490===g||2491===g||2501===g||2502===g||2505===g||2506===g||g>=2511&&g<=2518||g>=2520&&g<=2523||2526===g||g>=8384&&g<=8399||g>=8433&&g<=8447||8588===g||8589===g||8590===g||8591===g)&&(v.issues.push({name:"bad-character-generic",position:[[e,e+1]]}),console.log("2836 ".concat(te("push","bad-character-generic","".concat("[[".concat(e,", ").concat(e+1,"]]"))))));if(!l&&null!==m.startAt&&t[e].trim().length&&(console.log("2849 ".concat("[".concat(90,"m","inside whitespace chunks ending clauses","[",39,"m"))),null!==i.tagNameStartAt&&null===s.attrStartAt&&(!s.attrClosingQuote.pos||s.attrClosingQuote.pos<=e)&&(">"===t[e]||"/"===t[e]&&"<>".includes(t[Lt(t,e)])))){console.log("2858");var re="tag-excessive-whitespace-inside-tag";"/"===t[m.startAt-1]&&(re="tag-whitespace-closing-slash-and-bracket"),v.issues.push({name:re,position:[[m.startAt,e]]}),console.log("2871 ".concat(te("push",re,"".concat("[[".concat(m.startAt,", ").concat(e,"]]")))))}if(l||t[e].trim().length||null!==m.startAt||(m.startAt=e,console.log("2884 ".concat(te("set","logWhitespace.startAt",m.startAt)))),(!l&&"\n"===t[e]||"\r"===t[e])&&(null===m.startAt||m.includesLinebreaks||(m.includesLinebreaks=!0,console.log("2893 ".concat(te("set","logWhitespace.includesLinebreaks",m.includesLinebreaks)))),m.lastLinebreakAt=e,console.log("2902 ".concat(te("set","logWhitespace.lastLinebreakAt",m.lastLinebreakAt)))),console.log("2910"),!l&&null!==i.tagNameStartAt&&null===i.tagNameEndAt&&!Pt(t[e])&&"<"!==t[e]&&"/"!==t[e]&&(console.log("2922 not a latin letter, thus we assume tag name ends here"),i.tagNameEndAt=e,i.tagName=t.slice(i.tagNameStartAt,e),i.recognised=kt.includes(i.tagName.toLowerCase()),console.log("2927 ".concat(te("set","logTag.tagNameEndAt",i.tagNameEndAt,"logTag.tagName",i.tagName,"logTag.recognised",i.recognised))),Zt(t[e])||"="===t[e])){var ce;console.log("2940 stray quote clauses");var ie=e+1;if(t[e+1].trim().length)if(Zt(t[e+1])||"="===t[e+1]){console.log("[".concat(36,"m","2949 traverse forward","[",39,"m"));for(var se=e+1;se<o;se++)if(console.log("[".concat(36,"m","2952 str[".concat(se,"] = str[y]"),"[",39,"m")),!Zt(t[se])&&"="!==t[se]){t[se].trim().length&&(ce=!0,ie=se);break}}else ce=!0;ce?(v.issues.push({name:"tag-stray-character",position:[[e,ie," "]]}),console.log("2974 ".concat(te("push","tag-stray-character","".concat("[[".concat(e,", ").concat(ie,', " "]]')))))):(v.issues.push({name:"tag-stray-character",position:[[e,ie]]}),console.log("2986 ".concat(te("push","tag-stray-character","".concat("[[".concat(e,", ").concat(ie,"]]"))))))}if(!l&&null!==i.tagStartAt&&null===i.tagNameStartAt&&Pt(t[e])&&i.tagStartAt<e&&(console.log("3004 within catching the start of the tag name clauses"),i.tagNameStartAt=e,console.log("3007 ".concat(te("set","logTag.tagNameStartAt",i.tagNameStartAt))),null===i.closing&&(i.closing=!1,console.log("3012 ".concat(te("set","logTag.closing",i.closing)))),i.tagStartAt<e-1&&null!==m.startAt&&(A.push({name:"tag-space-after-opening-bracket",position:[[i.tagStartAt+1,e]]}),console.log("3022 ".concat(te("stage","tag-space-after-opening-bracket","".concat("[[".concat(i.tagStartAt+1,", ").concat(e,"]]"))))))),!l&&null!==i.tagNameStartAt&&null===i.tagNameEndAt&&$t(c=t[e])&&1===c.length&&c.charCodeAt(0)>64&&c.charCodeAt(0)<91&&!t.slice(i.tagNameStartAt).toLowerCase().startsWith("doctype")&&(v.issues.push({name:"tag-name-lowercase",position:[[e,e+1,t[e].toLowerCase()]]}),console.log("3047 ".concat(te("push","tag-name-lowercase","".concat("[[".concat(e,", ").concat(e+1,", ").concat(JSON.stringify(t[e].toLowerCase(),null,4),"]]")))))),l||"/"!==t[e]||null===i.tagStartAt||null!==i.tagNameStartAt||null===i.closing&&(i.closing=!0),!l&&"<"===t[e])if(console.log("3078 ".concat("[".concat(90,"m","within catching the beginning of a tag clauses","[",39,"m"))),null===i.tagStartAt)i.tagStartAt=e,console.log("3084 ".concat(te("set","logTag.tagStartAt",i.tagStartAt)));else if(zt(t,e))if(console.log("3090 ".concat("[".concat(32,"m","","[",39,"m")," new tag starts")),null!==i.tagStartAt&&i.attributes.length&&i.attributes.some(function(t){return null!==t.attrEqualAt&&null!==t.attrOpeningQuote.pos})){console.log("3106 TAG ON THE LEFT, WE CAN ADD CLOSING BRACKET (IF MISSING)");var le=Rt(t,e);console.log("3120 ".concat(te("set","lastNonWhitespaceOnLeft",le))),">"===t[le]?(i.tagEndAt=le+1,console.log("3133 ".concat(te("set","logTag.tagEndAt",i.tagEndAt)))):(v.issues.push({name:"tag-missing-closing-bracket",position:[[le+1,e,">"]]}),console.log("3143 ".concat(te("push","tag-missing-closing-bracket","".concat("[[".concat(le+1,", ").concat(e,', ">"]]')))))),S.length&&(console.log("3153 let's process all ".concat(S.length," raw character issues at staging")),S.forEach(function(t){t.position[0][0]<i.tagStartAt?(v.issues.push(t),console.log("3160 ".concat(te("push","issueObj",t)))):console.log("3163 discarding ".concat(JSON.stringify(t,null,4)))})),function(t){console.log("057 pingTag(): ".concat(JSON.stringify(t,null,4)))}(T(i)),p(),b(),S=[],console.log("3177 ".concat(te("reset","logTag & logAttr && rawIssueStaging"))),i.tagStartAt=e,console.log("3183 ".concat(te("set","logTag.tagStartAt",i.tagStartAt)))}else console.log("3186 NOT TAG ON THE LEFT, WE CAN ADD ENCODE BRACKETS"),S.length&&(console.log("3191 ".concat(te("processing","rawIssueStaging",S))),console.log("3194 ".concat(te("log","logTag.tagStartAt",i.tagStartAt))),console.log("3197 ".concat("[".concat(31,"m",JSON.stringify(s,null,4),"[",39,"m"))),S.forEach(function(t){t.position[0][0]<e?(v.issues.push(t),console.log("3210 ".concat(te("push","issueObj",t)))):(console.log(""),console.log("3214 ".concat("[".concat(31,"m","not pushed","[",39,"m")," ","[".concat(33,"m","issueObj","[",39,"m")," = ",JSON.stringify(t,null,4),"\nbecause ","[".concat(33,"m","issueObj.position[0][0]","[",39,"m"),"=").concat(t.position[0][0]," not < ","[".concat(33,"m","logTag.tagStartAt","[",39,"m"),"=").concat(i.tagStartAt)))}),console.log("3226 wipe rawIssueStaging"),S=[]),A.length&&(console.log("3232 ".concat(te("wipe","tagIssueStaging"))),A=[]);if(l||62!==g||null===i.tagStartAt||s.attrClosingQuote&&!(s.attrClosingQuote.pos<e)||(console.log("3247 within catching a closing bracket of a tag, >, clauses"),A.length&&(console.log("3252 concat ".concat("[".concat(33,"m","tagIssueStaging","[",39,"m")," then wipe")),v.issues=v.issues.concat(A),A=[]),S.length&&(console.log("3260 ".concat(te("processing","rawIssueStaging",S))),console.log("".concat("[".concat(33,"m","logTag","[",39,"m")," = ",JSON.stringify(i,null,4))),S.forEach(function(t){t.position[0][0]<i.tagStartAt||i.attributes.some(function(n){return O=e,n.attrValueStartAt<t.position[0][0]&&n.attrValueEndAt>t.position[0][0]})&&!v.issues.some(function(n){return O=e,n.position[0][0]===t.position[0][0]&&n.position[0][1]===t.position[0][1]})?(v.issues.push(t),console.log("3286 ".concat(te("push","issueObj",t)))):(console.log(""),console.log("3290 ".concat("[".concat(31,"m","not pushed","[",39,"m")," ","[".concat(33,"m","issueObj","[",39,"m")," = ",JSON.stringify(t,null,4),"\nbecause ","[".concat(33,"m","issueObj.position[0][0]","[",39,"m"),"=").concat(t.position[0][0]," not < ","[".concat(33,"m","logTag.tagStartAt","[",39,"m"),"=").concat(i.tagStartAt)))}),console.log("3302 wipe rawIssueStaging"),S=[]),"script"===i.tagName&&(l=!0,u="script tag",console.log("3312 ".concat(te("set","doNothingUntil",l),", then reset logTag and rawIssueStaging"))),p(),b(),console.log("3323 ".concat(te("reset","logTag & logAttr")))),l&&"script tag"===u&&"t"===t[e]&&"p"===t[e-1]&&"i"===t[e-2]&&"r"===t[e-3]&&"c"===t[e-4]&&"s"===t[e-5]&&null===E){var ue=Lt(t,e),ge=Rt(t,e-5);if(console.log("3366 ".concat(te("set","charOnTheRight",ue,"charOnTheLeft",ge,"str[charOnTheRight]",t[ue],"str[charOnTheLeft]",t[ge]))),"/"===t[ge]){var pe=Rt(t,ge);console.log("3383 ".concat(te("set","charFurtherOnTheLeft",pe,"str[charFurtherOnTheLeft]",t[pe])))}else"<"===t[ge]&&console.log("3393 opening <script> tag!");l=ue+1,console.log("3397 ".concat(te("set","doNothingUntil",l)))}!l&&t[e].trim().length&&(y(),console.log("3403 ".concat(te("reset","logWhitespace")))),t[e+1]||(console.log("3409"),S.length&&(console.log("3412"),null!==i.tagStartAt&&i.attributes.some(function(t){return null!==t.attrEqualAt&&null!==t.attrOpeningQuote})?(console.log("3423"),S.forEach(function(t){t.position[0][0]<i.tagStartAt?(v.issues.push(t),console.log("3428 ".concat(te("push","issueObj",t)))):console.log("\n1519 ".concat("[".concat(31,"m","not pushed","[",39,"m")," ","[".concat(33,"m","issueObj","[",39,"m")," = ",JSON.stringify(t,null,4),"\nbecause ","[".concat(33,"m","issueObj.position[0][0]","[",39,"m"),"=").concat(t.position[0][0]," not < ","[".concat(33,"m","logTag.tagStartAt","[",39,"m"),"=").concat(i.tagStartAt))}),console.log("3443 wipe rawIssueStaging"),S=[],v.issues.push({name:"tag-missing-closing-bracket",position:[[m.startAt?m.startAt:e+1,e+1,">"]]}),console.log("3458 ".concat(te("push","tag-missing-closing-bracket","".concat("[[".concat(m.startAt?m.startAt:e+1,", ").concat(e+1,', ">"]]')))))):v.issues.some(function(t){return"file-missing-ending"===t.name})||(v.issues=v.issues.concat(S),console.log("3476 concat, then wipe ".concat("[".concat(33,"m","rawIssueStaging","[",39,"m"))),S=[])));var he={logTag:!1,logAttr:!0,logEspTag:!0,logWhitespace:!1,logLineEndings:!1,retObj:!1,tagIssueStaging:!1,rawIssueStaging:!1,withinQuotes:!0};console.log("".concat(Object.keys(he).some(function(t){return he[t]})?"".concat("[".concat(31,"m"," ","[",39,"m")):"").concat(he.logTag&&i.tagStartAt&&null!==i.tagStartAt?"".concat("[".concat(33,"m","logTag","[",39,"m")," ",JSON.stringify(i,null,4),"; "):"").concat(he.logAttr&&s.attrStartAt&&null!==s.attrStartAt?"".concat("[".concat(33,"m","logAttr","[",39,"m")," ",JSON.stringify(s,null,4),"; "):"").concat(he.logEspTag&&d.headStartAt&&null!==d.headStartAt?"".concat("[".concat(33,"m","logEspTag","[",39,"m")," ",JSON.stringify(d,null,4),"; "):"").concat(he.logWhitespace&&m.startAt&&null!==m.startAt?"".concat("[".concat(33,"m","logWhitespace","[",39,"m")," ",JSON.stringify(m,null,0),"; "):"").concat(he.logLineEndings?"".concat("[".concat(33,"m","logLineEndings","[",39,"m")," ",JSON.stringify(x,null,0),"; "):"").concat(he.retObj?"".concat("[".concat(33,"m","retObj","[",39,"m")," ",JSON.stringify(v,null,4),"; "):"").concat(he.tagIssueStaging&&A.length?"\n".concat("[".concat(33,"m","tagIssueStaging","[",39,"m")," ",JSON.stringify(A,null,4),"; "):"").concat(he.rawIssueStaging&&S.length?"\n".concat("[".concat(33,"m","rawIssueStaging","[",39,"m")," ",JSON.stringify(S,null,4),"; "):"").concat(he.withinQuotes&&E?"\n".concat("[".concat(33,"m","withinQuotes","[",39,"m")," ",JSON.stringify(E,null,4),"; ","[".concat(33,"m","withinQuotesEndAt","[",39,"m")," = ").concat(q,"; "):"")),O=e},O=0,N=t.length;O<N;O++)_(O,N);a.style&&a.style.line_endings_CR_LF_CRLF||!(x.cr.length&&x.lf.length||x.lf.length&&x.crlf.length||x.cr.length&&x.crlf.length)||(x.cr.length>x.crlf.length&&x.cr.length>x.lf.length?(console.log("3629 CR clearly prevalent"),x.crlf.length&&x.crlf.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-CR-mainly",position:[[t[0],t[1],"\r"]]})}),x.lf.length&&x.lf.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-CR-mainly",position:[[t[0],t[1],"\r"]]})})):x.lf.length>x.crlf.length&&x.lf.length>x.cr.length?(console.log("3651 LF clearly prevalent"),x.crlf.length&&x.crlf.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})}),x.cr.length&&x.cr.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})})):x.crlf.length>x.lf.length&&x.crlf.length>x.cr.length?(console.log("3673 CRLF clearly prevalent"),x.cr.length&&x.cr.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})}),x.lf.length&&x.lf.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})})):x.crlf.length===x.lf.length&&x.lf.length===x.cr.length?(console.log("3695 same amount of each type of EOL"),x.crlf.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})}),x.cr.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})})):x.cr.length===x.crlf.length&&x.cr.length>x.lf.length?(console.log("3714 CR & CRLF are prevalent over LF"),x.cr.length&&x.cr.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})}),x.lf.length&&x.lf.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})})):(x.lf.length===x.crlf.length&&x.lf.length>x.cr.length||x.cr.length===x.lf.length&&x.cr.length>x.crlf.length)&&(console.log("3739 LF && CRLF are prevalent over CR or CR & LF are prevalent over CRLF"),x.cr.length&&x.cr.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})}),x.crlf.length&&x.crlf.forEach(function(t){v.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})})));var C=function(t,e){function n(t){return!("string"==typeof t&&1===t.length&&t.toUpperCase()!==t.toLowerCase())}if("string"!=typeof t)throw new Error(`string-fix-broken-named-entities: [THROW_ID_01] the first input argument must be string! It was given as:\n${JSON.stringify(t,null,4)} (${typeof t}-type)`);const o={decode:!1,cb:null,progressFn:null};let a;if(null!=e){if(!h(e))throw new Error(`string-fix-broken-named-entities: [THROW_ID_02] the second input argument must be a plain object! I was given as:\n${JSON.stringify(e,null,4)} (${typeof e}-type)`);a=Object.assign({},o,e)}else a=o;if(a.cb&&"function"!=typeof a.cb)throw new TypeError(`string-fix-broken-named-entities: [THROW_ID_03] opts.cb must be a function (or falsey)! Currently it's: ${typeof a.cb}, equal to: ${JSON.stringify(a.cb,null,4)}`);if(a.progressFn&&"function"!=typeof a.progressFn)throw new TypeError(`string-fix-broken-named-entities: [THROW_ID_04] opts.progressFn must be a function (or falsey)! Currently it's: ${typeof a.progressFn}, equal to: ${JSON.stringify(a.progressFn,null,4)}`);let r=!1;const c={nameStartsAt:null,ampersandNecessary:null,patience:2,matchedN:null,matchedB:null,matchedS:null,matchedP:null,matchedSemicol:null};let i=T(c);const s=()=>{i=T(c)},l=[];let u,g,p,d,m,f;const b=t.length+1;let w=0;t:for(let e=0;e<b;e++)if(a.progressFn&&(m=Math.floor(w/b*100))!==f&&(f=m,a.progressFn(m)),p=(null!==i.matchedN?1:0)+(null!==i.matchedB?1:0)+(null!==i.matchedS?1:0)+(null!==i.matchedP?1:0),d=[i.matchedN,i.matchedB,i.matchedS,i.matchedP].filter(t=>null!==t),u=Math.min(...d),g=Math.max(...d),null!==i.nameStartsAt&&p>2&&(null!==i.matchedSemicol||!i.ampersandNecessary||n(t[i.nameStartsAt-1])&&n(t[e])||(n(t[i.nameStartsAt-1])||n(t[e]))&&g-u<=4||null!==i.matchedN&&null!==i.matchedB&&null!==i.matchedS&&null!==i.matchedP&&i.matchedN+1===i.matchedB&&i.matchedB+1===i.matchedS&&i.matchedS+1===i.matchedP)&&(!t[e]||null!==i.matchedN&&null!==i.matchedB&&null!==i.matchedS&&null!==i.matchedP&&t[e]!==t[e-1]||"n"!==t[e].toLowerCase()&&"b"!==t[e].toLowerCase()&&"s"!==t[e].toLowerCase()&&"p"!==t[e].toLowerCase()||";"===t[e-1])&&";"!==t[e]&&(void 0===t[e+1]||";"!==t[e+1]))"&nbsp;"!==t.slice(i.nameStartsAt,e)&&(null==i.nameStartsAt||e-i.nameStartsAt!=5||"&nbsp"!==t.slice(i.nameStartsAt,e)||a.decode?a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-malformed-nbsp",entityName:"nbsp",rangeFrom:i.nameStartsAt,rangeTo:e,rangeValEncoded:"&nbsp;",rangeValDecoded:""})):l.push([i.nameStartsAt,e,a.decode?"":"&nbsp;"]):a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"nbsp",rangeFrom:e,rangeTo:e,rangeValEncoded:";",rangeValDecoded:";"})):l.push([e,e,";"])),s();else if(t[e]&&";"===t[e-1]&&";"!==t[e]&&p>0)s();else{if("&"===t[e]){if("a"===t[e+1]&&"m"===t[e+2]&&"p"===t[e+3]&&";"===t[e+4]&&t[e+5]&&t[e+5].trim().length&&"&"!==t[e+5]&&Ct.some(n=>t.slice(e+5).startsWith(`${n};`))){null===i.nameStartsAt&&(i.nameStartsAt=e),r=!0;let n=e+5;for(;"a"===t[n]&&"m"===t[n+1]&&"p"===t[n+2]&&";"===t[n+3];)n+=4;a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-amp-repetitions",entityName:"amp",rangeFrom:e+1,rangeTo:n,rangeValEncoded:null,rangeValDecoded:null})):l.push([e+1,n]),e=n-1;continue t}if(null===i.nameStartsAt&&null===i.ampersandNecessary&&(i.nameStartsAt=e,i.ampersandNecessary=!1),"a"===t[e+1]&&"n"===t[e+2]&&"g"===t[e+3]){if("s"!==t[e+4]&&";"!==t[e+4]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"ang",rangeFrom:e+4,rangeTo:e+4,rangeValEncoded:"&ang;",rangeValDecoded:""})):l.push([e,e+4,a.decode?"":"&ang;"]),e+=3;continue t}if("s"===t[e+4]&&"t"===t[e+5]&&";"!==t[e+6]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"angst",rangeFrom:e+6,rangeTo:e+6,rangeValEncoded:"&angst;",rangeValDecoded:""})):l.push([e,e+6,a.decode?"":"&angst;"]),e+=5;continue t}}else if("p"===t[e+1]&&"i"===t[e+2]){if("v"!==t[e+3]&&";"!==t[e+3]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"pi",rangeFrom:e+3,rangeTo:e+3,rangeValEncoded:"&pi;",rangeValDecoded:""})):l.push([e,e+3,a.decode?"":"&pi;"]),e+=3;continue t}if("v"===t[e+3]&&";"!==t[e+4]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"piv",rangeFrom:e+4,rangeTo:e+4,rangeValEncoded:"&piv;",rangeValDecoded:""})):l.push([e,e+4,a.decode?"":"&piv;"]),e+=3;continue t}}else{if("P"===t[e+1]&&"i"===t[e+2]&&";"!==t[e+3]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"Pi",rangeFrom:e+3,rangeTo:e+3,rangeValEncoded:"&Pi;",rangeValDecoded:""})):l.push([e,e+3,a.decode?"":"&Pi;"]),e+=2;continue t}if("s"===t[e+1]){if("i"===t[e+2]&&"g"===t[e+3]&&"m"===t[e+4]&&"a"===t[e+5]&&";"!==t[e+6]&&"f"!==t[e+6]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"sigma",rangeFrom:e+6,rangeTo:e+6,rangeValEncoded:"&sigma;",rangeValDecoded:""})):l.push([e,e+6,a.decode?"":"&sigma;"]),e+=5;continue t}if("u"===t[e+2]&&"b"===t[e+3]&&";"!==t[e+4]&&"e"!==t[e+4]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"sub",rangeFrom:e+4,rangeTo:e+4,rangeValEncoded:"&sub;",rangeValDecoded:""})):l.push([e,e+4,a.decode?"":"&sub;"]),e+=3;continue t}if("u"===t[e+2]&&"p"===t[e+3]&&"f"!==t[e+4]&&"e"!==t[e+4]&&"1"!==t[e+4]&&"2"!==t[e+4]&&"3"!==t[e+4]&&";"!==t[e+4]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"sup",rangeFrom:e+4,rangeTo:e+4,rangeValEncoded:"&sup;",rangeValDecoded:""})):l.push([e,e+4,a.decode?"":"&sup;"]),e+=3;continue t}}else if("t"===t[e+1]){if("h"===t[e+2]&&"e"===t[e+3]&&"t"===t[e+4]&&"a"===t[e+5]&&"s"!==t[e+6]&&";"!==t[e+6]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"theta",rangeFrom:e+6,rangeTo:e+6,rangeValEncoded:"&theta;",rangeValDecoded:""})):l.push([e,e+6,a.decode?"":"&theta;"]),e+=5;continue t}if("h"===t[e+2]&&"i"===t[e+3]&&"n"===t[e+4]&&"s"===t[e+5]&&"p"===t[e+6]&&";"!==t[e+7]){a.cb?l.push(a.cb({ruleName:"bad-named-html-entity-missing-semicolon",entityName:"thinsp",rangeFrom:e+7,rangeTo:e+7,rangeValEncoded:"&thinsp;",rangeValDecoded:""})):l.push([e,e+7,a.decode?"":"&thinsp;"]),e+=6;continue t}}}}if(t[e]&&"n"===t[e].toLowerCase()){if("i"===t[e-1]&&"s"===t[e+1]){s();continue t}i.matchedN=e,null===i.nameStartsAt&&(i.nameStartsAt=e,null!==i.ampersandNecessary||r?!0!==i.ampersandNecessary&&(i.ampersandNecessary=!1):i.ampersandNecessary=!0)}if(t[e]&&"b"===t[e].toLowerCase())if(null!==i.nameStartsAt)i.matchedB=e;else{if(!i.patience){s();continue t}i.patience--,i.nameStartsAt=e,i.matchedB=e,null!==i.ampersandNecessary||r?!0!==i.ampersandNecessary&&(i.ampersandNecessary=!1):i.ampersandNecessary=!0}if(t[e]&&"s"===t[e].toLowerCase())if(null!==i.nameStartsAt)i.matchedS=e;else{if(!i.patience){s();continue t}i.patience--,i.nameStartsAt=e,i.matchedS=e,null!==i.ampersandNecessary||r?!0!==i.ampersandNecessary&&(i.ampersandNecessary=!1):i.ampersandNecessary=!0}if(t[e]&&"p"===t[e].toLowerCase())if(null!==i.nameStartsAt)i.matchedP=e;else{if(!i.patience){s();continue t}i.patience--,i.nameStartsAt=e,i.matchedP=e,null!==i.ampersandNecessary||r?!0!==i.ampersandNecessary&&(i.ampersandNecessary=!1):i.ampersandNecessary=!0}if(";"===t[e]&&null!==i.nameStartsAt&&(i.matchedSemicol=e),t[e]&&0===t[e].trim().length&&null!==i.nameStartsAt&&s(),r&&(r=!1),null!==i.nameStartsAt&&e>i.nameStartsAt&&t[e]&&"n"!==t[e].toLowerCase()&&"b"!==t[e].toLowerCase()&&"s"!==t[e].toLowerCase()&&"p"!==t[e].toLowerCase()&&"&"!==t[e]&&";"!==t[e]){if(!i.patience){s();continue t}i.patience=i.patience-1}w++}return l.length?a.cb?l:Nt(l):null}(t,{cb:function(t){return{name:t.ruleName,position:[null!=t.rangeValEncoded?[t.rangeFrom,t.rangeTo,t.rangeValEncoded]:[t.rangeFrom,t.rangeTo]]}}});return console.log("3801 [".concat(33,"m","","[",39,"m[",31,"m","","[",39,"m[",34,"m","","[",39,"m ",te("log","htmlEntityFixes",C))),Mt(C)&&C.length&&(v.issues=v.issues.filter(function(t){return"bad-character-unencoded-ampersand"!==t.name||C.every(function(e){return t.position[0][0]!==e.position[0][0]})}).concat(C||[])),console.log("3835 BEFORE FIX"),console.log("3836 ".concat(te("log","retObj.issues",v.issues))),v.fix=Mt(v.issues)&&v.issues.length?Nt(v.issues.reduce(function(t,e){return t.concat(e.position)},[])):null,console.log("3846 ".concat(te("log","retObj.fix",v.fix))),v},t.version="1.1.2",t.applicableRules=ee,Object.defineProperty(t,"__esModule",{value:!0})});
