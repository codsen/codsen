/**
 * emlint
 * Detects errors in HTML/CSS, proposes fixes, email-template friendly
 * Version: 0.7.0
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://gitlab.com/codsen/codsen/tree/master/packages/emlint
 */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).emlint={})}(this,function(t){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,n){return t(n={exports:{}},n.exports),n.exports}var r=o(function(t,n){var o,r,a,c,s,i,l,u,g,f,p,h,m,d,y,b,A,v,_,w;t.exports=(o="function"==typeof Promise,r="object"==typeof self?self:e,a="undefined"!=typeof Symbol,c="undefined"!=typeof Map,s="undefined"!=typeof Set,i="undefined"!=typeof WeakMap,l="undefined"!=typeof WeakSet,u="undefined"!=typeof DataView,g=a&&void 0!==Symbol.iterator,f=a&&void 0!==Symbol.toStringTag,p=s&&"function"==typeof Set.prototype.entries,h=c&&"function"==typeof Map.prototype.entries,m=p&&Object.getPrototypeOf((new Set).entries()),d=h&&Object.getPrototypeOf((new Map).entries()),y=g&&"function"==typeof Array.prototype[Symbol.iterator],b=y&&Object.getPrototypeOf([][Symbol.iterator]()),A=g&&"function"==typeof String.prototype[Symbol.iterator],v=A&&Object.getPrototypeOf(""[Symbol.iterator]()),_=8,w=-1,function(t){var n=typeof t;if("object"!==n)return n;if(null===t)return"null";if(t===r)return"global";if(Array.isArray(t)&&(!1===f||!(Symbol.toStringTag in t)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&t===window.location)return"Location";if("object"==typeof window.document&&t===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&t===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&t===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&t instanceof window.HTMLElement){if("BLOCKQUOTE"===t.tagName)return"HTMLQuoteElement";if("TD"===t.tagName)return"HTMLTableDataCellElement";if("TH"===t.tagName)return"HTMLTableHeaderCellElement"}}var e=f&&t[Symbol.toStringTag];if("string"==typeof e)return e;var a=Object.getPrototypeOf(t);return a===RegExp.prototype?"RegExp":a===Date.prototype?"Date":o&&a===Promise.prototype?"Promise":s&&a===Set.prototype?"Set":c&&a===Map.prototype?"Map":l&&a===WeakSet.prototype?"WeakSet":i&&a===WeakMap.prototype?"WeakMap":u&&a===DataView.prototype?"DataView":c&&a===d?"Map Iterator":s&&a===m?"Set Iterator":y&&a===b?"Array Iterator":A&&a===v?"String Iterator":null===a?"Object":Object.prototype.toString.call(t).slice(_,w)})});function a(t,n,e){if(n!=n)return function(t,n,e,o){for(var r=t.length,a=e+(o?1:-1);o?a--:++a<r;)if(n(t[a],a,t))return a;return-1}(t,s,e);for(var o=e-1,r=t.length;++o<r;)if(t[o]===n)return o;return-1}function c(t,n,e,o){for(var r=e-1,a=t.length;++r<a;)if(o(t[r],n))return r;return-1}function s(t){return t!=t}var i=Array.prototype.splice;function l(t,n,e,o){var r,s=o?c:a,l=-1,u=n.length,g=t;for(t===n&&(n=function(t,n){var e=-1,o=t.length;n||(n=Array(o));for(;++e<o;)n[e]=t[e];return n}(n)),e&&(g=function(t,n){for(var e=-1,o=t?t.length:0,r=Array(o);++e<o;)r[e]=n(t[e],e,t);return r}(t,(r=e,function(t){return r(t)})));++l<u;)for(var f=0,p=n[l],h=e?e(p):p;(f=s(g,h,f,o))>-1;)g!==t&&i.call(g,f,1),i.call(t,f,1);return t}var u=function(t,n){return t&&t.length&&n&&n.length?l(t,n):t},g=o(function(t,n){var o=200,r="__lodash_hash_undefined__",a=9007199254740991,c="[object Arguments]",s="[object Boolean]",i="[object Date]",l="[object Function]",u="[object GeneratorFunction]",g="[object Map]",f="[object Number]",p="[object Object]",h="[object RegExp]",m="[object Set]",d="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",A="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",O="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",j="[object Uint32Array]",N=/\w*$/,R=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,Q={};Q[c]=Q["[object Array]"]=Q[b]=Q[A]=Q[s]=Q[i]=Q[v]=Q[_]=Q[w]=Q[O]=Q[S]=Q[g]=Q[f]=Q[p]=Q[h]=Q[m]=Q[d]=Q[y]=Q[E]=Q[C]=Q[T]=Q[j]=!0,Q["[object Error]"]=Q[l]=Q["[object WeakMap]"]=!1;var I="object"==typeof e&&e&&e.Object===Object&&e,F="object"==typeof self&&self&&self.Object===Object&&self,k=I||F||Function("return this")(),$=n&&!n.nodeType&&n,q=$&&t&&!t.nodeType&&t,x=q&&q.exports===$;function J(t,n){return t.set(n[0],n[1]),t}function V(t,n){return t.add(n),t}function P(t,n,e,o){var r=-1,a=t?t.length:0;for(o&&a&&(e=t[++r]);++r<a;)e=n(e,t[r],r,t);return e}function W(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}function M(t){var n=-1,e=Array(t.size);return t.forEach(function(t,o){e[++n]=[o,t]}),e}function D(t,n){return function(e){return t(n(e))}}function H(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}var K,U=Array.prototype,B=Function.prototype,Z=Object.prototype,G=k["__core-js_shared__"],z=(K=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",X=B.toString,Y=Z.hasOwnProperty,tt=Z.toString,nt=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=x?k.Buffer:void 0,ot=k.Symbol,rt=k.Uint8Array,at=D(Object.getPrototypeOf,Object),ct=Object.create,st=Z.propertyIsEnumerable,it=U.splice,lt=Object.getOwnPropertySymbols,ut=et?et.isBuffer:void 0,gt=D(Object.keys,Object),ft=qt(k,"DataView"),pt=qt(k,"Map"),ht=qt(k,"Promise"),mt=qt(k,"Set"),dt=qt(k,"WeakMap"),yt=qt(Object,"create"),bt=Wt(ft),At=Wt(pt),vt=Wt(ht),_t=Wt(mt),wt=Wt(dt),Ot=ot?ot.prototype:void 0,St=Ot?Ot.valueOf:void 0;function Et(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}function Ct(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}function Tt(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}function jt(t){this.__data__=new Ct(t)}function Nt(t,n){var e=Dt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&Y.call(t,"callee")&&(!st.call(t,"callee")||tt.call(t)==c)}(t)?function(t,n){for(var e=-1,o=Array(t);++e<t;)o[e]=n(e);return o}(t.length,String):[],o=e.length,r=!!o;for(var a in t)!n&&!Y.call(t,a)||r&&("length"==a||Vt(a,o))||e.push(a);return e}function Rt(t,n,e){var o=t[n];Y.call(t,n)&&Mt(o,e)&&(void 0!==e||n in t)||(t[n]=e)}function Lt(t,n){for(var e=t.length;e--;)if(Mt(t[e][0],n))return e;return-1}function Qt(t,n,e,o,r,a,R){var L;if(o&&(L=a?o(t,r,a,R):o(t)),void 0!==L)return L;if(!Bt(t))return t;var I=Dt(t);if(I){if(L=function(t){var n=t.length,e=t.constructor(n);n&&"string"==typeof t[0]&&Y.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!n)return function(t,n){var e=-1,o=t.length;n||(n=Array(o));for(;++e<o;)n[e]=t[e];return n}(t,L)}else{var F=Jt(t),k=F==l||F==u;if(Kt(t))return function(t,n){if(n)return t.slice();var e=new t.constructor(t.length);return t.copy(e),e}(t,n);if(F==p||F==c||k&&!a){if(W(t))return a?t:{};if(L=function(t){return"function"!=typeof t.constructor||Pt(t)?{}:(n=at(t),Bt(n)?ct(n):{});var n}(k?{}:t),!n)return function(t,n){return kt(t,xt(t),n)}(t,function(t,n){return t&&kt(n,Zt(n),t)}(L,t))}else{if(!Q[F])return a?t:{};L=function(t,n,e,o){var r=t.constructor;switch(n){case b:return Ft(t);case s:case i:return new r(+t);case A:return function(t,n){var e=n?Ft(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,o);case v:case _:case w:case O:case S:case E:case C:case T:case j:return function(t,n){var e=n?Ft(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,o);case g:return function(t,n,e){return P(n?e(M(t),!0):M(t),J,new t.constructor)}(t,o,e);case f:case d:return new r(t);case h:return(l=new(c=t).constructor(c.source,N.exec(c))).lastIndex=c.lastIndex,l;case m:return function(t,n,e){return P(n?e(H(t),!0):H(t),V,new t.constructor)}(t,o,e);case y:return a=t,St?Object(St.call(a)):{}}var a;var c,l}(t,F,Qt,n)}}R||(R=new jt);var $=R.get(t);if($)return $;if(R.set(t,L),!I)var q=e?function(t){return function(t,n,e){var o=n(t);return Dt(t)?o:function(t,n){for(var e=-1,o=n.length,r=t.length;++e<o;)t[r+e]=n[e];return t}(o,e(t))}(t,Zt,xt)}(t):Zt(t);return function(t,n){for(var e=-1,o=t?t.length:0;++e<o&&!1!==n(t[e],e,t););}(q||t,function(r,a){q&&(r=t[a=r]),Rt(L,a,Qt(r,n,e,o,a,t,R))}),L}function It(t){return!(!Bt(t)||(n=t,z&&z in n))&&(Ut(t)||W(t)?nt:R).test(Wt(t));var n}function Ft(t){var n=new t.constructor(t.byteLength);return new rt(n).set(new rt(t)),n}function kt(t,n,e,o){e||(e={});for(var r=-1,a=n.length;++r<a;){var c=n[r],s=o?o(e[c],t[c],c,e,t):void 0;Rt(e,c,void 0===s?t[c]:s)}return e}function $t(t,n){var e,o,r=t.__data__;return("string"==(o=typeof(e=n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?r["string"==typeof n?"string":"hash"]:r.map}function qt(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return It(e)?e:void 0}Et.prototype.clear=function(){this.__data__=yt?yt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var n=this.__data__;if(yt){var e=n[t];return e===r?void 0:e}return Y.call(n,t)?n[t]:void 0},Et.prototype.has=function(t){var n=this.__data__;return yt?void 0!==n[t]:Y.call(n,t)},Et.prototype.set=function(t,n){return this.__data__[t]=yt&&void 0===n?r:n,this},Ct.prototype.clear=function(){this.__data__=[]},Ct.prototype.delete=function(t){var n=this.__data__,e=Lt(n,t);return!(e<0||(e==n.length-1?n.pop():it.call(n,e,1),0))},Ct.prototype.get=function(t){var n=this.__data__,e=Lt(n,t);return e<0?void 0:n[e][1]},Ct.prototype.has=function(t){return Lt(this.__data__,t)>-1},Ct.prototype.set=function(t,n){var e=this.__data__,o=Lt(e,t);return o<0?e.push([t,n]):e[o][1]=n,this},Tt.prototype.clear=function(){this.__data__={hash:new Et,map:new(pt||Ct),string:new Et}},Tt.prototype.delete=function(t){return $t(this,t).delete(t)},Tt.prototype.get=function(t){return $t(this,t).get(t)},Tt.prototype.has=function(t){return $t(this,t).has(t)},Tt.prototype.set=function(t,n){return $t(this,t).set(t,n),this},jt.prototype.clear=function(){this.__data__=new Ct},jt.prototype.delete=function(t){return this.__data__.delete(t)},jt.prototype.get=function(t){return this.__data__.get(t)},jt.prototype.has=function(t){return this.__data__.has(t)},jt.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ct){var r=e.__data__;if(!pt||r.length<o-1)return r.push([t,n]),this;e=this.__data__=new Tt(r)}return e.set(t,n),this};var xt=lt?D(lt,Object):function(){return[]},Jt=function(t){return tt.call(t)};function Vt(t,n){return!!(n=null==n?a:n)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<n}function Pt(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Z)}function Wt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Mt(t,n){return t===n||t!=t&&n!=n}(ft&&Jt(new ft(new ArrayBuffer(1)))!=A||pt&&Jt(new pt)!=g||ht&&"[object Promise]"!=Jt(ht.resolve())||mt&&Jt(new mt)!=m||dt&&"[object WeakMap]"!=Jt(new dt))&&(Jt=function(t){var n=tt.call(t),e=n==p?t.constructor:void 0,o=e?Wt(e):void 0;if(o)switch(o){case bt:return A;case At:return g;case vt:return"[object Promise]";case _t:return m;case wt:return"[object WeakMap]"}return n});var Dt=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}(t.length)&&!Ut(t)}var Kt=ut||function(){return!1};function Ut(t){var n=Bt(t)?tt.call(t):"";return n==l||n==u}function Bt(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Zt(t){return Ht(t)?Nt(t):function(t){if(!Pt(t))return gt(t);var n=[];for(var e in Object(t))Y.call(t,e)&&"constructor"!=e&&n.push(e);return n}(t)}t.exports=function(t){return Qt(t,!0,!0)}}),f="[object Object]";var p,h,m=Function.prototype,d=Object.prototype,y=m.toString,b=d.hasOwnProperty,A=y.call(Object),v=d.toString,_=(p=Object.getPrototypeOf,h=Object,function(t){return p(h(t))});var w=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||v.call(t)!=f||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t))return!1;var n=_(t);if(null===n)return!0;var e=b.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&y.call(e)==A};const O=Array.isArray;function S(t){return"string"==typeof t&&t.length>0&&"."===t[0]?t.slice(1):t}function E(t,n){return function t(n,e,o){const r=g(n);let a,c,s,i,l;if((o=Object.assign({depth:-1,path:""},o)).depth+=1,O(r))for(a=0,c=r.length;a<c;a++){const n=`${o.path}.${a}`;void 0!==r[a]?(o.parent=g(r),o.parentType="array",s=t(e(r[a],void 0,Object.assign({},o,{path:S(n)})),e,Object.assign({},o,{path:S(n)})),Number.isNaN(s)&&a<r.length?(r.splice(a,1),a-=1):r[a]=s):r.splice(a,1)}else if(w(r))for(a=0,c=(i=Object.keys(r)).length;a<c;a++){l=i[a];const n=`${o.path}.${l}`;0===o.depth&&null!=l&&(o.topmostKey=l),o.parent=g(r),o.parentType="object",s=t(e(l,r[l],Object.assign({},o,{path:S(n)})),e,Object.assign({},o,{path:S(n)})),Number.isNaN(s)?delete r[l]:r[l]=s}return r}(t,n,{})}var C="__lodash_hash_undefined__",T=9007199254740991,j="[object Function]",N="[object GeneratorFunction]",R=/^\[object .+?Constructor\]$/,L="object"==typeof e&&e&&e.Object===Object&&e,Q="object"==typeof self&&self&&self.Object===Object&&self,I=L||Q||Function("return this")();function F(t,n){return!!(t?t.length:0)&&function(t,n,e){if(n!=n)return function(t,n,e,o){var r=t.length,a=e+(o?1:-1);for(;o?a--:++a<r;)if(n(t[a],a,t))return a;return-1}(t,q,e);var o=e-1,r=t.length;for(;++o<r;)if(t[o]===n)return o;return-1}(t,n,0)>-1}function k(t,n,e){for(var o=-1,r=t?t.length:0;++o<r;)if(e(n,t[o]))return!0;return!1}function $(t,n){for(var e=-1,o=t?t.length:0,r=Array(o);++e<o;)r[e]=n(t[e],e,t);return r}function q(t){return t!=t}function x(t){return function(n){return t(n)}}function J(t,n){return t.has(n)}var V,P=Array.prototype,W=Function.prototype,M=Object.prototype,D=I["__core-js_shared__"],H=(V=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",K=W.toString,U=M.hasOwnProperty,B=M.toString,Z=RegExp("^"+K.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=P.splice,z=Math.max,X=Math.min,Y=lt(I,"Map"),tt=lt(Object,"create");function nt(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}function et(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}function ot(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}function rt(t){var n=-1,e=t?t.length:0;for(this.__data__=new ot;++n<e;)this.add(t[n])}function at(t,n){for(var e,o,r=t.length;r--;)if((e=t[r][0])===(o=n)||e!=e&&o!=o)return r;return-1}function ct(t){return!(!gt(t)||(n=t,H&&H in n))&&(ut(t)||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t)?Z:R).test(function(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var n}function st(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=T}(t.length)&&!ut(t)}(t)}(t)?t:[]}function it(t,n){var e,o,r=t.__data__;return("string"==(o=typeof(e=n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?r["string"==typeof n?"string":"hash"]:r.map}function lt(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return ct(e)?e:void 0}function ut(t){var n=gt(t)?B.call(t):"";return n==j||n==N}function gt(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}nt.prototype.clear=function(){this.__data__=tt?tt(null):{}},nt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},nt.prototype.get=function(t){var n=this.__data__;if(tt){var e=n[t];return e===C?void 0:e}return U.call(n,t)?n[t]:void 0},nt.prototype.has=function(t){var n=this.__data__;return tt?void 0!==n[t]:U.call(n,t)},nt.prototype.set=function(t,n){return this.__data__[t]=tt&&void 0===n?C:n,this},et.prototype.clear=function(){this.__data__=[]},et.prototype.delete=function(t){var n=this.__data__,e=at(n,t);return!(e<0||(e==n.length-1?n.pop():G.call(n,e,1),0))},et.prototype.get=function(t){var n=this.__data__,e=at(n,t);return e<0?void 0:n[e][1]},et.prototype.has=function(t){return at(this.__data__,t)>-1},et.prototype.set=function(t,n){var e=this.__data__,o=at(e,t);return o<0?e.push([t,n]):e[o][1]=n,this},ot.prototype.clear=function(){this.__data__={hash:new nt,map:new(Y||et),string:new nt}},ot.prototype.delete=function(t){return it(this,t).delete(t)},ot.prototype.get=function(t){return it(this,t).get(t)},ot.prototype.has=function(t){return it(this,t).has(t)},ot.prototype.set=function(t,n){return it(this,t).set(t,n),this},rt.prototype.add=rt.prototype.push=function(t){return this.__data__.set(t,C),this},rt.prototype.has=function(t){return this.__data__.has(t)};var ft=function(t,n){return n=z(void 0===n?t.length-1:n,0),function(){for(var e=arguments,o=-1,r=z(e.length-n,0),a=Array(r);++o<r;)a[o]=e[n+o];o=-1;for(var c=Array(n+1);++o<n;)c[o]=e[o];return c[n]=a,function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}(t,this,c)}}(function(t){var n=$(t,st);return n.length&&n[0]===t[0]?function(t,n,e){for(var o=e?k:F,r=t[0].length,a=t.length,c=a,s=Array(a),i=1/0,l=[];c--;){var u=t[c];c&&n&&(u=$(u,x(n))),i=X(u.length,i),s[c]=!e&&(n||r>=120&&u.length>=120)?new rt(c&&u):void 0}u=t[0];var g=-1,f=s[0];t:for(;++g<r&&l.length<i;){var p=u[g],h=n?n(p):p;if(p=e||0!==p?p:0,!(f?J(f,h):o(l,h,e))){for(c=a;--c;){var m=s[c];if(!(m?J(m,h):o(t[c],h,e)))continue t}f&&f.push(h),l.push(p)}}return l}(n):[]});function pt(t){return"string"==typeof t?t.length>0?[t]:[]:t}var ht=o(function(t){t.exports=function(){var t=Object.prototype.toString;function n(t,n){return null!=t&&Object.prototype.hasOwnProperty.call(t,n)}function e(t){if(!t)return!0;if(r(t)&&0===t.length)return!0;if("string"!=typeof t){for(var e in t)if(n(t,e))return!1;return!0}return!1}function o(n){return t.call(n)}var r=Array.isArray||function(n){return"[object Array]"===t.call(n)};function a(t){var n=parseInt(t);return n.toString()===t?n:t}function c(t){t=t||{};var c=function(t){return Object.keys(c).reduce(function(n,e){return"create"===e?n:("function"==typeof c[e]&&(n[e]=c[e].bind(c,t)),n)},{})};function s(e,o){return t.includeInheritedProps||"number"==typeof o&&Array.isArray(e)||n(e,o)}function i(t,n){if(s(t,n))return t[n]}function l(t,n,e,o){if("number"==typeof n&&(n=[n]),!n||0===n.length)return t;if("string"==typeof n)return l(t,n.split(".").map(a),e,o);var r=n[0],c=i(t,r);return 1===n.length?(void 0!==c&&o||(t[r]=e),c):(void 0===c&&("number"==typeof n[1]?t[r]=[]:t[r]={}),l(t[r],n.slice(1),e,o))}return c.has=function(e,o){if("number"==typeof o?o=[o]:"string"==typeof o&&(o=o.split(".")),!o||0===o.length)return!!e;for(var c=0;c<o.length;c++){var s=a(o[c]);if(!("number"==typeof s&&r(e)&&s<e.length||(t.includeInheritedProps?s in Object(e):n(e,s))))return!1;e=e[s]}return!0},c.ensureExists=function(t,n,e){return l(t,n,e,!0)},c.set=function(t,n,e,o){return l(t,n,e,o)},c.insert=function(t,n,e,o){var a=c.get(t,n);o=~~o,r(a)||(a=[],c.set(t,n,a)),a.splice(o,0,e)},c.empty=function(t,n){var a,i;if(!e(n)&&null!=t&&(a=c.get(t,n))){if("string"==typeof a)return c.set(t,n,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===o(t)}(a))return c.set(t,n,!1);if("number"==typeof a)return c.set(t,n,0);if(r(a))a.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===o(t)}(a))return c.set(t,n,null);for(i in a)s(a,i)&&delete a[i]}}},c.push=function(t,n){var e=c.get(t,n);r(e)||(e=[],c.set(t,n,e)),e.push.apply(e,Array.prototype.slice.call(arguments,2))},c.coalesce=function(t,n,e){for(var o,r=0,a=n.length;r<a;r++)if(void 0!==(o=c.get(t,n[r])))return o;return e},c.get=function(t,n,e){if("number"==typeof n&&(n=[n]),!n||0===n.length)return t;if(null==t)return e;if("string"==typeof n)return c.get(t,n.split("."),e);var o=a(n[0]),r=i(t,o);return void 0===r?e:1===n.length?r:c.get(t[o],n.slice(1),e)},c.del=function(t,n){if("number"==typeof n&&(n=[n]),null==t)return t;if(e(n))return t;if("string"==typeof n)return c.del(t,n.split("."));var o=a(n[0]);return s(t,o)?1!==n.length?c.del(t[o],n.slice(1)):(r(t)?t.splice(o,1):delete t[o],t):t},c}var s=c();return s.create=c,s.withInheritedProps=c({includeInheritedProps:!0}),s}()}),mt=function(t){var n=t%100;if(n>=10&&n<=20)return"th";var e=t%10;return 1===e?"st":2===e?"nd":3===e?"rd":"th"};function dt(t){if("number"!=typeof t)throw new TypeError("Expected Number, got "+typeof t+" "+t);return t+mt(t)}dt.indicator=mt;var yt=dt,bt=/[|\\{}()[\]^$+*?.]/g,At=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(bt,"\\$&")};const vt=new Map;function _t(t,n){const e=Object.assign({caseSensitive:!1},n),o=t+JSON.stringify(e);if(vt.has(o))return vt.get(o);const r="!"===t[0];r&&(t=t.slice(1)),t=At(t).replace(/\\\*/g,".*");const a=new RegExp(`^${t}$`,e.caseSensitive?"":"i");return a.negated=r,vt.set(o,a),a}var wt=(t,n,e)=>{if(!Array.isArray(t)||!Array.isArray(n))throw new TypeError(`Expected two arrays, got ${typeof t} ${typeof n}`);if(0===n.length)return t;const o="!"===n[0][0];n=n.map(t=>_t(t,e));const r=[];for(const e of t){let t=o;for(const o of n)o.test(e)&&(t=!o.negated);t&&r.push(e)}return r};function Ot(t,n,e){return function t(n,e,o,a=!0){const c=Object.prototype.hasOwnProperty;function s(t){return null!=t}function i(t){return"Object"===r(t)}function l(t,n){return n=pt(n),Array.from(t).filter(t=>!n.some(n=>wt.isMatch(t,n,{caseSensitive:!0})))}const g=["any","anything","every","everything","all","whatever","whatevs"],f=Array.isArray;if(!s(n))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");const p={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"};let h;if(h=s(o)&&i(o)?Object.assign({},p,o):Object.assign({},p),s(h.ignoreKeys)&&h.ignoreKeys?h.ignoreKeys=pt(h.ignoreKeys):h.ignoreKeys=[],s(h.ignorePaths)&&h.ignorePaths?h.ignorePaths=pt(h.ignorePaths):h.ignorePaths=[],s(h.acceptArraysIgnore)&&h.acceptArraysIgnore?h.acceptArraysIgnore=pt(h.acceptArraysIgnore):h.acceptArraysIgnore=[],h.msg="string"==typeof h.msg?h.msg.trim():h.msg,":"===h.msg[h.msg.length-1]&&(h.msg=h.msg.slice(0,h.msg.length-1).trim()),h.schema&&(Object.keys(h.schema).forEach(t=>{if(i(h.schema[t])){const n={};E(h.schema[t],(e,o,r)=>{const a=void 0!==o?o:e;return f(a)||i(a)||(n[`${t}.${r.path}`]=a),a}),delete h.schema[t],h.schema=Object.assign(h.schema,n)}}),Object.keys(h.schema).forEach(t=>{f(h.schema[t])||(h.schema[t]=[h.schema[t]]),h.schema[t]=h.schema[t].map(String).map(t=>t.toLowerCase()).map(t=>t.trim())})),s(e)||(e={}),a&&t(h,p,{enforceStrictKeyset:!1},!1),h.enforceStrictKeyset)if(s(h.schema)&&Object.keys(h.schema).length>0){if(0!==l(u(Object.keys(n),Object.keys(e).concat(Object.keys(h.schema))),h.ignoreKeys).length){const t=u(Object.keys(n),Object.keys(e).concat(Object.keys(h.schema)));throw new TypeError(`${h.msg}: ${h.optsVarName}.enforceStrictKeyset is on and the following key${t.length>1?"s":""} ${t.length>1?"are":"is"} not covered by schema and/or reference objects: ${t.join(", ")}`)}}else{if(!(s(e)&&Object.keys(e).length>0))throw new TypeError(`${h.msg}: Both ${h.optsVarName}.schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!`);if(0!==l(u(Object.keys(n),Object.keys(e)),h.ignoreKeys).length){const t=u(Object.keys(n),Object.keys(e));throw new TypeError(`${h.msg}: The input object has key${t.length>1?"s":""} which ${t.length>1?"are":"is"} not covered by the reference object: ${t.join(", ")}`)}if(0!==l(u(Object.keys(e),Object.keys(n)),h.ignoreKeys).length){const t=u(Object.keys(e),Object.keys(n));throw new TypeError(`${h.msg}: The reference object has key${t.length>1?"s":""} which ${t.length>1?"are":"is"} not present in the input object: ${t.join(", ")}`)}}const m=[];E(n,(t,o,a)=>{let s=o,l=t;if("array"===a.parentType&&(l=void 0,s=t),f(m)&&m.length&&m.some(t=>a.path.startsWith(t)))return s;if(l&&h.ignoreKeys.some(t=>wt.isMatch(l,t)))return s;if(h.ignorePaths.some(t=>wt.isMatch(a.path,t)))return s;const u=!(!i(s)&&!f(s)&&f(a.parent));let p=!1;i(h.schema)&&c.call(h.schema,ht.get(a.path))&&(p=!0);let d=!1;if(i(e)&&ht.has(e,ht.get(a.path))&&(d=!0),h.enforceStrictKeyset&&u&&!p&&!d)throw new TypeError(`${h.msg}: ${h.optsVarName}.${a.path} is neither covered by reference object (second input argument), nor ${h.optsVarName}.schema! To stop this error, turn off ${h.optsVarName}.enforceStrictKeyset or provide some type reference (2nd argument or ${h.optsVarName}.schema).\n\nDebug info:\n\nobj = ${JSON.stringify(n,null,4)}\n\nref = ${JSON.stringify(e,null,4)}\n\ninnerObj = ${JSON.stringify(a,null,4)}\n\nopts = ${JSON.stringify(h,null,4)}\n\ncurrent = ${JSON.stringify(s,null,4)}\n\n`);if(p){const t=pt(h.schema[a.path]).map(String).map(t=>t.toLowerCase());if(ht.set(h.schema,a.path,t),ft(t,g).length)m.push(a.path);else if(!0!==s&&!1!==s&&!t.includes(r(s).toLowerCase())||(!0===s||!1===s)&&!t.includes(String(s))&&!t.includes("boolean")){if(!f(s)||!h.acceptArrays)throw new TypeError(`${h.msg}: ${h.optsVarName}.${a.path} was customised to ${"string"!==r(s)?'"':""}${JSON.stringify(s,null,0)}${"string"!==r(s)?'"':""} (type: ${r(s).toLowerCase()}) which is not among the allowed types in schema (which is equal to ${JSON.stringify(t,null,0)})`);for(let n=0,e=s.length;n<e;n++)if(!t.includes(r(s[n]).toLowerCase()))throw new TypeError(`${h.msg}: ${h.optsVarName}.${a.path}.${n}, the ${yt(n+1)} element (equal to ${JSON.stringify(s[n],null,0)}) is of a type ${r(s[n]).toLowerCase()}, but only the following are allowed by the ${h.optsVarName}.schema: ${t.join(", ")}`)}}else if(d){const n=ht.get(e,a.path);if(h.acceptArrays&&f(s)&&!h.acceptArraysIgnore.includes(t)){if(!s.every(n=>r(n).toLowerCase()===r(e[t]).toLowerCase()))throw new TypeError(`${h.msg}: ${h.optsVarName}.${a.path} was customised to be array, but not all of its elements are ${r(e[t]).toLowerCase()}-type`)}else if(r(s)!==r(n))throw new TypeError(`${h.msg}: ${h.optsVarName}.${a.path} was customised to ${"string"===r(s).toLowerCase()?"":'"'}${JSON.stringify(s,null,0)}${"string"===r(s).toLowerCase()?"":'"'} which is not ${r(n).toLowerCase()} but ${r(s).toLowerCase()}`)}return s})}(t,n,e)}wt.isMatch=((t,n,e)=>{const o=_t(n,e),r=o.test(t);return o.negated?!r:r});var St=function(t,n){if(n){if("object"!=typeof n)throw new TypeError(String(n)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in n){if("boolean"!=typeof n.includeZero)throw new TypeError(String(n.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(n.includeZero&&0===t)return!0}}return Number.isSafeInteger(t)&&t>=1},Et=o(function(t,n){(n=t.exports=function(t){return t+n.suffix(+t)}).suffix=function(t){return t%=100,1===Math.floor(t/10)?"th":t%10==1?"st":t%10==2?"nd":t%10==3?"rd":"th"}});Et.suffix;const Ct=Array.isArray;function Tt(t,n){if(!Ct(t))throw new TypeError(`ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: ${typeof t}, equal to: ${JSON.stringify(t,null,4)}`);if(0===t.length)return t;const e={strictlyTwoElementsInRangeArrays:!1,progressFn:null},o=Object.assign({},e,n);let r,a;if(Ot(o,e,{msg:"ranges-sort: [THROW_ID_02*]",schema:{progressFn:["function","false","null"]}}),o.strictlyTwoElementsInRangeArrays&&!t.every((t,n)=>2===t.length||(r=n,a=t.length,!1)))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${Et(r)} range (${JSON.stringify(t[r],null,4)}) has not two but ${a} elements!`);if(!t.every((t,n)=>!(!St(t[0],{includeZero:!0})||!St(t[1],{includeZero:!0}))||(r=n,!1)))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${Et(r)} range (${JSON.stringify(t[r],null,4)}) does not consist of only natural numbers!`);const c=t.length*t.length;let s=0;return Array.from(t).sort((t,n)=>(o.progressFn&&(s++,o.progressFn(Math.floor(100*s/c))),t[0]===n[0]?t[1]<n[1]?-1:t[1]>n[1]?1:0:t[0]<n[0]?-1:1))}var jt=["null","start-of-heading","start-of-text","end-of-text","end-of-transmission","enquiry","acknowledge","bell","backspace","character-tabulation","line-feed","line-tabulation","form-feed","carriage-return","shift-out","shift-in","data-link-escape","device-control-one","device-control-two","device-control-three","device-control-four","negative-acknowledge","synchronous-idle","end-of-transmission-block","cancel","end-of-medium","substitute","escape","information-separator-four","information-separator-three","information-separator-two","information-separator-one","space","exclamation-mark"],Nt=["abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","param","picture","pre","progress","rb","rp","rt","rtc","ruby","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","ul","var","video","wbr","xml"];function Rt(t){var n=!"\"'><=".includes(t);return console.log("157 emlint/util/charSuitableForAttrName(): return ".concat(n)),n}function Lt(t){if("string"!=typeof t||t.length>1)throw new Error("emlint/util/charNotTag(): input is not a single string character!");var n=!"><=".includes(t);return console.log("174 emlint/util/charNotTag(): return ".concat(n)),n}function Qt(t){return"string"==typeof t}function It(t){return Qt(t)&&1===t.length&&(t.charCodeAt(0)>64&&t.charCodeAt(0)<91||t.charCodeAt(0)>96&&t.charCodeAt(0)<123)}function Ft(t){return function(t){return Qt(t)&&1===t.length&&t.charCodeAt(0)>96&&t.charCodeAt(0)<123}(t)}function kt(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(function(t,n,e,o){return 0===e&&"string"==typeof n?"[".concat(32,"m",n.toUpperCase(),"[",39,"m"):e%2!=0?"".concat(t," [",33,"m").concat(n,"[",39,"m"):"".concat(t," = ").concat(JSON.stringify(n,null,4)).concat(o[e+1]?";":"")},"")}function $t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("250 withinTagInnerspace() called, idx = ".concat(n));for(var e,o,r=null,a={at:null,last:!1,precedes:!1},c={at:null,last:!1,precedes:!1},s={at:null,last:!1,precedes:!1,within:!1},i=!0,l=!1,u=!1,g=!1,f=!1,p=!1,h=!1,m=!1,d=!1,y=!1,b=!1,A=n,v=t.length;A<v;A++){var _=t[A].charCodeAt(0);if(console.log("".concat("[".concat(36,"m","=","[",39,"m[",34,"m","=","[",39,"m").repeat(15)," [",31,"m","str[ ".concat(A," ] = ").concat(t[A].trim().length?t[A]:JSON.stringify(t[A],null,0)),"[",39,"m ","[".concat(90,"m#",_,"[",39,"m")," ").concat("[".concat(36,"m","=","[",39,"m[",34,"m","=","[",39,"m").repeat(15))),t[A].trim().length||(null===r&&(r=A),a.last&&(a.precedes=!0),c.last&&(c.precedes=!0),s.last&&(s.precedes=!0)),">"===t[A]?(a.at=A,a.last=!0):a.last?(a.precedes=!0,a.last=!1):a.precedes=!1,"/"===t[A]?(c.at=A,c.last=!0):c.last?(c.precedes=!0,c.last=!1):c.precedes=!1,t[A],"'\"".includes(t[A])?(null===s.at?(s.within=!0,s.at=A):t[A]===t[s.at]&&(s.within=!1),s.last=!0):s.last?(s.precedes=!0,s.last=!1):s.precedes=!1,s.at&&!s.within&&s.precedes&&t[A]!==t[s.at]&&(s.at=null,console.log("423 ".concat("[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","quotes.at",s.at)))),!s.within&&i&&"/"===t[A]&&">".includes(t[xt(t,A)]))return console.log("459 ".concat("[".concat(32,"m","‚ñà‚ñà R1","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("return","true"))),!0;if(!s.within&&i&&Rt(t[A])&&!l)l=!0,console.log("481 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r2_1",l)));else if(!u&&l&&t[A].trim().length&&!Rt(t[A]))"="===t[A]?(u=!0,console.log("500 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r2_2",u)))):(l=!1,console.log("509 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("reset","r2_1",l))));else if(!g&&u&&t[A].trim().length)"'\"".includes(t[A])?(g=!0,console.log("523 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r2_3",g)))):(l=!1,u=!1,console.log("533 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("reset","r2_1",l,"r2_2",u))));else if(g&&t[A]===t[s.at])f=!0,console.log("548 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r2_4",f)));else if(f&&!s.within&&">"===t[A])return console.log("559 ".concat("[".concat(32,"m","‚ñà‚ñà R2","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("return","true"))),!0;if(s.within||!i||">"!==t[A]||p)if(!p||h||Lt(t[A]))if(h&&!m&&t[A].trim().length)Ft(t[A])||"/"===t[A]?(m=!0,console.log("612 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r3_3",m)))):(p=!1,h=!1,console.log("622 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("reset","r3_1",p,"r3_2",h))));else if(m&&!d&&t[A].trim().length&&!Ft(t[A])){if("<>".includes(t[A])||"/"===t[A]&&"<>".includes(xt(t,A)))return console.log("647 ".concat("[".concat(32,"m","‚ñà‚ñà R3","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("return","true"))),!0;"='\"".includes(t[A])&&(p=!1,h=!1,m=!1,console.log("659 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("reset","r3_1",p,"r3_2",h,"r3_3",m))))}else if(!m||d||t[A].trim().length){if(d&&!y&&t[A].trim().length)Rt(t[A])?(y=!0,console.log("690 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r3_5",y)))):(p=!1,h=!1,m=!1,d=!1,console.log("702 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("reset","r3_1",p,"r3_2",h,"r3_3",m,"r3_4",d))));else if(y&&(!t[A].trim().length||"="===t[A]||(e=t[A],o=void 0,o="\"'‚Äò‚Äô‚Äù‚Äù".includes(e),console.log("163 emlint/util/charIsQuote(): return ".concat(o)),o)))return console.log("722 ".concat("[".concat(32,"m","‚ñà‚ñà R3","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("return","true"))),!0}else d=!0,console.log("676 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r3_4",d)));else h=!0,console.log("599 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r3_2",h)));else if(p=!0,console.log("576 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r3_1",p))),"<"===t[xt(t,A)])return console.log("586 ".concat("[".concat(32,"m","‚ñà‚ñà R3.2","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("return","true"))),!0;if(!s.within&&i&&!b&&Rt(t[A]))b=!0,console.log("743 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","r4_1",b)));else if(b&&t[A].trim().length&&(!Rt(t[A])||"/"===t[A])){if("/"===t[A]&&">"===t[xt(t,A)])return console.log("760 ".concat("[".concat(32,"m","‚ñà‚ñà R4","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("return","true"))),!0;b=!1,console.log("769 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," ","[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("reset","r4_1",b)))}null!==r&&(r=null),i&&t[A].trim().length&&(i=!1,console.log("812 ".concat("[".concat(90,"m","withinTagInnerspace()","[",39,"m")," ",kt("set","beginningOfAString",i)))),console.log("[".concat(36,"m","‚ñà","[",39,"m")),console.log("".concat("[".concat(33,"m","whitespaceStartAt","[",39,"m")," = ",JSON.stringify(r,null,0))),console.log("".concat("[".concat(33,"m","closingBracket","[",39,"m")," = ",JSON.stringify(a,null,0))),console.log("".concat("[".concat(33,"m","slash","[",39,"m")," = ",JSON.stringify(c,null,0))),console.log("".concat("[".concat(33,"m","beginningOfAString","[",39,"m")," = ",JSON.stringify(i,null,0))),console.log("".concat("[".concat(33,"m","quotes","[",39,"m")," = ",JSON.stringify(s,null,0))),console.log("".concat("[".concat(33,"m","r3_1","[",39,"m")," = ",JSON.stringify(p,null,0))),console.log("".concat("[".concat(33,"m","r3_2","[",39,"m")," = ",JSON.stringify(h,null,0))),console.log("".concat("[".concat(33,"m","r3_3","[",39,"m")," = ",JSON.stringify(m,null,0))),console.log("".concat("[".concat(33,"m","r3_4","[",39,"m")," = ",JSON.stringify(d,null,0)))}return console.log("\n‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà"),console.log("899 FIN. REACHED. RETURN FALSE."),!1}function qt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("914 util/tagOnTheRight() called, ".concat("[".concat(33,"m","idx","[",39,"m")," = ","[".concat(31,"m",n,"[",39,"m"))),console.log("916 tagOnTheRight() called, idx = ".concat(n));var e=n?t.slice(n):t,o=!1;/^<\s*\w+\s*\/?\s*>/g.test(e)?(console.log("935 util/tagOnTheRight(): ".concat("[".concat(31,"m","R1","[",39,"m")," passed")),o=!0):/^<\s*\w+\s+\w+\s*=\s*['"]/g.test(e)?(console.log("940 util/tagOnTheRight(): ".concat("[".concat(31,"m","R2","[",39,"m")," passed")),o=!0):/^<\s*\/?\s*\w+\s*\/?\s*>/g.test(e)?(console.log("945 util/tagOnTheRight(): ".concat("[".concat(31,"m","R3","[",39,"m")," passed")),o=!0):/^<\s*\w+(?:\s*\w+)*\s*\w+=['"]/g.test(e)&&(console.log("950 util/tagOnTheRight(): ".concat("[".concat(31,"m","R4","[",39,"m")," passed")),o=!0);var r=Qt(t)&&n<t.length&&o;return console.log("956 util/tagOnTheRight(): return ".concat("[".concat(36,"m",r,"[",39,"m"))),r}function xt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t[n+1])return null;if(t[n+1]&&t[n+1].trim().length)return n+1;if(t[n+2]&&t[n+2].trim().length)return n+2;for(var e=n+1,o=t.length;e<o;e++)if(t[e].trim().length)return e;return null}var Jt=Array.isArray,Vt=Qt,Pt=kt,Wt=$t,Mt=xt,Dt=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n<1)return null;if(t[n-1]&&t[n-1].trim().length)return n-1;if(t[n-2]&&t[n-2].trim().length)return n-2;for(var e=n;e--;)if(t[e]&&t[e].trim().length)return e;return null},Ht=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("".concat("[".concat(32,"m","\n‚ñà‚ñà","[",39,"m")," util/attributeOnTheRight() ","[".concat(32,"m","‚ñà‚ñà\n","[",39,"m"))),console.log("closingQuoteAt = ".concat(JSON.stringify(o,null,4)));var r=n[e];if("'"!==r&&'"'!==r)throw new Error("1 emlint/util/attributeOnTheRight(): first character is not a single/double quote!\nstartingQuoteVal = ".concat(JSON.stringify(r,null,0),"\nstr = ").concat(JSON.stringify(n,null,4),"\nidx = ").concat(JSON.stringify(e,null,0)));for(var a=!1,c=null,s=null,i=null,l=null,u=e,g=n.length;u<g;u++){var f=n[u].charCodeAt(0);if(console.log("[".concat(null===o?36:32,"m","===============================","[",39,"m [").concat(null===o?34:31,"m","str[ ".concat(u," ] = ").concat(n[u].trim().length?n[u]:JSON.stringify(n[u],null,0)),"[",39,"m ","[".concat(90,"m#",f,"[",39,"m")," [").concat(null===o?36:32,"m","===============================","[",39,"m")),(u===o&&u>e||null===o&&u>e&&n[u]===r)&&(o=u,console.log("1090 (util/attributeOnTheRight) ".concat(kt("set","closingQuoteAt",o))),a||(a=!0,console.log("1099 (util/attributeOnTheRight) ".concat(kt("set","closingQuoteMatched",a))))),">"===n[u]&&(c=u,console.log("1111 (util/attributeOnTheRight) ".concat(kt("set","lastClosingBracket",c)))),"<"===n[u]&&(s=u,console.log("1121 (util/attributeOnTheRight) ".concat(kt("set","lastOpeningBracket",s)))),"="===n[u]&&(l=u,console.log("1131 (util/attributeOnTheRight) ".concat(kt("set","lastEqual",l)))),"'"!==n[u]&&'"'!==n[u]||(i=u,console.log("1137 (util/attributeOnTheRight) ".concat(kt("set","lastSomeQuote",i)))),"="===n[u]&&("'"===n[u+1]||'"'===n[u+1]))if(console.log("1153 (util/attributeOnTheRight) within pattern check: equal-quote"),a){if(!c||c<o)return console.log("1161 (util/attributeOnTheRight) ".concat(kt("return","closingQuoteAt",o))),o}else{if(o)return console.log("1176 (util/attributeOnTheRight) STOP",'recursive check ends, it\'s actually messed up. We are already within a recursion. Return "false".'),!1;if(console.log("1183 (util/attributeOnTheRight) ".concat(kt(" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà correction!\n","true"))),0!==i&&n[u+1]!==i&&t(n,e,i))return console.log("1198 (util/attributeOnTheRight) CORRECTION #1 PASSED - so it was mismatching quote"),console.log("1201 (util/attributeOnTheRight) ".concat(kt("return","lastSomeQuote",i))),i;if(t(n,u+1))return console.log("1217 (util/attributeOnTheRight) CORRECTION #2 PASSED - healthy attributes follow"),console.log("1220 (util/attributeOnTheRight) ".concat(kt("return","false"))),!1}if(a&&c&&c>a)return console.log("1234 (util/attributeOnTheRight) ".concat(kt("return","closingQuoteAt",o))),o;if(a&&null===c&&null===s&&(null===i||i&&o>=i)&&null===l)return console.log("1258 (util/attributeOnTheRight) ".concat(kt("return","closingQuoteAt",o))),o;n[u+1]||console.log('1281 (util) "EOL reached"'),console.log(a?"closingQuoteMatched":"")}if(i&&null===o&&(console.log("1299 (util) last chance, run correction 3"),console.log("".concat("[".concat(33,"m","lastSomeQuote","[",39,"m")," = ",JSON.stringify(i,null,4))),t(n,e,i)))return console.log("1311 (util) CORRECTION #3 PASSED - mismatched quotes confirmed"),console.log("1313 (util) ".concat(kt("return",!0))),i;return console.log("1318 (util) ".concat(kt("bottom - return","false"))),!1},Kt=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("1338 util/findClosingQuote() called, ".concat("[".concat(33,"m","idx","[",39,"m")," = ","[".concat(31,"m",n,"[",39,"m")));for(var e=null,o=null,r="\"'".includes(t[n])?t[n]:null,a=null,c=n,s=t.length;c<s;c++){var i=t[c].charCodeAt(0);if(console.log("[".concat(36,"m","===============================","[",39,"m [",34,"m","str[ ".concat(c," ] = ").concat(t[c].trim().length?t[c]:JSON.stringify(t[c],null,0)),"[",39,"m ","[".concat(90,"m#",i,"[",39,"m")," [",36,"m","===============================","[",39,"m")),34===i||39===i){if(t[c]===r&&c>n)return console.log("1369 (util/findClosingQuote) quick ending, ".concat(c," is the matching quote")),c;if(e=c,o=c,console.log("1377 (util/findClosingQuote) ".concat(kt("set","lastNonWhitespaceCharWasQuoteAt",e))),c>n&&("'"===t[c]||'"'===t[c])&&$t(t,c+1))return console.log("1391 (util/findClosingQuote) ".concat(kt("return",c))),c;if(console.log("1394 (util/findClosingQuote) didn't pass"),qt(t,c+1))return console.log("1398 [".concat(35,"m","‚ñà‚ñà","[",39,"m (util/findClosingQuote) tag on the right - return i=",c)),c;console.log("1403 [".concat(35,"m","‚ñà‚ñà","[",39,"m (util/findClosingQuote) NOT tag on the right"))}else if(t[c].trim().length)if(console.log("1409 (util/findClosingQuote)"),">"===t[c]){if(a=c,null!==e){console.log("1416 (util/findClosingQuote) ".concat(kt("!","suitable candidate found")));var l=$t(t,c);if(console.log("1425 (util/findClosingQuote) withinTagInnerspace() result: ".concat(l)),l)return e===n?(console.log("1448 (util/findClosingQuote) ".concat(kt("return","lastNonWhitespaceCharWasQuoteAt + 1",e+1))),e+1):(console.log("1457 (util/findClosingQuote) ".concat(kt("return","lastNonWhitespaceCharWasQuoteAt",e))),e)}}else if("="===t[c]){var u=xt(t,c);if(console.log("1472 (util/findClosingQuote) ".concat(kt("set","whatFollowsEq",u))),u&&("'"===t[u]||'"'===t[u])){if(console.log("1482 (util/findClosingQuote)"),console.log("".concat("[".concat(33,"m","lastNonWhitespaceCharWasQuoteAt","[",39,"m")," = ",JSON.stringify(e,null,4))),$t(t,o+1))return console.log("1494 (util/findClosingQuote) ".concat(kt("return","lastQuoteAt + 1",o+1))),o+1;console.log("1502 didn't pass")}}else if("/"!==t[c]){if("<"===t[c]&&qt(t,c)&&(console.log("1507 ‚ñà‚ñà tag on the right"),null!==a))return console.log("1510 (util/findClosingQuote) ".concat(kt("return","lastClosingBracketAt",a))),a;null!==e&&(e=null,console.log("1524 (util/findClosingQuote) ".concat(kt("set","lastNonWhitespaceCharWasQuoteAt",e))))}console.log("1536 (util/findClosingQuote) ".concat(kt("END","lastNonWhitespaceCharWasQuoteAt",e)))}return null},Ut=function(t,n){return"&"!==t[n]||t[n+1]&&"a"===t[n+1]||t[n+2]&&"m"===t[n+2]||t[n+3]&&"p"===t[n+3]||t[n+3]&&";"===t[n+3]?"<"===t[n]?{name:"bad-character-unencoded-opening-bracket",position:[[n,n+1,"&lt;"]]}:">"===t[n]?{name:"bad-character-unencoded-closing-bracket",position:[[n,n+1,"&gt;"]]}:'"'===t[n]?{name:"bad-character-unencoded-double-quotes",position:[[n,n+1,"&quot;"]]}:null:{name:"bad-character-unencoded-ampersand",position:[[n,n+1,"&amp;"]]}},Bt=qt;t.lint=function(t,e){if(!Vt(t))throw new Error("emlint: [THROW_ID_01] the first input argument must be a string. It was given as:\n".concat(JSON.stringify(t,null,4)," (type ").concat(n(t),")"));var o,r,a,c={rules:"recommended",style:{line_endings_CR_LF_CRLF:null}};if(e){if(!w(e))throw new Error("emlint: [THROW_ID_02] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(e,null,4)," (type ").concat(n(e),")"));if(Ot(o=Object.assign({},c,e),c,{msg:"emlint: [THROW_ID_03*]",schema:{rules:["string","object","false","null","undefined"],style:["object","null","undefined"],"style.line_endings_CR_LF_CRLF":["string","null","undefined"]}}),o.style&&Vt(o.style.line_endings_CR_LF_CRLF))if("cr"===o.style.line_endings_CR_LF_CRLF.toLowerCase())"CR"!==o.style.line_endings_CR_LF_CRLF&&o.style.line_endings_CR_LF_CRLF;else if("lf"===o.style.line_endings_CR_LF_CRLF.toLowerCase())"LF"!==o.style.line_endings_CR_LF_CRLF&&o.style.line_endings_CR_LF_CRLF;else{if("crlf"!==o.style.line_endings_CR_LF_CRLF.toLowerCase())throw new Error('emlint: [THROW_ID_04] opts.style.line_endings_CR_LF_CRLF should be either falsey or string "CR" or "LF" or "CRLF". It was given as:\n'.concat(JSON.stringify(o.style.line_endings_CR_LF_CRLF,null,4)," (type is string)"));"CRLF"!==o.style.line_endings_CR_LF_CRLF&&o.style.line_endings_CR_LF_CRLF}}else o=g(c);console.log("109 USING ".concat("[".concat(33,"m","opts","[",39,"m")," = ",JSON.stringify(o,null,4))),o.style&&Vt(o.style.line_endings_CR_LF_CRLF)&&(r="cr"===o.style.line_endings_CR_LF_CRLF.toLowerCase()?"\r":"crlf"===o.style.line_endings_CR_LF_CRLF.toLowerCase()?"\r\n":"\n");var s,i={tagStartAt:null,tagEndAt:null,tagNameStartAt:null,tagNameEndAt:null,tagName:null,recognised:null,pureHTML:!0,attributes:[]};function l(){a=g(i)}l();var u,f={attrStartAt:null,attrEndAt:null,attrNameStartAt:null,attrNameEndAt:null,attrName:null,attrValue:null,attrValueStartAt:null,attrValueEndAt:null,attrEqualAt:null,attrOpeningQuote:{pos:null,val:null},attrClosingQuote:{pos:null,val:null},recognised:null,pureHTML:!0};function p(){s=g(f)}p();var h={startAt:null,includesLinebreaks:!1,lastLinebreakAt:null};function m(){u=g(h)}m();for(var d={issues:[]},y=[],b=[],A={cr:[],lf:[],crlf:[]},v=function(n,e){var c,i=t[n].charCodeAt(0);if(console.log("[".concat(36,"m","===============================","[",39,"m [",35,"m","str[ ".concat(n," ] = ").concat(t[n].trim().length?t[n]:JSON.stringify(t[n],null,0)),"[",39,"m ","[".concat(90,"m#",i,"[",39,"m")," [",36,"m","===============================","[",39,"m")),null!==a.tagNameEndAt){var f;if(null===s.attrNameStartAt||null!==s.attrNameEndAt||null!==s.attrName||It(t[n])||(s.attrNameEndAt=n,s.attrName=t.slice(s.attrNameStartAt,s.attrNameEndAt),console.log("305 ".concat(Pt("SET","logAttr.attrNameEndAt",s.attrNameEndAt,"logAttr.attrName",s.attrName))),"="!==t[n]&&("="===t[Mt(t,n)]?console.log("320 equal to the right though"):console.log("323 not equal, so terminate attr"))),null!==s.attrNameEndAt&&null===s.attrEqualAt&&n>=s.attrNameEndAt&&t[n].trim().length&&("'"!==t[n]&&'"'!==t[n]||(f=Ht(t,n)),console.log("339 catch what follows the attribute's name"),"="===t[n]?(s.attrEqualAt=n,console.log("343 ".concat(Pt("SET","logAttr.attrEqualAt",s.attrEqualAt)))):f?(console.log("".concat("[".concat(32,"m","\n‚ñà‚ñà","[",39,"m")," util/attributeOnTheRight() ENDED ","[".concat(32,"m","‚ñà‚ñà\n","[",39,"m"))),console.log("350 quoted attribute's value on the right, equal is indeed missing"),d.issues.push({name:"tag-attribute-missing-equal",position:[[n,n,"="]]}),console.log("358 ".concat(Pt("push","tag-attribute-missing-equal","".concat("[[".concat(n,", ").concat(n,', "="]]'))))),s.attrEqualAt=n,console.log("367 ".concat(Pt("SET","logAttr.attrEqualAt",s.attrEqualAt))),s.attrValueStartAt=n+1,console.log("372 ".concat(Pt("SET","logAttr.attrValueStartAt",s.attrValueStartAt))),s.attrValueEndAt=f,console.log("381 ".concat(Pt("SET","logAttr.attrValueEndAt",s.attrValueEndAt))),s.attrOpeningQuote.pos=n,s.attrOpeningQuote.val=t[n],s.attrClosingQuote.pos=f,s.attrClosingQuote.val=t[f],console.log("393 ".concat(Pt("SET","logAttr.attrOpeningQuote",s.attrOpeningQuote,"logAttr.attrClosingQuote",s.attrClosingQuote))),s.attrValue=t.slice(n+1,f),console.log("404 ".concat(Pt("SET","logAttr.attrValue",s.attrValue)))):(console.log("".concat("[".concat(32,"m","\n‚ñà‚ñà","[",39,"m")," util/attributeOnTheRight() ENDED ","[".concat(32,"m","‚ñà‚ñà\n","[",39,"m"))),a.attributes.push(g(s)),console.log("416 ".concat(Pt("PUSH, then RESET","logAttr"))),p()),null!==u.startAt&&("="===t[n]?(d.issues.push({name:"tag-attribute-space-between-name-and-equals",position:[[u.startAt,n]]}),console.log("431 ".concat(Pt("push","tag-attribute-space-between-name-and-equals","".concat("[[".concat(u.startAt,", ").concat(n,"]]")))))):It(t[n])&&(a.attributes.push(g(s)),console.log("440 ".concat(Pt("PUSH, then RESET","logAttr"))),p(),null!==u.startAt&&(" "===t[u.startAt]?(u.startAt+1<n&&(d.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[u.startAt+1,n]]}),console.log("455 ".concat(Pt("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(u.startAt+1,", ").concat(n,"]]")))))),console.log("462 dead end of excessive whitespace check")):(d.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[u.startAt,n," "]]}),console.log("470 ".concat(Pt("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(u.startAt,", ").concat(n,', " "]]')))))))))),null===s.attrStartAt&&It(t[n])&&(console.log("486 above catching the begining of an attribute's name"),s.attrStartAt=n,s.attrNameStartAt=n,console.log("490 ".concat(Pt("SET","logAttr.attrStartAt",s.attrStartAt))),null!==u.startAt&&u.startAt<n-1&&(" "===t[u.startAt]?(d.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[u.startAt+1,n]]}),console.log("506 ".concat(Pt("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(u.startAt+1,", ").concat(n,"]]")))))):(d.issues.push({name:"tag-excessive-whitespace-inside-tag",position:[[u.startAt,n," "]]}),console.log("519 ".concat(Pt("push","tag-excessive-whitespace-inside-tag","".concat("[[".concat(u.startAt,", ").concat(n,', " "]]')))))))),null!==s.attrEqualAt&&s.attrEqualAt<n&&null===s.attrOpeningQuote.pos&&t[n].trim().length){if(console.log("536 rules above catching what follows attribute's equal"),34===i||39===i){u.startAt&&u.startAt<n&&(d.issues.push({name:"tag-attribute-space-between-equals-and-opening-quotes",position:[[u.startAt,n]]}),console.log("547 ".concat(Pt("push","tag-attribute-space-between-equals-and-opening-quotes","".concat(JSON.stringify([[u.startAt,n]],null,0)))))),m(),s.attrOpeningQuote.pos=n,s.attrOpeningQuote.val=t[n];var h=Kt(t,n);if(console.log("561 ".concat(Pt("set","closingQuotePeek",h))),h){if(t[h]!==t[n])if("'"===t[h]||'"'===t[h]){var v='"'===t[h],w="tag-attribute-mismatching-quotes-is-".concat(v?"double":"single");d.issues.push({name:w,position:[[h,h+1,"".concat(v?"'":'"')]]}),console.log("592 ".concat(Pt("push",w,"".concat("[[".concat(h,", ").concat(h+1,", ").concat(v?"'":'"',"]]")))))}else{var O="";t[h-1]&&t[h]&&t[h-1].trim().length&&t[h].trim().length&&"/"!==t[h]&&">"!==t[h]&&(O=" ");var S=t[h-1].trim().length?h:Dt(t,h)+1;console.log("625 ".concat(Pt("set","fromPositionToInsertAt",S)));var E=h;console.log("633 ".concat(Pt("set","toPositionToInsertAt",E))),"/"===t[Dt(t,h)]&&(console.log("641 SLASH ON THE LEFT"),(E=Dt(t,h))+1<h&&(d.issues.push({name:"tag-whitespace-closing-slash-and-bracket",position:[[E+1,h]]}),console.log("650 ".concat(Pt("push","tag-whitespace-closing-slash-and-bracket","".concat("[[".concat(E+1,", ").concat(h,"]]")))))),S=Dt(t,E)+1,console.log("663 ".concat(Pt("set","toPositionToInsertAt",E,"fromPositionToInsertAt",S)))),d.issues.push({name:"tag-attribute-closing-quotation-mark-missing",position:[[S,E,"".concat(t[n]).concat(O)]]}),console.log("684 ".concat(Pt("push","tag-attribute-closing-quotation-mark-missing","".concat("[[".concat(h,", ").concat(h,", ","".concat(t[n]).concat(O),"]]")))))}s.attrClosingQuote.pos=h,s.attrClosingQuote.val=t[n],s.attrValue=t.slice(n+1,h),s.attrValueStartAt=n+1,s.attrValueEndAt=h,s.attrEndAt=h,console.log("702 ".concat(Pt("set","logAttr.attrClosingQuote",s.attrClosingQuote,"logAttr.attrValue",s.attrValue,"logAttr.attrValueStartAt",s.attrValueStartAt,"logAttr.attrValueEndAt",s.attrValueEndAt,"logAttr.attrEndAt",s.attrEndAt)));for(var C=n+1;C<h;C++){var T=Ut(t,C);T&&(y.push(T),console.log("728 ".concat(Pt("push tagIssueStaging","newIssue",T))))}return b.length&&console.log("737 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," raw stage present!")),a.attributes.push(g(s)),console.log("743 ".concat(Pt("PUSH, then RESET","logAttr"))),p(),n=t[h].trim().length?h:Dt(t,h),console.log("758 ".concat(Pt("set","i",n,"then CONTINUE"))),n===e-1&&null!==a.tagStartAt&&(null!==s.attrEqualAt&&null!==s.attrOpeningQuote.pos||a.attributes.some(function(t){return null!==t.attrEqualAt&&null!==t.attrOpeningQuote.pos}))&&(d.issues.push({name:"tag-missing-closing-bracket",position:[[n+1,n+1,">"]]}),console.log("778 ".concat(Pt("push","tag-missing-closing-bracket","".concat("[[".concat(n+1,", ").concat(n+1,', ">"]]')))))),_=n,"continue"}}else if(8220===i||8221===i){s.attrOpeningQuote.pos=n,s.attrOpeningQuote.val='"',console.log("796 ".concat(Pt("set","logAttr.attrOpeningQuote",s.attrOpeningQuote)));var j=8220===i?"tag-attribute-left-double-quotation-mark":"tag-attribute-right-double-quotation-mark";d.issues.push({name:j,position:[[n,n+1,'"']]}),console.log("813 ".concat(Pt("push",j,"".concat("[[".concat(n,", ").concat(n+1,", '\"']]")))))}else if(8216===i||8217===i){s.attrOpeningQuote.pos=n,s.attrOpeningQuote.val="'",console.log("823 ".concat(Pt("set","logAttr.attrOpeningQuote",s.attrOpeningQuote)));var N=8216===i?"tag-attribute-left-single-quotation-mark":"tag-attribute-right-single-quotation-mark";d.issues.push({name:N,position:[[n,n+1,"'"]]}),console.log("840 ".concat(Pt("push",N,"".concat("[[".concat(n,", ").concat(n+1,", '\"']]"))))),s.attrValueStartAt=n+1,console.log("845 ".concat(Pt("set","logAttr.attrValueStartAt",s.attrValueStartAt)))}else if(Wt(t,n)){console.log("853 withinTagInnerspace() ".concat("[".concat(32,"m","positive","[",39,"m")));var R=s.attrStartAt;if("/"===t[n]||">"===t[n])for(var L=s.attrStartAt;L--;)if(t[L].trim().length){R=L+1;break}d.issues.push({name:"tag-attribute-quote-and-onwards-missing",position:[[R,n]]}),console.log("871 ".concat(Pt("push","tag-attribute-quote-and-onwards-missing","".concat("[[".concat(R,", ").concat(n,"]]"))))),console.log("878 ".concat(Pt("reset","logWhitespace"))),m(),console.log("880 ".concat(Pt("reset","logAttr"))),p()}else{console.log("884 withinTagInnerspace() ".concat("[".concat(31,"m","negative","[",39,"m")," - final ELSE clauses"));var Q=Kt(t,n);if(null!==Q){console.log("892 ending quote found: ".concat(Pt("set","endingQuotesPos",Q))),d.issues.push({name:"tag-attribute-opening-quotation-mark-missing",position:[[n,n,t[Q]]]}),console.log("904 ".concat(Pt("push","tag-attribute-space-between-equals-and-opening-quotes","".concat("[[".concat(n,", ").concat(n,", ").concat(JSON.stringify(t[Q],null,0),"]]"))))),s.attrOpeningQuote.pos=n,s.attrOpeningQuote.val=t[Q],s.attrValueStartAt=n,s.attrClosingQuote.pos=Q,s.attrClosingQuote.val=t[Q],s.attrValue=t.slice(n,Q),console.log("923 ".concat(Pt("SET","logAttr.attrOpeningQuote",s.attrOpeningQuote,"logAttr.attrClosingQuote",s.attrClosingQuote,"logAttr.attrValueStartAt",s.attrValueStartAt,"logAttr.attrValue",s.attrValue)));for(var I=n;I<Q;I++){var F=Ut(t,I);F&&(y.push(F),console.log("943 ".concat(Pt("push tagIssueStaging","newIssue",F))))}}else console.log("949 ".concat(Pt("set","endingQuotesPos",Q)))}console.log("956 ".concat(Pt("SET","logAttr.attrOpeningQuote.pos",s.attrOpeningQuote.pos,"logAttr.attrOpeningQuote.val",s.attrOpeningQuote.val))),null!==u.startAt&&("'"===t[n]||'"'===t[n]?(d.issues.push({name:"tag-attribute-space-between-equals-and-opening-quotes",position:[[u.startAt,n]]}),console.log("974 ".concat(Pt("push","tag-attribute-space-between-equals-and-opening-quotes","".concat("[[".concat(u.startAt,", ").concat(n,"]]")))))):Wt(t,n+1)&&(d.issues.push({name:"tag-attribute-quote-and-onwards-missing",position:[[s.attrStartAt,n]]}),console.log("989 ".concat(Pt("push","tag-attribute-quote-and-onwards-missing","".concat("[[".concat(s.attrStartAt,", ").concat(n,"]]"))))),console.log("995 ".concat(Pt("reset","logAttr"))),p()))}if(null!==s.attrEqualAt&&null!==s.attrOpeningQuote.pos&&n>s.attrOpeningQuote.pos&&(t[n]===s.attrOpeningQuote.val||Wt(t,n+1)))if(console.log("1009 above catching closing quote (single or double)"),34===i||39===i){var k="tag-attribute-mismatching-quotes-is-".concat(34===i?"double":"single");t[n]===s.attrOpeningQuote.val||d.issues.length&&d.issues.some(function(t){return _=n,t.name===k&&1===t.position.length&&t.position[0][0]===n&&t.position[0][1]===n+1})?console.log("1043 ".concat("[".concat(31,"m","didn't push an issue","[",39,"m"))):(d.issues.push({name:k,position:[[n,n+1,"".concat(34===i?"'":'"')]]}),console.log("1035 ".concat(Pt("push",k,"".concat("[[".concat(n,", ").concat(n+1,", ").concat(34===i?"'":'"',"]]")))))),s.attrClosingQuote.pos=n,s.attrClosingQuote.val=t[n],console.log("1054 ".concat(Pt("SET","logAttr.attrClosingQuote.pos",s.attrClosingQuote.pos,"logAttr.attrClosingQuote.val",s.attrClosingQuote.val))),null===s.attrValue&&(s.attrOpeningQuote.pos&&s.attrClosingQuote.pos&&s.attrOpeningQuote.pos+1<s.attrClosingQuote.pos?s.attrValue=t.slice(s.attrOpeningQuote.pos,s.attrClosingQuote.pos):s.attrValue="",console.log("1082 ".concat(Pt("SET","logAttr.attrValue",s.attrValue)))),s.attrEndAt=n,s.attrValueEndAt=n,console.log("1090 ".concat(Pt("SET","logAttr.attrEndAt",s.attrEndAt,"logAttr.attrValueEndAt",s.attrValueEndAt))),a.attributes.push(g(s)),console.log("1101 ".concat(Pt("PUSH, then RESET","logAttr"))),p()}else if(!Vt(s.attrOpeningQuote.val)||8220!==i&&8221!==i)if(!Vt(s.attrOpeningQuote.val)||8216!==i&&8217!==i||(null===Mt(t,n)||">"!==t[Mt(t,n)]&&"/"!==t[Mt(t,n)])&&!Wt(t,n+1)){if(Wt(t,n)){var $=" ",q=t[Mt(t,n-1)];console.log("1193 ".concat("[".concat(33,"m","whatsOnTheRight","[",39,"m")," = ",JSON.stringify(q,null,4))),t[n].trim().length&&q&&">"!==q&&"/"!==q||($="",console.log("1206 no compensation space")),console.log("1210 compensationSpace.length = ".concat($.length));var x="tag-attribute-closing-quotation-mark-missing";!s.attrOpeningQuote.val||s.attrClosingQuote&&s.attrClosingQuote.pos!==n||(console.log("1219"),d.issues.some(function(t){return _=n,t.name===x&&1===t.position.length&&t.position[0][0]===n&&t.position[0][1]===n})?console.log("1248 ".concat("[".concat(31,"m","didn't push a duplicate issue","[",39,"m"))):(d.issues.push({name:x,position:[[n,n,"".concat(s.attrOpeningQuote.val).concat($)]]}),console.log("1238 ".concat(Pt("push",x,"".concat("[[".concat(n,", ").concat(n,", ","".concat(s.attrOpeningQuote.val).concat($),"]]"))))))),s.attrClosingQuote.pos||(s.attrEndAt=n,s.attrClosingQuote.pos=n,s.attrClosingQuote.val=s.attrOpeningQuote.val,console.log("1259 ".concat(Pt("set","logAttr.attrClosingQuote",s.attrClosingQuote,"logAttr.attrEndAt",s.attrEndAt))),a.attributes.push(g(s)),console.log("1269 ".concat(Pt("PUSH, then RESET","logAttr"))),p())}}else{var J=8216===i?"tag-attribute-left-single-quotation-mark":"tag-attribute-right-single-quotation-mark";d.issues.push({name:J,position:[[n,n+1,"'"]]}),console.log("1164 ".concat(Pt("push",J,"".concat("[[".concat(n,", ").concat(n+1,', "\'"]]'))))),s.attrEndAt=n,s.attrClosingQuote.pos=n,s.attrClosingQuote.val="'",console.log("1172 ".concat(Pt("SET","logAttr.attrEndAt",s.attrEndAt,"logAttr.attrClosingQuote",s.attrClosingQuote))),a.attributes.push(g(s)),console.log("1183 ".concat(Pt("PUSH, then RESET","logAttr"))),p()}else{var V=8220===i?"tag-attribute-left-double-quotation-mark":"tag-attribute-right-double-quotation-mark";d.issues.push({name:V,position:[[n,n+1,'"']]}),console.log("1123 ".concat(Pt("push",V,"".concat("[[".concat(n,", ").concat(n+1,", '\"']]"))))),s.attrEndAt=n,s.attrClosingQuote.pos=n,s.attrClosingQuote.val='"',console.log("1131 ".concat(Pt("SET","logAttr.attrEndAt",s.attrEndAt,"logAttr.attrClosingQuote",s.attrClosingQuote))),a.attributes.push(g(s)),console.log("1142 ".concat(Pt("PUSH, then RESET","logAttr"))),p()}s.attrOpeningQuote.val&&s.attrOpeningQuote.pos<n&&null===s.attrClosingQuote.pos&&("/"===t[n]&&Mt(t,n)&&">"===t[Mt(t,n)]||">"===t[n])&&(console.log("1289 inside error catch clauses"),d.issues.push({name:"tag-attribute-closing-quotation-mark-missing",position:[[n,n,s.attrOpeningQuote.val]]}),console.log("1296 ".concat(Pt("push","tag-attribute-closing-quotation-mark-missing","".concat("[[".concat(n,", ").concat(n,", ").concat(s.attrOpeningQuote.val,"]]"))))),s.attrClosingQuote.pos=n,s.attrClosingQuote.val=s.attrOpeningQuote.val,console.log("1306 ".concat(Pt("set","logAttr.attrClosingQuote",s.attrClosingQuote))),a.attributes.push(g(s)),console.log("1314 ".concat(Pt("PUSH, then RESET","logAttr"))),p())}if(i<32){var P="bad-character-".concat(jt[i]);9===i?(d.issues.push({name:P,position:[[n,n+1,"  "]]}),console.log('1342 PUSH "'.concat(P,'", [[').concat(n,", ").concat(n+1,', "  "]]'))):13===i?Vt(t[n+1])&&10===t[n+1].charCodeAt(0)?o.style&&o.style.line_endings_CR_LF_CRLF&&"CRLF"!==o.style.line_endings_CR_LF_CRLF?(d.issues.push({name:"file-wrong-type-line-ending-CRLF",position:[[n,n+2,r]]}),console.log("1361 ".concat(Pt("push","file-wrong-type-line-ending-CRLF","".concat("[[".concat(n,", ").concat(n+2,", ").concat(JSON.stringify(r,null,0),"]]")))))):(A.crlf.push([n,n+2]),console.log("1375 ".concat(Pt("logLineEndings.crlf push","[".concat(n,", ").concat(n+2,"]"))))):o.style&&o.style.line_endings_CR_LF_CRLF&&"CR"!==o.style.line_endings_CR_LF_CRLF?(d.issues.push({name:"file-wrong-type-line-ending-CR",position:[[n,n+1,r]]}),console.log("1391 ".concat(Pt("push","file-wrong-type-line-ending-CR","".concat("[[".concat(n,", ").concat(n+1,", ").concat(JSON.stringify(r,null,0),"]]")))))):(A.cr.push([n,n+1]),console.log("1405 ".concat(Pt("logLineEndings.cr push","[".concat(n,", ").concat(n+1,"]"))))):10===i?Vt(t[n-1])&&13===t[n-1].charCodeAt(0)||(o.style&&o.style.line_endings_CR_LF_CRLF&&"LF"!==o.style.line_endings_CR_LF_CRLF?(d.issues.push({name:"file-wrong-type-line-ending-LF",position:[[n,n+1,r]]}),console.log("1425 ".concat(Pt("push","file-wrong-type-line-ending-LF","".concat("[[".concat(n,", ").concat(n+1,", ").concat(JSON.stringify(r,null,0),"]]")))))):(A.lf.push([n,n+1]),console.log("1439 ".concat(Pt("logLineEndings.lf push","[".concat(n,", ").concat(n+1,"]")))))):(d.issues.push({name:P,position:[[n,n+1]]}),console.log("1449 ".concat(Pt("push",P,"".concat("[[".concat(n,", ").concat(n+1,"]]"))))))}else if(Ut(t,n)){var W=Ut(t,n);console.log("1454 ".concat("[".concat(31,"m","‚ñà‚ñà","[",39,"m")," new issue: ",JSON.stringify(W,null,0))),b.push(W),console.log("1462 push above issue to ".concat("[".concat(36,"m","rawIssueStaging","[",39,"m")))}if(null!==u.startAt&&t[n].trim().length&&(console.log("1469 - inside whitespace chunks ending clauses"),null!==a.tagNameStartAt&&null===s.attrStartAt&&(!s.attrClosingQuote.pos||s.attrClosingQuote.pos<=n)&&(">"===t[n]||"/"===t[n]&&"<>".includes(t[Mt(t,n)])))){console.log("1477");var M="tag-excessive-whitespace-inside-tag";"/"===t[u.startAt-1]&&(M="tag-whitespace-closing-slash-and-bracket"),d.issues.push({name:M,position:[[u.startAt,n]]}),console.log("1490 ".concat(Pt("push",M,"".concat("[[".concat(u.startAt,", ").concat(n,"]]")))))}if(t[n].trim().length||null!==u.startAt||(u.startAt=n,console.log("1499 ".concat(Pt("set","logWhitespace.startAt",u.startAt)))),"\n"!==t[n]&&"\r"!==t[n]||(null===u.startAt||u.includesLinebreaks||(u.includesLinebreaks=!0,console.log("1508 ".concat(Pt("set","logWhitespace.includesLinebreaks",u.includesLinebreaks)))),u.lastLinebreakAt=n,console.log("1517 ".concat(Pt("set","logWhitespace.lastLinebreakAt",u.lastLinebreakAt)))),null===a.tagNameStartAt||null!==a.tagNameEndAt||It(t[n])||"<"===t[n]||"/"===t[n]||(console.log("1535 not a latin letter, thus we assume tag name ends here"),a.tagNameEndAt=n,a.tagName=t.slice(a.tagNameStartAt,n),a.recognised=Nt.includes(a.tagName.toLowerCase()),console.log("1542 ".concat(Pt("set","logTag.tagNameEndAt",a.tagNameEndAt,"logTag.tagName",a.tagName,"logTag.recognised",a.recognised)))),null!==a.tagStartAt&&null===a.tagNameStartAt&&It(t[n])&&a.tagStartAt<n&&(a.tagNameStartAt=n,console.log("1563 ".concat(Pt("set","logTag.tagNameStartAt",a.tagNameStartAt))),a.tagStartAt<n-1&&null!==u.startAt&&(y.push({name:"tag-space-after-opening-bracket",position:[[a.tagStartAt+1,n]]}),console.log("1573 ".concat(Pt("stage","tag-space-after-opening-bracket","".concat("[[".concat(a.tagStartAt+1,", ").concat(n,"]]"))))))),null!==a.tagNameStartAt&&null===a.tagNameEndAt&&Qt(c=t[n])&&1===c.length&&c.charCodeAt(0)>64&&c.charCodeAt(0)<91&&(d.issues.push({name:"tag-name-lowercase",position:[[n,n+1,t[n].toLowerCase()]]}),console.log("1593 ".concat(Pt("push","tag-name-lowercase","".concat("[[".concat(n,", ").concat(n+1,", ").concat(JSON.stringify(t[n].toLowerCase(),null,4),"]]")))))),"<"===t[n])if(console.log("1608 catch the beginning of a tag ".concat("[".concat(31,"m","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà","[",39,"m"))),null===a.tagStartAt)a.tagStartAt=n,console.log("1614 ".concat(Pt("set","logTag.tagStartAt",a.tagStartAt)));else if(Bt(t,n))if(console.log("1620 ".concat("[".concat(32,"m","‚ñà‚ñà","[",39,"m")," new tag starts")),null!==a.tagStartAt&&a.attributes.length&&a.attributes.some(function(t){return null!==t.attrEqualAt&&null!==t.attrOpeningQuote.pos})){console.log("1636 TAG ON THE LEFT, WE CAN ADD CLOSING BRACKET (IF MISSING)");var D=Dt(t,n);console.log("1650 ".concat(Pt("set","lastNonWhitespaceOnLeft",D))),">"===t[D]?(a.tagEndAt=D+1,console.log("1663 ".concat(Pt("set","logTag.tagEndAt",a.tagEndAt)))):(d.issues.push({name:"tag-missing-closing-bracket",position:[[D+1,n,">"]]}),console.log("1673 ".concat(Pt("push","tag-missing-closing-bracket","".concat("[[".concat(D+1,", ").concat(n,', ">"]]')))))),b.length&&(console.log("1683 let's process all ".concat(b.length," raw character issues at staging")),b.forEach(function(t){t.position[0][0]<a.tagStartAt?(d.issues.push(t),console.log("1690 ".concat(Pt("push","issueObj",t)))):console.log("1693 discarding ".concat(JSON.stringify(t,null,4)))})),function(t){console.log("027 pingTag(): ".concat(JSON.stringify(t,null,4)))}(g(a)),l(),p(),b=[],console.log("1707 ".concat(Pt("reset","logTag & logAttr && rawIssueStaging"))),a.tagStartAt=n,console.log("1713 ".concat(Pt("set","logTag.tagStartAt",a.tagStartAt)))}else console.log("1716 NOT TAG ON THE LEFT, WE CAN ADD ENCODE BRACKETS"),b.length&&(console.log("1721 ".concat(Pt("processing","rawIssueStaging",b))),console.log("1724 ".concat(Pt("log","logTag.tagStartAt",a.tagStartAt))),console.log("1727 ".concat("[".concat(31,"m",JSON.stringify(s,null,4),"[",39,"m"))),b.forEach(function(t){t.position[0][0]<n?(d.issues.push(t),console.log("1740 ".concat(Pt("push","issueObj",t)))):(console.log(""),console.log("1744 ".concat("[".concat(31,"m","not pushed","[",39,"m")," ","[".concat(33,"m","issueObj","[",39,"m")," = ",JSON.stringify(t,null,4),"\nbecause ","[".concat(33,"m","issueObj.position[0][0]","[",39,"m"),"=").concat(t.position[0][0]," not < ","[".concat(33,"m","logTag.tagStartAt","[",39,"m"),"=").concat(a.tagStartAt)))}),console.log("1756 wipe rawIssueStaging"),b=[]),y.length&&(console.log("1762 ".concat(Pt("wipe","tagIssueStaging"))),y=[]);62===i&&null!==a.tagStartAt&&(!s.attrClosingQuote||s.attrClosingQuote.pos<n)&&(y.length&&(console.log("1778 concat ".concat("[".concat(33,"m","tagIssueStaging","[",39,"m")," then wipe")),d.issues=d.issues.concat(y),y=[]),b.length&&(console.log("1786 ".concat(Pt("processing","rawIssueStaging",b))),console.log("".concat("[".concat(33,"m","logTag","[",39,"m")," = ",JSON.stringify(a,null,4))),b.forEach(function(t){t.position[0][0]<a.tagStartAt||a.attributes.some(function(e){return _=n,e.attrValueStartAt<t.position[0][0]&&e.attrValueEndAt>t.position[0][0]})&&!d.issues.some(function(e){return _=n,e.position[0][0]===t.position[0][0]&&e.position[0][1]===t.position[0][1]})?(d.issues.push(t),console.log("1812 ".concat(Pt("push","issueObj",t)))):(console.log(""),console.log("1816 ".concat("[".concat(31,"m","not pushed","[",39,"m")," ","[".concat(33,"m","issueObj","[",39,"m")," = ",JSON.stringify(t,null,4),"\nbecause ","[".concat(33,"m","issueObj.position[0][0]","[",39,"m"),"=").concat(t.position[0][0]," not < ","[".concat(33,"m","logTag.tagStartAt","[",39,"m"),"=").concat(a.tagStartAt)))}),console.log("1828 wipe rawIssueStaging"),b=[]),l(),p(),console.log("1835 ".concat(Pt("reset","logTag & logAttr")))),t[n].trim().length&&(m(),console.log("1861 ".concat(Pt("reset","logWhitespace")))),t[n+1]||(console.log("1866"),b.length&&(console.log("1869"),null!==a.tagStartAt&&a.attributes.some(function(t){return null!==t.attrEqualAt&&null!==t.attrOpeningQuote})?(console.log("1880"),b.forEach(function(t){t.position[0][0]<a.tagStartAt?(d.issues.push(t),console.log("1885 ".concat(Pt("push","issueObj",t)))):console.log("\n1519 ".concat("[".concat(31,"m","not pushed","[",39,"m")," ","[".concat(33,"m","issueObj","[",39,"m")," = ",JSON.stringify(t,null,4),"\nbecause ","[".concat(33,"m","issueObj.position[0][0]","[",39,"m"),"=").concat(t.position[0][0]," not < ","[".concat(33,"m","logTag.tagStartAt","[",39,"m"),"=").concat(a.tagStartAt))}),console.log("1900 wipe rawIssueStaging"),b=[],d.issues.push({name:"tag-missing-closing-bracket",position:[[u.startAt?u.startAt:n+1,n+1,">"]]}),console.log("1915 ".concat(Pt("push","tag-missing-closing-bracket","".concat("[[".concat(u.startAt?u.startAt:n+1,", ").concat(n+1,', ">"]]')))))):(d.issues=d.issues.concat(b),console.log("1929 concat, then wipe ".concat("[".concat(33,"m","rawIssueStaging","[",39,"m"))),b=[])));var H={logTag:!0,logAttr:!0,logWhitespace:!0,logLineEndings:!1,retObj:!1,tagIssueStaging:!0,rawIssueStaging:!0};console.log("".concat(Object.keys(H).some(function(t){return H[t]})?"".concat("[".concat(31,"m","‚ñà ","[",39,"m")):"").concat(H.logTag&&null!==a.tagStartAt?"".concat("[".concat(33,"m","logTag","[",39,"m")," ",JSON.stringify(a,null,4),"; "):"").concat(H.logAttr&&null!==s.attrStartAt?"".concat("[".concat(33,"m","logAttr","[",39,"m")," ",JSON.stringify(s,null,4),"; "):"").concat(H.logWhitespace&&null!==u.startAt?"".concat("[".concat(33,"m","logWhitespace","[",39,"m")," ",JSON.stringify(u,null,0),"; "):"").concat(H.logLineEndings?"".concat("[".concat(33,"m","logLineEndings","[",39,"m")," ",JSON.stringify(A,null,0),"; "):"").concat(H.retObj?"".concat("[".concat(33,"m","retObj","[",39,"m")," ",JSON.stringify(d,null,4),"; "):"").concat(H.tagIssueStaging&&y.length?"\n".concat("[".concat(33,"m","tagIssueStaging","[",39,"m")," ",JSON.stringify(y,null,4),"; "):"").concat(H.rawIssueStaging&&b.length?"\n".concat("[".concat(33,"m","rawIssueStaging","[",39,"m")," ",JSON.stringify(b,null,4),"; "):"")),_=n},_=0,O=t.length;_<O;_++)v(_,O);return o.style&&o.style.line_endings_CR_LF_CRLF||!(A.cr.length&&A.lf.length||A.lf.length&&A.crlf.length||A.cr.length&&A.crlf.length)||(A.cr.length>A.crlf.length&&A.cr.length>A.lf.length?(console.log("2042 CR clearly prevalent"),A.crlf.length&&A.crlf.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-CR-mainly",position:[[t[0],t[1],"\r"]]})}),A.lf.length&&A.lf.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-CR-mainly",position:[[t[0],t[1],"\r"]]})})):A.lf.length>A.crlf.length&&A.lf.length>A.cr.length?(console.log("2064 LF clearly prevalent"),A.crlf.length&&A.crlf.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})}),A.cr.length&&A.cr.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})})):A.crlf.length>A.lf.length&&A.crlf.length>A.cr.length?(console.log("2086 CRLF clearly prevalent"),A.cr.length&&A.cr.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})}),A.lf.length&&A.lf.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})})):A.crlf.length===A.lf.length&&A.lf.length===A.cr.length?(console.log("2108 same amount of each type of EOL"),A.crlf.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})}),A.cr.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})})):A.cr.length===A.crlf.length&&A.cr.length>A.lf.length?(console.log("2127 CR & CRLF are prevalent over LF"),A.cr.length&&A.cr.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})}),A.lf.length&&A.lf.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-CRLF-mainly",position:[[t[0],t[1],"\r\n"]]})})):(A.lf.length===A.crlf.length&&A.lf.length>A.cr.length||A.cr.length===A.lf.length&&A.cr.length>A.crlf.length)&&(console.log("2152 LF && CRLF are prevalent over CR or CR & LF are prevalent over CRLF"),A.cr.length&&A.cr.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})}),A.crlf.length&&A.crlf.forEach(function(t){d.issues.push({name:"file-mixed-line-endings-file-is-LF-mainly",position:[[t[0],t[1],"\n"]]})}))),console.log("2175 BEFORE FIX"),console.log("2177 ".concat("[".concat(33,"m","retObj.issues","[",39,"m")," = ",JSON.stringify(d.issues,null,4))),d.fix=Jt(d.issues)&&d.issues.length?function(t,n){if(!Array.isArray(t))return t;if(n&&"function"!=typeof n)throw new Error(`ranges-merge: [THROW_ID_01] the second input argument must be a function! It was given of a type: "${typeof n}", equal to ${JSON.stringify(n,null,4)}`);const e=g(t).filter(t=>void 0!==t[2]||t[0]!==t[1]);let o,r,a;const c=(o=n?Tt(e,{progressFn:t=>{(a=Math.floor(t/5))!==r&&(r=a,n(a))}}):Tt(e)).length-1;for(let t=c;t>0;t--)n&&(a=Math.floor(78*(1-t/c))+21)!==r&&a>r&&(r=a,n(a)),(o[t][0]<=o[t-1][0]||o[t][0]<=o[t-1][1])&&(o[t-1][0]=Math.min(o[t][0],o[t-1][0]),o[t-1][1]=Math.max(o[t][1],o[t-1][1]),void 0!==o[t][2]&&(o[t-1][0]>=o[t][0]||o[t-1][1]<=o[t][1])&&null!==o[t-1][2]&&(null===o[t][2]&&null!==o[t-1][2]?o[t-1][2]=null:void 0!==o[t-1][2]?o[t-1][2]+=o[t][2]:o[t-1][2]=o[t][2]),o.splice(t,1),t=o.length);return o}(d.issues.reduce(function(t,n){return t.concat(n.position)},[])):null,d},t.version="0.7.0",t.errors="./errors.json",Object.defineProperty(t,"__esModule",{value:!0})});
