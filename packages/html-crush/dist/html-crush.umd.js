/**
 * html-crush
 * Minifies HTML/CSS: valid or broken, pure or mixed with other languages
 * Version: 3.0.3
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://codsen.com/os/html-crush/
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).htmlCrush={})}(this,(function(e){"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(r){t(e,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var i={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function o(e,t){if(!Array.isArray(e)||!e.length)return e;var r,o,s=n(n({},i),t);if(s.strictlyTwoElementsInRangeArrays&&!e.filter((function(e){return e})).every((function(e,t){return 2===e.length||(r=t,o=e.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, "+r+"th range ("+JSON.stringify(e[r],null,4)+") has not two but "+o+" elements!");if(!e.filter((function(e){return e})).every((function(e,t){return!(!Number.isInteger(e[0])||e[0]<0||!Number.isInteger(e[1])||e[1]<0)||(r=t,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, "+r+"th range ("+JSON.stringify(e[r],null,4)+") does not consist of only natural numbers!");var a=Math.pow(e.filter((function(e){return e})).length,2),u=0;return Array.from(e).filter((function(e){return e})).sort((function(e,t){return s.progressFn&&s.progressFn(Math.floor(100*(u+=1)/a)),e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1}))}var s={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function a(e,t){function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var i;if(t){if(!r(t))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n"+JSON.stringify(t,null,4)+" (type "+typeof t+")");if((i=n(n({},s),t)).progressFn&&r(i.progressFn)&&!Object.keys(i.progressFn).length)i.progressFn=null;else if(i.progressFn&&"function"!=typeof i.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'+typeof i.progressFn+'", equal to '+JSON.stringify(i.progressFn,null,4));if(i.mergeType&&1!=+i.mergeType&&2!=+i.mergeType)throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'+typeof i.mergeType+'", equal to '+JSON.stringify(i.mergeType,null,4));if("boolean"!=typeof i.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'+typeof i.joinRangesThatTouchEdges+'", equal to '+JSON.stringify(i.joinRangesThatTouchEdges,null,4))}else i=n({},s);var a,u,l,f=e.filter((function(e){return e})).map((function(e){return[].concat(e)})).filter((function(e){return void 0!==e[2]||e[0]!==e[1]}));if(!(a=i.progressFn?o(f,{progressFn:function(e){(l=Math.floor(e/5))!==u&&(u=l,i.progressFn(l))}}):o(f)))return null;for(var h=a.length-1,c=h;c>0;c--)i.progressFn&&(l=Math.floor(78*(1-c/h))+21)!==u&&l>u&&(u=l,i.progressFn(l)),(a[c][0]<=a[c-1][0]||!i.joinRangesThatTouchEdges&&a[c][0]<a[c-1][1]||i.joinRangesThatTouchEdges&&a[c][0]<=a[c-1][1])&&(a[c-1][0]=Math.min(a[c][0],a[c-1][0]),a[c-1][1]=Math.max(a[c][1],a[c-1][1]),void 0!==a[c][2]&&(a[c-1][0]>=a[c][0]||a[c-1][1]<=a[c][1])&&null!==a[c-1][2]&&(null===a[c][2]&&null!==a[c-1][2]?a[c-1][2]=null:null!=a[c-1][2]?2==+i.mergeType&&a[c-1][0]===a[c][0]?a[c-1][2]=a[c][2]:a[c-1][2]+=a[c][2]:a[c-1][2]=a[c][2]),a.splice(c,1),c=a.length);return a.length?a:null}function u(e,t){void 0===t&&(t=1);function r(e){return Array.from(e).reverse().join("")}function n(e,t,r){var n=r?"\n":"\r",i=r?"\r":"\n";if(!e)return e;for(var o=0,s="",a=0,u=e.length;a<u;a++)(e[a]===n||e[a]===i&&e[a-1]!==n)&&o++,"\r\n".includes(e[a])||" "===e[a]?" "===e[a]?s+=e[a]:e[a]===n?o<=t&&(s+=e[a],e[a+1]===i&&(s+=e[a+1],a++)):e[a]===i&&(!e[a-1]||e[a-1]!==n)&&o<=t&&(s+=e[a]):e[a+1]||o||(s+=" ");return s}if("string"==typeof e&&e.length){var i=1;"number"==typeof+t&&Number.isInteger(+t)&&+t>=0&&(i=+t);var o="",s="";if(e.trim()){if(!e[0].trim())for(var a=0,u=e.length;a<u;a++)if(e[a].trim()){o=e.slice(0,a);break}}else o=e;if(e.trim()&&(""===e.slice(-1).trim()||" "===e.slice(-1)))for(var l=e.length;l--;)if(e[l].trim()){s=e.slice(l+1);break}return""+n(o,i,!1)+e.trim()+r(n(r(s),i,!0))}return e}function l(e){return null!=e}function f(e){return Number.isInteger(e)&&e>=0}function h(e){return"string"==typeof e}var c={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1},g=function(){function e(e){var t=n(n({},c),e);if(t.mergeType&&1!==t.mergeType&&2!==t.mergeType)if(h(t.mergeType)&&"1"===t.mergeType.trim())t.mergeType=1;else{if(!h(t.mergeType)||"2"!==t.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'+typeof t.mergeType+'", equal to '+JSON.stringify(t.mergeType,null,4));t.mergeType=2}this.opts=t,this.ranges=[]}var t=e.prototype;return t.add=function(e,t,r){var n=this;if(null!=e||null!=t){if(l(e)&&!l(t)){if(Array.isArray(e)){if(e.length){if(e.some((function(e){return Array.isArray(e)})))return void e.forEach((function(e){Array.isArray(e)&&n.add.apply(n,e)}));e.length&&f(+e[0])&&f(+e[1])&&this.add.apply(this,e)}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('+JSON.stringify(e,null,0)+') but second-one, "to" is not ('+JSON.stringify(t,null,0)+")")}if(!l(e)&&l(t))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('+JSON.stringify(t,null,0)+') but first-one, "from" is not ('+JSON.stringify(e,null,0)+")");var i=+e,o=+t;if(f(r)&&(r=String(r)),!f(i)||!f(o))throw f(i)&&i>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'+typeof o+'" equal to: '+JSON.stringify(o,null,4)):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'+typeof i+'" equal to: '+JSON.stringify(i,null,4));if(l(r)&&!h(r)&&!f(r))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but "+typeof r+", equal to:\n"+JSON.stringify(r,null,4));if(l(this.ranges)&&Array.isArray(this.last())&&i===this.last()[1]){if(this.last()[1]=o,this.last(),null!==this.last()[2]&&l(r)){var s=!(this.last()[2]&&this.last()[2].length>0)||this.opts&&this.opts.mergeType&&1!==this.opts.mergeType?r:this.last()[2]+r;this.opts.limitToBeAddedWhitespace&&(s=u(s,this.opts.limitLinebreaksCount)),h(s)&&!s.length||(this.last()[2]=s)}}else{this.ranges||(this.ranges=[]);var a=void 0===r||h(r)&&!r.length?[i,o]:[i,o,r&&this.opts.limitToBeAddedWhitespace?u(r,this.opts.limitLinebreaksCount):r];this.ranges.push(a)}}},t.push=function(e,t,r){this.add(e,t,r)},t.current=function(){var e=this;return Array.isArray(this.ranges)&&this.ranges.length?(this.ranges=a(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(t){return l(t[2])?[t[0],t[1],u(t[2],e.opts.limitLinebreaksCount)]:t})):this.ranges):null},t.wipe=function(){this.ranges=[]},t.replace=function(e){if(Array.isArray(e)&&e.length){if(!Array.isArray(e[0])||!f(e[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, "+JSON.stringify(e[0],null,4)+" should be an array and its first element should be an integer, a string index.");this.ranges=Array.from(e)}else this.ranges=[]},t.last=function(){return Array.isArray(this.ranges)&&this.ranges.length?this.ranges[this.ranges.length-1]:null},e}();function p(e){return e&&"object"==typeof e&&!Array.isArray(e)}function d(e){return"string"==typeof e}var m={cb:void 0,i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],maxMismatches:0,firstMustMatch:!1,lastMustMatch:!1},y=function(e){return e+1};function T(e,t,r,i,o,s){void 0===o&&(o=!1),void 0===s&&(s=y);var a="function"==typeof r?r():r;if(+t<0&&o&&"EOL"===a)return a;var u=n(n({},m),i);if(t>=e.length&&!o)return!1;for(var l=o?1:r.length,f=!1,h=!1,c=u.maxMismatches,g=t,p=!1,d=!1,T=!1;e[g];){var v=s(g);if(u.trimBeforeMatching&&""===e[g].trim()){if(!e[v]&&o&&"EOL"===r)return!0;g=s(g)}else if(u&&!u.i&&u.trimCharsBeforeMatching&&u.trimCharsBeforeMatching.includes(e[g])||u&&u.i&&u.trimCharsBeforeMatching&&u.trimCharsBeforeMatching.map((function(e){return e.toLowerCase()})).includes(e[g].toLowerCase())){if(o&&"EOL"===r&&!e[v])return!0;g=s(g)}else{var b=v>g?r[r.length-l]:r[l-1];if(!u.i&&e[g]===b||u.i&&e[g].toLowerCase()===b.toLowerCase()){if(p||(p=!0),h||(h=!0),l===r.length?d=!0:1===l&&(T=!0),(l-=1)<1)return g}else{if(!(u.maxMismatches&&c&&g))return!(0!==g||1!==l||u.lastMustMatch||!h)&&0;c-=1;for(var w=0;w<=c;w++){var O=v>g?r[r.length-l+1+w]:r[l-2-w],_=e[s(g)];if(O&&(!u.i&&e[g]===O||u.i&&e[g].toLowerCase()===O.toLowerCase())&&(!u.firstMustMatch||l!==r.length)){l-=2,p=!0;break}if(_&&O&&(!u.i&&_===O||u.i&&_.toLowerCase()===O.toLowerCase())&&(!u.firstMustMatch||l!==r.length)){l-=1,p=!0;break}if(void 0===O&&c>=0&&p&&(!u.firstMustMatch||d)&&(!u.lastMustMatch||T))return g}p||(f=g)}if(!1!==f&&f!==g&&(f=!1),l<1)return g;g=s(g)}}return l>0?!(!o||"EOL"!==a)||!!(u&&u.maxMismatches>=l&&h)&&(f||0):void 0}function v(e,t,r,i,o){if(p(o)&&Object.prototype.hasOwnProperty.call(o,"trimBeforeMatching")&&"boolean"!=typeof o.trimBeforeMatching)throw new Error("string-match-left-right/"+e+"(): [THROW_ID_09] opts.trimBeforeMatching should be boolean!"+(Array.isArray(o.trimBeforeMatching)?" Did you mean to use opts.trimCharsBeforeMatching?":""));var s,a,u,l=n(n({},m),o);if("string"==typeof l.trimCharsBeforeMatching&&(l.trimCharsBeforeMatching="string"==typeof(s=l.trimCharsBeforeMatching)?s.length?[s]:[]:s),l.trimCharsBeforeMatching=l.trimCharsBeforeMatching.map((function(e){return d(e)?e:String(e)})),!d(t))return!1;if(!t.length)return!1;if(!Number.isInteger(r)||r<0)throw new Error("string-match-left-right/"+e+"(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: "+typeof r+", equal to:\n"+JSON.stringify(r,null,4));if(d(i))a=[i];else if(Array.isArray(i))a=i;else if(i){if("function"!=typeof i)throw new Error("string-match-left-right/"+e+"(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's "+typeof i+", equal to:\n"+JSON.stringify(i,null,4));(a=[]).push(i)}else a=i;if(o&&!p(o))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type \""+typeof o+'", and equal to:\n'+JSON.stringify(o,null,4));var f=0,h="";if(l&&l.trimCharsBeforeMatching&&l.trimCharsBeforeMatching.some((function(e,t){return e.length>1&&(f=t,h=e,!0)})))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index "+f+" is longer than 1 character, "+h.length+" (equals to "+h+"). Please split it into separate characters and put into array as separate elements.");if(!a||!Array.isArray(a)||Array.isArray(a)&&!a.length||Array.isArray(a)&&1===a.length&&d(a[0])&&!a[0].trim()){if("function"==typeof l.cb){var c,g=r;if("matchLeftIncl"!==e&&"matchRight"!==e||(g+=1),"L"===e[5])for(var y=g;y--;){var v=t[y];if((!l.trimBeforeMatching||l.trimBeforeMatching&&void 0!==v&&v.trim())&&(!l.trimCharsBeforeMatching||!l.trimCharsBeforeMatching.length||void 0!==v&&!l.trimCharsBeforeMatching.includes(v))){c=y;break}}else if(e.startsWith("matchRight"))for(var b=g;b<t.length;b++){var w=t[b];if((!l.trimBeforeMatching||l.trimBeforeMatching&&w.trim())&&(!l.trimCharsBeforeMatching||!l.trimCharsBeforeMatching.length||!l.trimCharsBeforeMatching.includes(w))){c=b;break}}if(void 0===c)return!1;var O=t[c],_=c+1,I="";return _&&_>0&&(I=t.slice(0,_)),"L"===e[5]?l.cb(O,I,c):(c&&c>0&&(I=t.slice(c)),l.cb(O,I,c))}var L="";throw o||(L=" More so, the whole options object, the fourth input argument, is missing!"),new Error("string-match-left-right/"+e+'(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!'+L)}for(var S=0,A=a.length;S<A;S++){var C=a[S],j=void 0,M=void 0,R="",x=r;"matchRight"===e?x+=1:"matchLeft"===e&&(x-=1);var W=T(t,x,C,l,u="function"==typeof a[S],(function(t){return"L"===e[5]?t-1:t+1}));if(W&&u&&"function"==typeof C&&"EOL"===C())return!(!C()||l.cb&&!l.cb(j,R,M))&&C();if(Number.isInteger(W)&&(M=e.startsWith("matchLeft")?W-1:W+1,R="L"===e[5]?t.slice(0,W):t.slice(M)),M<0&&(M=void 0),t[M]&&(j=t[M]),Number.isInteger(W)&&(!l.cb||l.cb(j,R,M)))return C}return!1}function b(e,t,r,n){return v("matchLeft",e,t,r,n)}function w(e,t,r,n){return v("matchRightIncl",e,t,r,n)}function O(e,t,r,n){return v("matchRight",e,t,r,n)}var _={str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1};function I(e){var t,r=/^[0-9a-zA-Z]+$/;function i(e){return!(!e||"string"!=typeof e)&&!e.trim()}function o(e){return"string"==typeof e}if(!e||"object"!=typeof e||Array.isArray(e))throw t=void 0===e?"but it is missing completely.":null===e?"but it was given as null.":"but it was given as "+typeof e+", equal to:\n"+JSON.stringify(e,null,4)+".",new Error("string-range-expander: [THROW_ID_01] Input must be a plain object "+t);if("object"==typeof e&&null!==e&&!Array.isArray(e)&&!Object.keys(e).length)throw new Error("string-range-expander: [THROW_ID_02] Input must be a plain object but it was given as a plain object without any keys.");if("number"!=typeof e.from)throw new Error("string-range-expander: [THROW_ID_03] The input's \"from\" value opts.from, is not a number! Currently it's given as "+typeof e.from+", equal to "+JSON.stringify(e.from,null,0));if("number"!=typeof e.to)throw new Error("string-range-expander: [THROW_ID_04] The input's \"to\" value opts.to, is not a number! Currently it's given as "+typeof e.to+", equal to "+JSON.stringify(e.to,null,0));if(e&&e.str&&!e.str[e.from]&&e.from!==e.to)throw new Error('string-range-expander: [THROW_ID_05] The given input string opts.str ("'+e.str+'") must contain the character at index "from" ("'+e.from+'")');if(e&&e.str&&!e.str[e.to-1])throw new Error('string-range-expander: [THROW_ID_06] The given input string, opts.str ("'+e.str+'") must contain the character at index before "to" ("'+(e.to-1)+'")');if(e.from>e.to)throw new Error('string-range-expander: [THROW_ID_07] The given "from" index, "'+e.from+'" is greater than "to" index, "'+e.to+"\". That's wrong!");if(o(e.extendToOneSide)&&"left"!==e.extendToOneSide&&"right"!==e.extendToOneSide||!o(e.extendToOneSide)&&void 0!==e.extendToOneSide&&!1!==e.extendToOneSide)throw new Error("string-range-expander: [THROW_ID_08] The opts.extendToOneSide value is not recogniseable! It's set to: \""+e.extendToOneSide+'" ('+typeof e.extendToOneSide+'). It has to be either Boolean "false" or strings "left" or "right"');var s=n(n({},_),e);if(Array.isArray(s.ifLeftSideIncludesThisThenCropTightly)){var a,u;if(!s.ifLeftSideIncludesThisThenCropTightly.every((function(e,t){return!!o(e)||(a=t,u=e,!1)})))throw new Error("string-range-expander: [THROW_ID_09] The opts.ifLeftSideIncludesThisThenCropTightly was set to an array:\n"+JSON.stringify(s.ifLeftSideIncludesThisThenCropTightly,null,4)+". Now, that array contains not only string elements. For example, an element at index "+a+" is of a type "+typeof u+" (equal to "+JSON.stringify(u,null,0)+").");s.ifLeftSideIncludesThisThenCropTightly=s.ifLeftSideIncludesThisThenCropTightly.join("")}var l=s.str,f=s.from,h=s.to;if("right"!==s.extendToOneSide&&(i(l[f-1])&&(i(l[f-2])||s.ifLeftSideIncludesThisCropItToo.includes(l[f-2]))||l[f-1]&&s.ifLeftSideIncludesThisCropItToo.includes(l[f-1])||s.wipeAllWhitespaceOnLeft&&i(l[f-1])))for(var c=f;c--;)if(!s.ifLeftSideIncludesThisCropItToo.includes(l[c])){if(l[c].trim()){f=s.wipeAllWhitespaceOnLeft||s.ifLeftSideIncludesThisCropItToo.includes(l[c+1])?c+1:c+2;break}if(0===c){f=s.wipeAllWhitespaceOnLeft?0:1;break}}if("left"!==s.extendToOneSide&&(i(l[h])&&(s.wipeAllWhitespaceOnRight||i(l[h+1]))||s.ifRightSideIncludesThisCropItToo.includes(l[h])))for(var g=h,p=l.length;g<p;g++)if(!s.ifRightSideIncludesThisCropItToo.includes(l[g])&&(l[g]&&l[g].trim()||void 0===l[g])){h=s.wipeAllWhitespaceOnRight||s.ifRightSideIncludesThisCropItToo.includes(l[g-1])?g:g-1;break}return("right"!==s.extendToOneSide&&o(s.ifLeftSideIncludesThisThenCropTightly)&&s.ifLeftSideIncludesThisThenCropTightly&&(l[f-2]&&s.ifLeftSideIncludesThisThenCropTightly.includes(l[f-2])||l[f-1]&&s.ifLeftSideIncludesThisThenCropTightly.includes(l[f-1]))||"left"!==s.extendToOneSide&&o(s.ifRightSideIncludesThisThenCropTightly)&&s.ifRightSideIncludesThisThenCropTightly&&(l[h+1]&&s.ifRightSideIncludesThisThenCropTightly.includes(l[h+1])||l[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(l[h])))&&("right"!==s.extendToOneSide&&i(l[f-1])&&!s.wipeAllWhitespaceOnLeft&&(f-=1),"left"!==s.extendToOneSide&&i(l[h])&&!s.wipeAllWhitespaceOnRight&&(h+=1)),s.addSingleSpaceToPreventAccidentalConcatenation&&l[f-1]&&l[f-1].trim()&&l[h]&&l[h].trim()&&(!s.ifLeftSideIncludesThisThenCropTightly&&!s.ifRightSideIncludesThisThenCropTightly||s.ifLeftSideIncludesThisThenCropTightly&&!s.ifLeftSideIncludesThisThenCropTightly.includes(l[f-1])||!(!s.ifRightSideIncludesThisThenCropTightly||l[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(l[h])))&&(r.test(l[f-1])||r.test(l[h]))?[f,h," "]:[f,h]}Function.prototype.toString.call(Object);var L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){var t={exports:{}};e(t,t.exports)}((function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Boolean]",s="[object Date]",a="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",c="[object Promise]",g="[object RegExp]",p="[object Set]",d="[object String]",m="[object Symbol]",y="[object WeakMap]",T="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",_="[object Int16Array]",I="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",j="[object Uint32Array]",M=/\w*$/,R=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,W={};W[i]=W["[object Array]"]=W[T]=W[v]=W[o]=W[s]=W[b]=W[w]=W[O]=W[_]=W[I]=W[l]=W[f]=W[h]=W[g]=W[p]=W[d]=W[m]=W[S]=W[A]=W[C]=W[j]=!0,W["[object Error]"]=W[a]=W[y]=!1;var E="object"==typeof self&&self&&self.Object===Object&&self,k="object"==typeof L&&L&&L.Object===Object&&L||E||Function("return this")(),N=t&&!t.nodeType&&t,B=N&&e&&!e.nodeType&&e,F=B&&B.exports===N;function D(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function P(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function J(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function $(e,t){return function(r){return e(t(r))}}function U(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var z,V=Array.prototype,G=Function.prototype,Y=Object.prototype,Z=k["__core-js_shared__"],K=(z=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",Q=G.toString,X=Y.hasOwnProperty,ee=Y.toString,te=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=F?k.Buffer:void 0,ne=k.Symbol,ie=k.Uint8Array,oe=$(Object.getPrototypeOf,Object),se=Object.create,ae=Y.propertyIsEnumerable,ue=V.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,he=$(Object.keys,Object),ce=Be(k,"DataView"),ge=Be(k,"Map"),pe=Be(k,"Promise"),de=Be(k,"Set"),me=Be(k,"WeakMap"),ye=Be(Object,"create"),Te=Je(ce),ve=Je(ge),be=Je(pe),we=Je(de),Oe=Je(me),_e=ne?ne.prototype:void 0,Ie=_e?_e.valueOf:void 0;function Le(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){this.__data__=new Se(e)}function je(e,t){var r=$e(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ue(e)}(e)&&X.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!X.call(e,s)||o&&("length"==s||He(s,n))||r.push(s);return r}function Me(e,t,r){var n=e[t];X.call(e,t)&&qe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Re(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}function xe(e,t,r,n,c,y,L){var R;if(n&&(R=y?n(e,c,y,L):n(e)),void 0!==R)return R;if(!Ge(e))return e;var x=$e(e);if(x){if(R=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&X.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,R)}else{var E=De(e),k=E==a||E==u;if(ze(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(E==h||E==i||k&&!y){if(J(e))return y?e:{};if(R=function(e){return"function"!=typeof e.constructor||Pe(e)?{}:(t=oe(e),Ge(t)?se(t):{});var t}(k?{}:e),!t)return function(e,t){return ke(e,Fe(e),t)}(e,function(e,t){return e&&ke(t,Ye(t),e)}(R,e))}else{if(!W[E])return y?e:{};R=function(e,t,r,n){var i=e.constructor;switch(t){case T:return Ee(e);case o:case s:return new i(+e);case v:return function(e,t){var r=t?Ee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case b:case w:case O:case _:case I:case S:case A:case C:case j:return function(e,t){var r=t?Ee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case l:return function(e,t,r){return P(t?r(q(e),!0):q(e),D,new e.constructor)}(e,n,r);case f:case d:return new i(e);case g:return function(e){var t=new e.constructor(e.source,M.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,r){return P(t?r(U(e),!0):U(e),H,new e.constructor)}(e,n,r);case m:return a=e,Ie?Object(Ie.call(a)):{}}var a}(e,E,xe,t)}}L||(L=new Ce);var N=L.get(e);if(N)return N;if(L.set(e,R),!x)var B=r?function(e){return function(e,t,r){var n=t(e);return $e(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ye,Fe)}(e):Ye(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(B||e,(function(i,o){B&&(i=e[o=i]),Me(R,o,xe(i,t,r,n,o,e,L))})),R}function We(e){return!(!Ge(e)||(t=e,K&&K in t))&&(Ve(e)||J(e)?te:R).test(Je(e));var t}function Ee(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function ke(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=n?n(r[s],e[s],s,r,e):void 0;Me(r,s,void 0===a?e[s]:a)}return r}function Ne(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Be(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return We(r)?r:void 0}Le.prototype.clear=function(){this.__data__=ye?ye(null):{}},Le.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Le.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return X.call(t,e)?t[e]:void 0},Le.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:X.call(t,e)},Le.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Re(t,e);return!(r<0)&&(r==t.length-1?t.pop():ue.call(t,r,1),!0)},Se.prototype.get=function(e){var t=this.__data__,r=Re(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Re(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Re(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Le,map:new(ge||Se),string:new Le}},Ae.prototype.delete=function(e){return Ne(this,e).delete(e)},Ae.prototype.get=function(e){return Ne(this,e).get(e)},Ae.prototype.has=function(e){return Ne(this,e).has(e)},Ae.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},Ce.prototype.clear=function(){this.__data__=new Se},Ce.prototype.delete=function(e){return this.__data__.delete(e)},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!ge||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ae(n)}return r.set(e,t),this};var Fe=le?$(le,Object):function(){return[]},De=function(e){return ee.call(e)};function He(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Je(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(ce&&De(new ce(new ArrayBuffer(1)))!=v||ge&&De(new ge)!=l||pe&&De(pe.resolve())!=c||de&&De(new de)!=p||me&&De(new me)!=y)&&(De=function(e){var t=ee.call(e),r=t==h?e.constructor:void 0,n=r?Je(r):void 0;if(n)switch(n){case Te:return v;case ve:return l;case be:return c;case we:return p;case Oe:return y}return t});var $e=Array.isArray;function Ue(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!Ve(e)}var ze=fe||function(){return!1};function Ve(e){var t=Ge(e)?ee.call(e):"";return t==a||t==u}function Ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ye(e){return Ue(e)?je(e):function(e){if(!Pe(e))return he(e);var t=[];for(var r in Object(e))X.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return xe(e,!0,!0)}}));var S=" ";function A(e,t){return void 0===t&&(t=0),function(e){var t=e.str,r=e.idx,n=void 0===r?0:r,i=e.stopAtNewlines,o=void 0!==i&&i,s=e.stopAtRawNbsp,a=void 0!==s&&s;if("string"!=typeof t||!t.length)return null;if(n&&"number"==typeof n||(n=0),!t[n+1])return null;if(t[n+1]&&(t[n+1].trim()||o&&"\n\r".includes(t[n+1])||a&&t[n+1]===S))return n+1;if(t[n+2]&&(t[n+2].trim()||o&&"\n\r".includes(t[n+2])||a&&t[n+2]===S))return n+2;for(var u=n+1,l=t.length;u<l;u++)if(t[u].trim()||o&&"\n\r".includes(t[u])||a&&t[u]===S)return u;return null}({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function C(e,t){return void 0===t&&(t=0),function(e){var t=e.str,r=e.idx,n=e.stopAtNewlines,i=e.stopAtRawNbsp;if("string"!=typeof t||!t.length)return null;if(r&&"number"==typeof r||(r=0),r<1)return null;if(t[~-r]&&(t[~-r].trim()||n&&"\n\r".includes(t[~-r])||i&&t[~-r]===S))return~-r;if(t[r-2]&&(t[r-2].trim()||n&&"\n\r".includes(t[r-2])||i&&t[r-2]===S))return r-2;for(var o=r;o--;)if(t[o]&&(t[o].trim()||n&&"\n\r".includes(t[o])||i&&t[o]===S))return o;return null}({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}var j=new g({limitToBeAddedWhitespace:!0}),M={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,removeHTMLComments:!1,removeCSSComments:!0,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100,breakToTheLeftOf:["</td","<html","</html","<head","</head","<meta","<link","<table","<script","</script","<!DOCTYPE","<style","</style","<title","<body","@media","</body","\x3c!--[if","\x3c!--<![endif","<![endif]"],mindTheInlineTags:["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]},R={removeHTMLComments:!1,removeCSSComments:!1};function x(e){return"string"==typeof e}function W(e){return"string"==typeof e&&e.toUpperCase()!==e.toLowerCase()}e.crush=function(e,t){var r=Date.now();if(!x(e))throw void 0===e?new Error("html-crush: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error('html-crush: [THROW_ID_02] the first input argument must be string! It was given as "'+typeof e+'", equal to:\n'+JSON.stringify(e,null,4));if(t&&"object"!=typeof t)throw new Error("html-crush: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type "+typeof t+", equal to "+JSON.stringify(t,null,4));if(t&&Array.isArray(t.breakToTheLeftOf)&&t.breakToTheLeftOf.length)for(var i=0,o=t.breakToTheLeftOf.length;i<o;i++)if(!x(t.breakToTheLeftOf[i]))throw new TypeError("html-crush: [THROW_ID_05] the opts.breakToTheLeftOf array contains non-string elements! For example, element at index "+i+' is of a type "'+typeof t.breakToTheLeftOf[i]+'" and is equal to:\n'+JSON.stringify(t.breakToTheLeftOf[i],null,4));var s=n(n({},M),t);"boolean"==typeof s.removeHTMLComments&&(s.removeHTMLComments=s.removeHTMLComments?1:0);var u="";Array.isArray(s.breakToTheLeftOf)&&s.breakToTheLeftOf.length&&(u=[].concat(new Set(s.breakToTheLeftOf.map((function(e){return e[0]})))).join(""));var l,f,h,c=null,g=null,p=!1,d=0,m=0,y=!1,T=!1,v=null,_=null,L=null,S=null,E=null,k=null,N=null,B=null,F=null,D=null,H=">};",P="<",J="{},:;<>~+",q=J,$=J,U=!0,z=e.length,V=Math.floor(z/2);s.reportProgressFunc&&(f=Math.floor(s.reportProgressFuncTo-.01*(s.reportProgressFuncTo-s.reportProgressFuncFrom)-s.reportProgressFuncFrom));var G=0;if(z){for(var Y=0;Y<z;Y++)if(s.reportProgressFunc&&(z>1e3&&z<2e3?Y===V&&s.reportProgressFunc(Math.floor((s.reportProgressFuncTo-s.reportProgressFuncFrom)/2)):z>=2e3&&(h=s.reportProgressFuncFrom+Math.floor(Y/z*(f||1)))!==G&&(G=h,s.reportProgressFunc(h))),m++,l&&"number"==typeof l&&Y>=l&&(l=void 0),null===S||!e.startsWith("</script",Y)||W(e[Y+8])){if(!l&&!y&&e.startsWith("<script",Y)&&!W(e[Y+7])){S=Y,l=!0;var Z="";(s.removeLineBreaks||s.removeIndentations)&&null!==g&&(g>0&&(Z="\n"),j.push(g,Y,Z)),g=null,c=null}if(null!==F&&null===B&&!/\w/.test(e[Y])){B=e.slice(F,Y);var K=A(e,~-Y);"number"==typeof K&&">"===e[K]&&!e[Y].trim()&&A(e,Y)?j.push(Y,A(e,Y)):K&&"/"===e[K]&&">"===e[A(e,K)]&&(!e[Y].trim()&&A(e,Y)&&j.push(Y,A(e,Y)),">"!==e[K+1]&&A(e,K+1)&&j.push(K+1,A(e,K+1)))}if(l||y||v||"<"!==e[~-Y]||null!==F||(/\w/.test(e[Y])?F=Y:"/"===e[A(e,~-Y)]&&/\w/.test(e[A(e,A(e,~-Y))]||"")&&(F=A(e,A(e,~-Y)))),!l&&(y||v)&&null!==_&&"*"===e[Y]&&"/"===e[Y+1]){var Q=I({str:e,from:_,to:Y+2,ifLeftSideIncludesThisThenCropTightly:q,ifRightSideIncludesThisThenCropTightly:$});k=Q[1],_=null,null!=(E=Q[0])?j.push(E,k):(d+=1,Y+=1),l=Y+2}if(l||!y&&!v||null!==_||"/"!==e[Y]||"*"!==e[Y+1]||(R.removeCSSComments||(R.removeCSSComments=!0),s.removeCSSComments&&(_=Y)),T&&e.startsWith("![endif",Y+1)&&(T=!1),!l&&!y&&!v&&null!==L){var X=void 0;if(e.startsWith("--\x3e",Y)?X=3:">"===e[Y]&&"]"===e[Y-1]&&(X=1),X){var ee=I({str:e,from:L,to:Y+X});k=ee[1],L=null,null!=(E=ee[0])?s.lineLengthLimit&&m-(k-E)>=s.lineLengthLimit?(j.push(E,k,"\n"),m=-X):(j.push(E,k),m-=k-E):(d+=X-1,Y+=X-1),l=Y+X}}if(l||y||v||!e.startsWith("\x3c!--",Y)||null!==L||(e.startsWith("[if",Y+4)?(T||(T=!0),2===s.removeHTMLComments&&(L=Y)):!s.removeHTMLComments||T&&2!==s.removeHTMLComments||(L=Y),R.removeHTMLComments||(R.removeHTMLComments=!0)),!l&&y&&null===_&&e.startsWith("</style",Y)&&!W(e[Y+7])?y=!1:l||y||null!==_||!e.startsWith("<style",Y)||W(e[Y+6])||(y=!0,(s.removeLineBreaks||s.removeIndentations)&&s.breakToTheLeftOf.includes("<style")&&e.startsWith(' type="text/css">',Y+6)&&e[Y+24]&&j.push(Y+23,Y+23,"\n")),!l&&!v&&"\"'".includes(e[Y])&&e.endsWith("style=",Y)&&(v=Y),l||e[Y].trim()){if(!l&&(!y&&!v||null===_)){if(null!==g){if(s.removeLineBreaks&&(d+=1),U)U=!1,(s.removeIndentations||s.removeLineBreaks)&&j.push(0,Y);else if(s.removeIndentations&&!s.removeLineBreaks&&(!p&&null!==c&&Y>c?j.push(c+1,Y):g+1<Y&&(e.endsWith("]>",g)||e.endsWith("--\x3e",g)||e.startsWith("<![",Y)||e.startsWith("\x3c!--<![",Y)?j.push(g,Y):" "===e[g]?j.push(g+1,Y):" "===e[~-Y]?j.push(g,~-Y):j.push(g,Y," "))),s.removeLineBreaks||v){if(u.includes(e[Y])&&w(e,Y,s.breakToTheLeftOf)){"\n"===e[~-Y]&&g===~-Y||j.push(g,Y,"\n"),E=null,k=null,N=null,g=null,d=1;continue}var te=" ";"<"===e[Y]&&O(e,Y,s.mindTheInlineTags,{cb:function(e){return!e||!/\w/.test(e)}})||(e[~-g]&&">".includes(e[~-g])&&"<".includes(e[Y])||(y||v)&&null===_&&(q.includes(e[~-g])||$.includes(e[Y]))||e.startsWith("!important",Y)&&!T||v&&("'"===e[~-g]||'"'===e[~-g])||"}"===e[~-g]&&e.startsWith("</style",Y)||">"===e[Y]&&("'\"".includes(e[C(e,Y)])||"<"===e[A(e,Y)])||"/"===e[Y]&&">"===e[A(e,Y)])&&(te="","/"===e[Y]&&">"===e[Y+1]&&A(e,Y)&&A(e,Y)>Y+1&&(j.push(Y+1,A(e,Y)),d-=A(e,Y)-Y+1)),te&&te.length&&(d+=1),s.lineLengthLimit?d>=s.lineLengthLimit||!e[Y+1]||">"===e[Y]||"/"===e[Y]&&">"===e[Y+1]?((d>s.lineLengthLimit||d===s.lineLengthLimit&&e[Y+1]&&e[Y+1].trim()&&!H.includes(e[Y])&&!P.includes(e[Y+1]))&&(te="\n",d=1),(d>s.lineLengthLimit||" "!==te||Y!==g+1)&&j.push(g,Y,te),E=null,k=null,N=null):(null===E||g<E)&&(E=g,k=Y,N=te):Y===g+1&&" "===te||j.push(g,Y,te)}g=null,p||(p=!0)}else U&&(U=!1),s.removeLineBreaks&&(d+=1);p||(p=!0)}}else null===g&&(g=Y);if(!l&&!U&&0!==Y&&s.removeLineBreaks&&(s.lineLengthLimit||u)&&!e.startsWith("</a",Y)){if(u&&w(e,Y,s.breakToTheLeftOf)&&e.slice(0,Y).trim()&&(!e.startsWith("<![endif]",Y)||!b(e,Y,"\x3c!--"))){j.push(Y,Y,"\n"),E=null,k=null,N=null,d=1;continue}if(s.lineLengthLimit&&d<=s.lineLengthLimit){if(!e[Y+1]||P.includes(e[Y])&&!"!".includes(e[Y])||H.includes(e[Y])||!e[Y].trim()){if(null!==E&&null!==k&&(E!==k||N&&N.length)){var re=N;e[Y].trim()&&e[Y+1]&&e[Y+1].trim()&&d+(N?N.length:0)>s.lineLengthLimit&&(re="\n"),d+(re?re.length:0)>s.lineLengthLimit||" "!==re||k!==E+1?"}"===e[~-E]&&"{"===e[k]||j.push(E,k,re):d-=c||0}!(e[Y].trim()&&(P.includes(e[Y])||e[~-Y]&&H.includes(e[~-Y]))&&x(D))||B&&s.mindTheInlineTags.includes(B)||"<"===e[Y]&&O(e,Y,s.mindTheInlineTags,{cb:function(e){return!e||!/\w/.test(e)}})||"<"===e[Y]&&O(e,Y,s.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}})?null!==_||null===E||!(v||!s.mindTheInlineTags||!Array.isArray(s.mindTheInlineTags)||Array.isArray(s.mindTheInlineTags.length)&&!s.mindTheInlineTags.length||!x(B)||Array.isArray(s.mindTheInlineTags)&&s.mindTheInlineTags.length&&x(B)&&!s.mindTheInlineTags.includes(B))||"<"===e[Y]&&O(e,Y,s.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}})||(E=null,k=null,N=null):(E=Y,k=Y,N=null)}}else if(s.lineLengthLimit)if(!P.includes(e[Y])||"<"===e[Y]&&O(e,Y,s.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(e){return!e||!/\w/.test(e)}}))e[Y+1]&&H.includes(e[Y])&&x(B)&&Array.isArray(s.mindTheInlineTags)&&s.mindTheInlineTags.length&&!s.mindTheInlineTags.includes(B)?null!==E&&null!==k&&(E!==k||N&&N.length)||(j.push(Y+1,Y+1,"\n"),d=0):e[Y].trim()&&(e[Y+1]||null!==E&&null!==k&&(E!==k||N&&N.length)&&j.push(E,k,"\n"));else if(null!==E&&null!==k&&(E!==k||N&&N.length)){var ne=N&&N.length?N.length:0;d-(k-E-ne)-1>s.lineLengthLimit||(j.push(E,k,N),d-(k-E-ne)-1===s.lineLengthLimit&&(j.push(Y,Y,"\n"),d=0),E=null,k=null,N=null)}else j.push(Y,Y,"\n"),d=0}if(!l&&!U&&s.removeLineBreaks&&s.lineLengthLimit&&d>=s.lineLengthLimit&&null!==E&&null!==k&&!H.includes(e[Y])&&!P.includes(e[Y])&&!"/".includes(e[Y])&&(d!==s.lineLengthLimit||!e[Y+1]||e[Y+1].trim())){var ie="\n";e[Y+1]&&!e[Y+1].trim()&&d===s.lineLengthLimit&&(ie=N),"\n"===ie&&!e[~-E].trim()&&C(e,E)&&(E=C(e,E)+1),j.push(E,k,ie),d=Y-k,e[Y].length&&(d+=1),E=null,k=null,N=null}if((!l&&"\n"===e[Y]||"\r"===e[Y]&&(!e[Y+1]||e[Y+1]&&"\n"!==e[Y+1]))&&(c=Y,p&&(p=!1),!s.removeLineBreaks&&null!==g&&g<Y&&e[Y+1]&&"\r"!==e[Y+1]&&"\n"!==e[Y+1]&&j.push(g,Y)),e[Y+1]||(y&&null!==_?j.push.apply(j,I({str:e,from:_,to:Y,ifLeftSideIncludesThisThenCropTightly:q,ifRightSideIncludesThisThenCropTightly:$})):g&&"\n"!==e[Y]&&"\r"!==e[Y]?j.push(g,Y+1):g&&("\r"===e[Y]&&"\n"===e[Y+1]||"\n"===e[Y]&&"\r"!==e[Y-1])&&j.push(g,Y)),!l&&v&&v<Y&&e[v]===e[Y]&&(v=null),!l&&!y&&e.startsWith("<pre",Y)&&!W(e[Y+4])){var oe=e.indexOf("</pre",Y+5);oe>0&&(l=oe)}if(!l&&!y&&e.startsWith("<code",Y)&&!W(e[Y+5])){var se=e.indexOf("</code",Y+5);se>0&&(l=se)}if(!l&&e.startsWith("<![CDATA[",Y)){var ae=e.indexOf("]]>",Y+9);ae>0&&(l=ae)}l||y||v||null===F||">"!==e[Y]||("<"===e[A(e,Y)]&&(D=B),F=null,B=null),"<"===e[Y]&&null!==D&&(D=null)}else{if((s.removeIndentations||s.removeLineBreaks)&&Y>0&&e[~-Y]&&!e[~-Y].trim())for(var ue=Y;ue--;)if("\n"===e[ue]||"\r"===e[ue]||e[ue].trim()){ue+1<Y&&j.push(ue+1,Y);break}S=null,l=!1,Y+=8}if(j.current()){var le=s.reportProgressFuncTo-.01*(s.reportProgressFuncTo-s.reportProgressFuncFrom),fe=function(e,t,r){var n,i=0,o=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof e)throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: "+typeof e+", equal to: "+JSON.stringify(e,null,4));if(t&&!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: "+typeof t+", equal to: "+JSON.stringify(t,null,4));if(r&&"function"!=typeof r)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: "+typeof r+", equal to: "+JSON.stringify(r,null,4));if(!t||!t.filter((function(e){return e})).length)return e;var s=(n=Array.isArray(t)&&Number.isInteger(t[0])&&Number.isInteger(t[1])?[Array.from(t)]:Array.from(t)).length,u=0;n.filter((function(e){return e})).forEach((function(e,t){if(r&&(i=Math.floor(u/s*10))!==o&&(o=i,r(i)),!Array.isArray(e))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has "+t+"th element not an array: "+JSON.stringify(e,null,4)+", which is "+typeof e);if(!Number.isInteger(e[0])){if(!Number.isInteger(+e[0])||+e[0]<0)throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has "+t+"th element, array "+JSON.stringify(e,null,0)+". Its first element is not an integer, string index, but "+typeof e[0]+", equal to: "+JSON.stringify(e[0],null,4)+".");n[t][0]=+n[t][0]}if(!Number.isInteger(e[1])){if(!Number.isInteger(+e[1])||+e[1]<0)throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has "+t+"th element, array "+JSON.stringify(e,null,0)+". Its second element is not an integer, string index, but "+typeof e[1]+", equal to: "+JSON.stringify(e[1],null,4)+".");n[t][1]=+n[t][1]}u+=1}));var l=a(n,{progressFn:function(e){r&&(i=10+Math.floor(e/10))!==o&&(o=i,r(i))}}),f=l.length;if(f>0){var h=e.slice(l[f-1][1]);e=l.reduce((function(t,n,s,a){return r&&(i=20+Math.floor(s/f*80))!==o&&(o=i,r(i)),t+e.slice(0===s?0:a[s-1][1],a[s][0])+(a[s][2]||"")}),""),e+=h}return e}(e,j.current(),(function(e){s.reportProgressFunc&&z>=2e3&&(h=Math.floor(le+e/100*(s.reportProgressFuncTo-le)))!==G&&(G=h,s.reportProgressFunc(h))}));j.wipe();var he=fe.length;return{log:{timeTakenInMilliseconds:Date.now()-r,originalLength:z,cleanedLength:he,bytesSaved:Math.max(z-he,0),percentageReducedOfOriginal:z?Math.round(100*Math.max(z-he,0)/z):0},ranges:j.current(),applicableOpts:R,result:fe}}}return{log:{timeTakenInMilliseconds:Date.now()-r,originalLength:z,cleanedLength:z,bytesSaved:0,percentageReducedOfOriginal:0},applicableOpts:R,ranges:[],result:e}},e.defaults=M,e.version="3.0.3",Object.defineProperty(e,"__esModule",{value:!0})}));
